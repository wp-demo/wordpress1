{"version":3,"sources":["ug-theme-tilesgrid.js"],"names":["g_ugFunctions","registerTheme","jQuery","document","ready","UGTheme_tilesgrid","t","this","g_gallery","UniteGalleryMain","g_objGallery","g_objects","g_objWrapper","g_objThumbsGrid","UGThumbsGrid","g_lightbox","UGLightbox","g_functions","UGFunctions","g_objTileDesign","UGTileDesign","g_objBullets","g_objNavWrapper","g_objButtonLeft","g_objButtonRight","g_objPreloader","g_options","theme_gallery_padding","theme_grid_align","theme_navigation_type","theme_arrows_margin_top","theme_space_between_arrows","theme_bullets_margin_top","theme_navigation_align","theme_navigation_offset_hor","theme_bullets_color","theme_auto_open","g_defaults","gallery_width","tile_width","tile_height","grid_num_rows","grid_padding","tile_enable_border","tile_enable_shadow","tile_border_radius","grid_space_between_cols","grid_space_between_rows","grid_space_between_mobile","bullets_space_between","grid_vertical_scroll_ondrag","g_temp","handle","initTheme","gallery","customOptions","extend","modifyOptions","setOptions","setFreestyleMode","getObjects","init","getObjTileDesign","bullets_addclass","getGalleryWidth","galleryWidth","getSize","width","setHtml","UGBullets","numPanes","getNumPanesEstimationByWidth","objOptions","getOptions","addClass","appendHTML","htmlAdd","append","children","css","putHtml","fadeTo","getHeightEstimation","gridHeight","getHeightEstimationByWidth","actualRun","totalHeight","height","initEvents","placeElement","setWidth","run","updateBullets","positionElements","runTheme","objGallerySize","g_objGridSize","gridElement","getElement","galleryHeight","getNumPanes","show","bulletsElement","bulletsWidth","getBulletsWidth","bulletsX","left","getElementRelativePos","sizeBullets","getElementSize","bottom","navX","sizeNav","hide","onTileClick","data","objTile","index","open","updateNumBullets","setActive","onSizeChange","setTimeout","objItem","getItemByTile","onBeforeReqestItems","onLightboxInit","on","events","SIZE_CHANGE","GALLERY_BEFORE_REQUEST_ITEMS","attachBullets","attachNextPaneButton","attachPrevPaneButton","TILE_CLICK","LIGHTBOX_INIT","destroy","off","BULLET_CLICK"],"mappings":"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","file":"unitegallery.tilesgrid.js","sourcesContent":["\nif(typeof g_ugFunctions != \"undefined\")\n\tg_ugFunctions.registerTheme(\"tilesgrid\");\nelse \n\tjQuery(document).ready(function(){g_ugFunctions.registerTheme(\"tilesgrid\")});\n\n\n/**\n * Fixed tiles theme\n */\nfunction UGTheme_tilesgrid(){\n\n\tvar t = this;\n\tvar g_gallery = new UniteGalleryMain(), g_objGallery, g_objects, g_objWrapper; \n\tvar g_objThumbsGrid = new UGThumbsGrid(), g_lightbox = new UGLightbox();\n\tvar g_functions = new UGFunctions(), g_objTileDesign = new UGTileDesign();\n\tvar g_objBullets, g_objNavWrapper, g_objButtonLeft, g_objButtonRight, g_objPreloader;\n\t\n\n\tvar g_options = {\n\t\t\ttheme_gallery_padding: 0,\t\t\t\t//padding from sides of the gallery\n\t\t\ttheme_grid_align: \"center\",\t\t\t\t//grid align\n\t\t\ttheme_navigation_type: \"bullets\",\t\t//bullets, arrows\n\t\t\ttheme_arrows_margin_top: 20,\t\t\t//the space between arrows and grid\n\t\t\ttheme_space_between_arrows: 5,\t\t\t//horizontal space between arrows\n\t\t\ttheme_bullets_margin_top: 40,\t\t\t//the space \n\t\t\ttheme_navigation_align: \"center\",\t\t//center, left, right - horizontal align of the navigation\n\t\t\ttheme_navigation_offset_hor: 0,\t\t\t//horizontal offset of the navigation, according the align\n\t\t\ttheme_bullets_color: \"gray\",\t\t\t//gray, blue, brown, green, red - color of the bullets\n\t\t\ttheme_auto_open:null\t\t\t\t\t//auto open lightbox at start\n\t};\n\t\n\tvar g_defaults = {\n\t\t\tgallery_width: \"100%\",\n\t\t\t\n\t\t\ttile_width: 180,\n\t\t\ttile_height: 150,\n\t\t\t\n\t\t\tgrid_num_rows: 3,\n\t\t\tgrid_padding: 10,\n\t\t\t\n\t\t\ttile_enable_border: true,\n\t\t\ttile_enable_shadow: true,\n\t\t\t\n\t\t\ttile_border_radius: 2,\n\t\t\t\n\t\t\tgrid_space_between_cols: 20,\n\t\t\tgrid_space_between_rows: 20,\n\t\t\tgrid_space_between_mobile: 15,\n\t\t\t\n\t\t\tbullets_space_between: 12,\n\t\t\tgrid_vertical_scroll_ondrag: true\n\t};\n\t\n\t\n\t//temp variables\n\tvar g_temp = {\n\t\t\thandle: null\t\t//interval handle\n\t};\n\t\n\t\n\t/**\n\t * Init the theme\n\t */\n\tfunction initTheme(gallery, customOptions){\n\t\t\n\t\tg_gallery = gallery;\n\t\t\n\t\t//set default options\n\t\tg_options = jQuery.extend(g_options, g_defaults);\n\t\t\n\t\t//set custom options\n\t\tg_options = jQuery.extend(g_options, customOptions);\n\t\t\n\t\tmodifyOptions();\n\t\t\n\t\t//set gallery options\n\t\tg_gallery.setOptions(g_options);\n\t\t\n\t\tg_gallery.setFreestyleMode();\n\t\t\n\t\tg_objects = gallery.getObjects();\n\t\t\n\t\t//get some objects for local use\n\t\tg_objGallery = jQuery(gallery);\t\t\n\t\tg_objWrapper = g_objects.g_objWrapper;\n\t\t\n\t\t//init objects\n\t\tg_lightbox.init(gallery, g_options);\n\t\t\n\t\tg_objThumbsGrid.init(gallery, g_options, true);\n\n\t\tg_objTileDesign = g_objThumbsGrid.getObjTileDesign();\n\t}\n\t\n\t\n\t/**\n\t * modify options\n\t */\n\tfunction modifyOptions(){\n\t\t\n\t\tif(!g_options.grid_num_rows)\n\t\t\tg_options.grid_num_rows = 9999;\n\t\t\n\t\tg_options.bullets_addclass = \"ug-bullets-\"+g_options.theme_bullets_color;\n\t\t\n\t}\n\t\n\t\n\t/**\n\t * get gallery width available for the grid\n\t */\n\tfunction getGalleryWidth(){\n\t\tvar galleryWidth = g_gallery.getSize().width;\n\t\tgalleryWidth -= g_options.theme_gallery_padding * 2;\n\t\t\n\t\treturn(galleryWidth);\n\t}\n\t\n\t\n\t/**\n\t * set gallery html elements\n\t */\n\tfunction setHtml(){\n\t\t\n\t\t//init bullets (only after panes size estimation)\t\t\t\t\n\t\tif(g_options.theme_navigation_type == \"bullets\"){\n\t\t\t\n\t\t\tg_objBullets = new UGBullets();\n\t\t\t\n\t\t\tvar galleryWidth = getGalleryWidth();\n\t\t\t\n\t\t\tvar numPanes = g_objThumbsGrid.getNumPanesEstimationByWidth(galleryWidth);\n\t\t\t\n\t\t\tvar objOptions = g_gallery.getOptions();\n\t\t\tg_objBullets.init(g_gallery, objOptions, numPanes);\t\t\t\n\t\t\t\n\t\t}\n\t\t\n\t\t//add html elements\n\t\tg_objWrapper.addClass(\"ug-theme-tilesfixed\");\n\t\t\n\t\tg_objThumbsGrid.setHtml();\n\t\t\n\t\tif(g_objBullets)\n\t\t\tg_objBullets.appendHTML(g_objWrapper);\n\t\t\n\t\tif(g_options.theme_navigation_type == \"arrows\"){\n\t\t\tvar htmlAdd = \"<div class='ug-tile-navigation-wrapper' style='position:absolute'>\";\n\t\t\thtmlAdd += \"<div class='ug-button-tile-navigation ug-button-tile-left'></div>\";\n\t\t\thtmlAdd += \"<div class='ug-button-tile-navigation ug-button-tile-right'></div>\";\n\t\t\thtmlAdd += \"</div>\";\n\t\t\tg_objWrapper.append(htmlAdd);\n\t\t\t\n\t\t\tg_objNavWrapper = g_objWrapper.children(\".ug-tile-navigation-wrapper\");\n\t\t\t\n\t\t\tg_objButtonLeft = g_objNavWrapper.children(\".ug-button-tile-left\");\n\t\t\tg_objButtonRight = g_objNavWrapper.children(\".ug-button-tile-right\");\n\t\t\t\n\t\t\tg_objButtonLeft.css(\"margin-right\",g_options.theme_space_between_arrows+\"px\");\n\t\t}\n\t\t\n\t\tg_lightbox.putHtml();\n\t\t\n\t\t//add preloader\n\t\tg_objWrapper.append(\"<div class='ug-tiles-preloader ug-preloader-trans'></div>\");\n\t\tg_objPreloader = g_objWrapper.children(\".ug-tiles-preloader\");\n\t\tg_objPreloader.fadeTo(0,0);\n\t\t\n\t}\n\t\n\t\n\t/**\n\t * get height estimation by width\n\t */\n\tfunction getHeightEstimation(galleryWidth){\n\t\t\n\t\t//put the placeholder before run. check the width\n\t\tvar gridHeight = g_objThumbsGrid.getHeightEstimationByWidth(galleryWidth);\n\t\tvar numPanes = g_objThumbsGrid.getNumPanesEstimationByWidth(galleryWidth);\n\t\t\n\t\t//add navigation height\n\t\tif(numPanes > 1){\n\t\t\tif(g_options.theme_navigation_type == \"arrows\"){\n\t\t\t\tgridHeight += g_options.theme_arrows_margin_top;\n\t\t\t\tgridHeight += 30;\t//arrows size\n\t\t\t}\n\t\t\telse{\n\t\t\t\tgridHeight += g_options.theme_bullets_margin_top;\n\t\t\t\tgridHeight += 15;\t//bullets size\n\t\t\t}\n\t\t\t\t\n\t\t}\n\t\n\t\treturn(gridHeight);\n\t}\n\t\n\t\n\t/**\n\t * actually run the theme\n\t */\n\tfunction actualRun(){\n\t\t\n\t\t//get gallery width, set estimation height and get width again.\n\t\tvar galleryWidth = getGalleryWidth();\n\t\tvar totalHeight = getHeightEstimation(galleryWidth);\n\t\tg_objWrapper.height(totalHeight);\n\t\tvar galleryWidth = getGalleryWidth();\n\n\t\tinitEvents();\n\t\t\n\t\t//place preloader\n\t\tg_functions.placeElement(g_objPreloader, g_options.theme_grid_align, 50);\n\t\t\n\t\tg_objThumbsGrid.setWidth(galleryWidth);\n\t\t\n\t\tg_objThumbsGrid.run();\n\t\t\t\t\n\t\tg_lightbox.run();\n\t\t\n\t\tupdateBullets();\n\t\t\n\t\tpositionElements();\n\t\t\n\t\t\n\t}\n\n\t\n\t/**\n\t * run the theme\n\t */\n\tfunction runTheme(){\n\t\t\n\t\tsetHtml();\n\t\tactualRun();\n\t\t\n\t}\n\t\n\t\n\t/**\n\t * position elements\n\t */\n\tfunction positionElements(){\n\t\t\n\t\tvar objGallerySize = g_gallery.getSize();\n\t\tvar g_objGridSize = g_objThumbsGrid.getSize();\n\t\t\n\t\tvar gridElement = g_objThumbsGrid.getElement();\n\t\tg_functions.placeElement(gridElement, g_options.theme_grid_align, 0);\n\t\t\n\t\tg_objGridSize = g_objThumbsGrid.getSize();\n\t\t\n\t\tvar galleryHeight = g_objGridSize.height;\n\t\t\n\t\tvar numPanes = g_objThumbsGrid.getNumPanes();\n\n\t\tif(numPanes > 1){\n\t\t\t\n\t\t\t//position bullets\n\t\t\tif(g_objBullets){\n\t\t\t\t\n\t\t\t\tg_objBullets.getElement().show();\n\t\t\t\t\n\t\t\t\tvar bulletsElement = g_objBullets.getElement();\n\t\t\t\tvar bulletsWidth = g_objBullets.getBulletsWidth();\n\t\t\t\t\n\t\t\t\t//get bullets offset x (relative to the grid)\n\t\t\t\tvar bulletsX = g_objGridSize.left + g_functions.getElementRelativePos(bulletsWidth, g_options.theme_navigation_align, g_options.theme_navigation_offset_hor, gridElement);\n\t\t\t\t\n\t\t\t\tg_functions.placeElement(bulletsElement, bulletsX, galleryHeight + g_options.theme_bullets_margin_top);\n\t\t\t\t\n\t\t\t\tvar sizeBullets = g_functions.getElementSize(bulletsElement);\n\t\t\t\tgalleryHeight = sizeBullets.bottom;\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\t//position buttons\n\t\t\tif(g_objNavWrapper){\n\t\t\t\t\n\t\t\t\tg_objNavWrapper.show();\n\t\t\t\t\n\t\t\t\tvar navX = g_objGridSize.left + g_functions.getElementRelativePos(g_objNavWrapper, g_options.theme_navigation_align, g_options.theme_navigation_offset_hor, gridElement);\n\t\t\t\t\t\t\t\t\n\t\t\t\tg_functions.placeElement(g_objNavWrapper, navX, galleryHeight + g_options.theme_arrows_margin_top);\n\t\t\t\t\n\t\t\t\tvar sizeNav = g_functions.getElementSize(g_objNavWrapper);\n\t\t\t\t\n\t\t\t\tgalleryHeight = sizeNav.bottom;\n\t\t\t}\n\t\t\t\n\t\t}else{\t//if only one pame, hide the navigation\n\t\t\t\n\t\t\tif(g_objNavWrapper)\n\t\t\t\tg_objNavWrapper.hide();\n\t\t\t\n\t\t\tif(g_objBullets)\n\t\t\t\tg_objBullets.getElement().hide();\n\t\t}\n\t\t\n\t\tg_objWrapper.height(galleryHeight);\n\t}\n\t\t\n\t\n\t/**\n\t * on tile click - open lightbox\n\t */\n\tfunction onTileClick(data, objTile){\n\t\t\n\t\tobjTile = jQuery(objTile);\t\t\n\t\tvar index = objTile.index();\n\t\t\n\t\tg_lightbox.open(index);\n\t}\n\n\t\n\t/**\n\t * update the bullets\n\t */\n\tfunction updateBullets(){\n\t\t\n\t\t//update bullets\n\t\tif(!g_objBullets)\n\t\t\treturn(false);\n\t\t\n\t\tnumPanes = g_objThumbsGrid.getNumPanes();\n\t\tg_objBullets.updateNumBullets(numPanes);\n\t\tg_objBullets.setActive(0);\n\t}\n\t\n\t\n\t/**\n\t * on gallery size change - resize the theme.\n\t */\n\tfunction onSizeChange(){\n\t\t\n\t\tvar galleryWidth = getGalleryWidth();\n\t\t\n\t\tg_objThumbsGrid.setWidth(galleryWidth);\n\t\tg_objThumbsGrid.run();\n\t\t\n\t\tupdateBullets();\n\t\t\n\t\tsetTimeout(positionElements, 500);\n\t\t\n\t}\n\n\n\t/**\n\t * on tile click - open lightbox\n\t */\n\tfunction onTileClick(data, objTile){\n\t\t\n\t\tobjTile = jQuery(objTile);\t\t\n\t\t\n\t\tvar objItem = g_objTileDesign.getItemByTile(objTile);\n\t\tvar index = objItem.index;\t\t\n\t\t\t\n\t\tg_lightbox.open(index);\n\t}\n\t\n\t/**\n\t * before items request: hide items, show preloader\n\t */\n\tfunction onBeforeReqestItems(){\n\t\t\n\t\tif(g_objNavWrapper)\n\t\t\tg_objNavWrapper.hide();\n\t\n\t\tif(g_objThumbsGrid)\n\t\t\tg_objThumbsGrid.getElement().hide();\n\t\t\n\t\t//show preloader:\n\t\tg_objPreloader.fadeTo(0,1);\n\t}\n\t\n\t\n\t/**\n\t * open lightbox at start if needed\n\t */\n\tfunction onLightboxInit(){\n\n\t\tif(g_options.theme_auto_open !== null){\n\t\t\tg_lightbox.open(g_options.theme_auto_open);\n\t\t\tg_options.theme_auto_open = null;\n\t\t}\n\t\t\n\t}\n\t\n\t\n\t/**\n\t * init buttons functionality and events\n\t */\n\tfunction initEvents(){\n\t\t\n\t\tg_objGallery.on(g_gallery.events.SIZE_CHANGE, onSizeChange);\n\t\tg_objGallery.on(g_gallery.events.GALLERY_BEFORE_REQUEST_ITEMS, onBeforeReqestItems);\n\t\t\n\t\tif(g_objBullets)\n\t\t\tg_objThumbsGrid.attachBullets(g_objBullets);\t\t\n\t\t\n\t\tif(g_objNavWrapper){\n\t\t\tg_objThumbsGrid.attachNextPaneButton(g_objButtonRight);\n\t\t\tg_objThumbsGrid.attachPrevPaneButton(g_objButtonLeft);\n\t\t}\n\t\t\n\t\tjQuery(g_objTileDesign).on(g_objTileDesign.events.TILE_CLICK, onTileClick);\n\t\t\n\t\tjQuery(g_lightbox).on(g_lightbox.events.LIGHTBOX_INIT, onLightboxInit);\n\t}\n\t\n\t\n\t/**\n\t * destroy the theme\n\t */\n\tthis.destroy = function(){\n\t\t\t\t\n\t\tg_objGallery.off(g_gallery.events.SIZE_CHANGE);\n\t\tg_objGallery.off(g_gallery.events.GALLERY_BEFORE_REQUEST_ITEMS);\n\n\t\tjQuery(g_objTileDesign).off(g_objTileDesign.events.TILE_CLICK);\n\t\t\n\t\tif(g_objBullets)\n\t\t\tjQuery(g_objBullets).off(g_objBullets.events.BULLET_CLICK);\n\n\t\tjQuery(g_lightbox).off(g_lightbox.events.LIGHTBOX_INIT);\n\t\t\n\t\tg_objThumbsGrid.destroy();\n\t\tg_lightbox.destroy();\n\t\t\n\t}\n\n\t\n\t/**\n\t * run the theme setting\n\t */\n\tthis.run = function(){\n\t\t\n\t\trunTheme();\n\t}\n\t\n\t\n\t/**\n\t * init \n\t */\n\tthis.init = function(gallery, customOptions){\n\t\t\t\t\n\t\tinitTheme(gallery, customOptions);\n\t\t\n\t}\n\t\n\t\n}\n"],"sourceRoot":"scripts/"}