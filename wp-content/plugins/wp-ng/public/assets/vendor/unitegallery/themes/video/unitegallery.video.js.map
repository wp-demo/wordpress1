{"version":3,"sources":["ug-theme-video.js"],"names":["g_ugFunctions","registerTheme","jQuery","document","ready","UGTheme_video","t","this","g_gallery","UniteGalleryMain","g_objGallery","g_objects","g_objWrapper","g_objPlayer","UGVideoPlayer","g_objButtonsPanel","g_buttonPrev","g_buttonNext","g_functions","UGFunctions","g_objPanel","UGStripPanel","g_options","theme_skin","theme_autoplay","theme_next_video_onend","theme_disable_panel_timeout","g_defaults","gallery_width","slider_controls_always_on","strippanel_enable_handle","strippanel_enable_buttons","strip_space_between_thumbs","strippanel_padding_top","strippanel_padding_bottom","strippanel_padding_left","strippanel_padding_right","strippanel_vertical_type","g_temp","panel_position","isVertical","putButtonsPanel","isFirstChange","playerRatio","initTheme","gallery","customOptions","extend","modifyOptions","setOptions","setFuncCustomHeight","getHeightByWidthOnResize","init","setOrientation","setCustomThumbs","setHtmlThumb","setDisabledAtStart","galleryID","getGalleryID","getObjects","initAndPlaceElements","initThumbsPanel","placeThumbsPanel","placePlayer","resizeAndPlaceButtonsPanel","runTheme","setHtml","initEvents","show","addClass","html","append","children","objThumbWrapper","objItem","showDesc","showIcon","urlThumb","title","description","objGallerySize","getSize","setWidth","width","setHeight","height","run","objPanelElement","getElement","placeElement","gallerySize","getElementSize","panelSize","playerWidth","playerHeight","playerTop","playerLeft","right","left","bottom","top","is","buttonsPanelSize","buttonsHeight","setSize","objPlayer","getObject","playerObj","playerSize","objSize","objPanelSize","thumbsHeight","newWidth","newHeight","onSizeChange","onItemChange","isAutoplay","selectedItem","getSelectedItem","type","playYoutube","videoid","playVimeo","playHtml5Video","videoogv","videowebm","videomp4","urlImage","playWistia","playSoundCloud","trackid","onVideoEnded","nextItem","on","events","SIZE_CHANGE","ITEM_CHANGE","VIDEO_ENDED","setButtonMobileReady","setPrevButton","setNextButton","destroy","off","destroyButton"],"mappings":"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","file":"unitegallery.video.js","sourcesContent":["\nif(typeof g_ugFunctions != \"undefined\")\n\tg_ugFunctions.registerTheme(\"video\");\nelse \n\tjQuery(document).ready(function(){g_ugFunctions.registerTheme(\"video\")});\n\n\n/**\n * Video gallery theme\n * themes: right-thumb | right-title-only | right-no-thumb | bottom-text\n */\nfunction UGTheme_video(){\n\n\tvar t = this;\n\tvar g_gallery = new UniteGalleryMain(), g_objGallery, g_objects, g_objWrapper; \n\tvar g_objPlayer = new UGVideoPlayer(), g_objButtonsPanel, g_buttonPrev, g_buttonNext;\n\tvar g_functions = new UGFunctions();\n\tvar g_objPanel = new UGStripPanel();\n\t\n\n\t//theme options\n\tvar g_options = {\n\t\t\ttheme_skin: \"right-thumb\",\t\t\t//right-thumb | right-title-only | right-no-thumb | bottom-thumb\n\t\t\ttheme_autoplay: false,\t\t\t\t//autoplay videos at start.  true / false. Don't working on mobiles.\n\t\t\ttheme_next_video_onend:false, \t\t//go to next video automatically when the video ends\n\t\t\ttheme_disable_panel_timeout: 2500\t//How much time the right panel will be disabled. in ms\n\t};\n\t\n\t//global defaults\n\tvar g_defaults = {\n\t\t\tgallery_width:1100,\n\t\t\tslider_controls_always_on:true,\n\t\t\tstrippanel_enable_handle:false,\n\t\t\tstrippanel_enable_buttons: false,\n\t\t\tstrip_space_between_thumbs: 0,\n\t\t\tstrippanel_padding_top: 0,\n\t\t\tstrippanel_padding_bottom: 0,\n\t\t\tstrippanel_padding_left: 0,\n\t\t\tstrippanel_padding_right: 0,\n\t\t\tstrippanel_vertical_type:true\n\t};\n\t\t\n\t\n\t//temp variables\n\tvar g_temp = {\n\t\t\tpanel_position:\"right\",\n\t\t\tisVertical: true,\n\t\t\tputButtonsPanel: false,\n\t\t\tisFirstChange: true,\n\t\t\tplayerRatio:null,\n\t};\n\t\n\t\n\t/**\n\t * Init the theme\n\t */\n\tfunction initTheme(gallery, customOptions){\n\t\t\n\t\tg_gallery = gallery;\n\t\t\n\t\tg_options = jQuery.extend(g_options, g_defaults);\n\t\t\n\t\tg_options = jQuery.extend(g_options, customOptions);\n\t\tg_options.strippanel_vertical_type = true;\n\t\t\n\t\tmodifyOptions();\n\t\t\n\t\t//set gallery options\n\t\tg_gallery.setOptions(g_options);\n\t\tif(g_temp.isVertical == false)\n\t\t\tg_gallery.setFuncCustomHeight(getHeightByWidthOnResize);\n\t\t\n\t\t//set panel options\t\t\n\t\tg_objPanel.init(gallery, g_options);\t\t\t\n\t\tg_objPanel.setOrientation(g_temp.panel_position);\n\t\t\n\t\tg_objPanel.setCustomThumbs(setHtmlThumb);\n\t\t\n\t\tg_objPanel.setDisabledAtStart(g_options.theme_disable_panel_timeout);\n\t\t\n\t\tvar galleryID = g_gallery.getGalleryID();\n\t\t\t\t\n\t\t//set player options\n\t\tg_objPlayer.init(g_options, true, galleryID);\n\t\t\n\t\tg_objects = gallery.getObjects();\t\t\n\t\tg_objGallery = jQuery(gallery);\n\t\tg_objWrapper = g_objects.g_objWrapper;\n\t\t\n\t}\n\t\n\t\n\t/**\n\t * modify options\n\t */\n\tfunction modifyOptions(){\n\t\t\n\t\tswitch(g_options.theme_skin){\n\t\t\tcase \"right-no-thumb\":\n\t\t\tcase \"right-title-only\":\n\t\t\t\tg_temp.putButtonsPanel = true;\n\t\t\tbreak;\n\t\t\tcase \"bottom-text\":\n\t\t\t\tg_temp.panel_position = \"bottom\";\t\t\t\t\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\t//set isVertical\n\t\tswitch(g_temp.panel_position){\n\t\t\tcase \"top\":\n\t\t\tcase \"bottom\":\n\t\t\t\tg_temp.isVertical = false;\n\t\t\t\tg_options.strippanel_vertical_type = false;\n\t\t\tbreak;\n\t\t}\n\t\t\n\t}\n\t\n\t\n\t/**\n\t * init all the theme's elements and set them to their places \n\t * according gallery's dimentions.\n\t * this function should work on resize too.\n\t */\n\tfunction initAndPlaceElements(){\n\t\t\t\t\n\t\t//place objects:\n\t\tinitThumbsPanel();\n\t\tplaceThumbsPanel();\n\t\tplacePlayer();\n\t\t\n\t\tif(g_objButtonsPanel)\n\t\t\tresizeAndPlaceButtonsPanel();\n\t\t\n\t}\n\t\n\t\n\t/**\n\t * run the theme\n\t */\n\tfunction runTheme(){\n\t\t\n\t\tsetHtml();\n\t\t\n\t\tinitAndPlaceElements();\n\t\t\n\t\tinitEvents();\n\t\t\n\t\tg_objPlayer.show();\n\t\t\n\t}\n\t\n\t\n\t\n\t\n\t/**\n\t * set gallery html elements\n\t */\n\tfunction setHtml(){\n\t\t\t\t\n\t\t//add html elements\n\t\tg_objWrapper.addClass(\"ug-theme-video ug-videoskin-\"+g_options.theme_skin);\n\t\t\n\t\tg_objPanel.setHtml();\n\t\tg_objPlayer.setHtml(g_objWrapper);\n\t\t\n\t\t//add buttons panel\n\t\tif(g_temp.putButtonsPanel == true){\n\t\t\t\t\t\t\n\t\t\tvar html = \"<div class='ug-video-buttons-panel'>\";\n\t\t\thtml += \"<div href='javascript:void(0)' class='ug-button-prev-video'></div>\"\n\t\t\thtml += \"<div href='javascript:void(0)' class='ug-button-next-video'></div>\"\n\t\t\thtml += \"</div>\"\n\t\t\t\n\t\t\tg_objWrapper.append(html);\n\t\t\t\n\t\t\tg_objButtonsPanel = g_objWrapper.children(\".ug-video-buttons-panel\");\n\t\t\tg_buttonPrev = g_objButtonsPanel.children(\".ug-button-prev-video\");\n\t\t\tg_buttonNext = g_objButtonsPanel.children(\".ug-button-next-video\");\n\t\t\t\t\t\t\n\t\t}\n\t\t\n\t}\n\t\n\t\t\n\t\n\t/**\n\t * custom function foe drawing thumb\n\t */\n\tfunction setHtmlThumb(objThumbWrapper, objItem){\n\n\t\tvar showDesc = true;\n\t\tvar showIcon = false;\n\t\t\n\t\tswitch(g_options.theme_skin){\n\t\t\tcase \"right-title-only\":\n\t\t\t\tshowDesc = false;\n\t\t\tbreak;\n\t\t\tcase \"right-thumb\":\n\t\t\t\tshowIcon = true;\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\tvar html = \"<div class='ug-thumb-inner'>\";\n\n\t\tif(showIcon == true){\n\t\t\thtml += \"<div class='ug-thumb-icon' style='background-image:url(\\\"\"+objItem.urlThumb+\"\\\")'></div>\";\n\t\t\thtml += \"<div class='ug-thumb-right'>\";\n\t\t}\n\t\t\t\n\t\thtml += \"<div class='ug-thumb-title'>\" + objItem.title + \"</div>\";\n\t\t\n\t\tif(showDesc == true)\n\t\t\thtml += \"<div class='ug-thumb-desc'>\" + objItem.description + \"</div>\";\n\t\t\n\t\tif(showIcon == true)\n\t\t\thtml += \"</div>\";\t//thumb right end\n\t\t\n\t\thtml += \"</div>\";\n\t\t\n\t\tobjThumbWrapper.html(html);\n\t\n\t}\n\t\n\t\n\t/**\n\t * init size of the thumbs panel\n\t */\n\tfunction initThumbsPanel(){\n\t\t\n\t\t//set size:\n\t\tvar objGallerySize = g_gallery.getSize();\n\n\t\tif(g_temp.isVertical == false)\t\t\t\n\t\t\tg_objPanel.setWidth(objGallerySize.width);\n\t\telse\n\t\t\tg_objPanel.setHeight(objGallerySize.height);\n\t\t\n\t\tg_objPanel.run();\n\t\t\n\t}\n\t\n\t\n\t/**\n\t * place thumbs panel according the settings\n\t */\n\tfunction placeThumbsPanel(){\n\t\t\t\n\t\tvar objPanelElement = g_objPanel.getElement();\n\t\t\n\t\tswitch(g_temp.panel_position){\n\t\t\tdefault:\n\t\t\tcase \"right\":\n\t\t\t\tg_functions.placeElement(objPanelElement, \"right\", 0);\n\t\t\tbreak;\n\t\t\tcase \"bottom\":\n\t\t\t\tg_functions.placeElement(objPanelElement, 0, \"bottom\");\n\t\t\tbreak;\n\t\t}\n\t\t\n\t} \n\t\n\t\n\t\n\t/**\n\t * place the player according the thumbs panel size and position\n\t */\n\tfunction placePlayer(){\n\t\t\n\t\tvar gallerySize = g_functions.getElementSize(g_objWrapper);\n\t\tvar panelSize = g_objPanel.getSize();\t\t\t\n\t\t\n\t\tvar playerWidth = gallerySize.width;\n\t\tvar playerHeight = gallerySize.height;\n\t\tvar playerTop = 0;\n\t\tvar playerLeft = 0;\n\t\t\n\t\tif(g_objPanel){\n\t\t\t\n\t\t\tvar panelSize = g_objPanel.getSize();\n\t\t\t\n\t\t\tswitch(g_temp.panel_position){\n\t\t\t\tcase \"left\":\n\t\t\t\t\tplayerLeft = panelSize.right;\n\t\t\t\t\tplayerWidth = gallerySize.width - panelSize.right;\t\n\t\t\t\tbreak;\n\t\t\t\tcase \"right\":\n\t\t\t\t\tplayerWidth = panelSize.left;\t\t\t\t\t\n\t\t\t\tbreak;\n\t\t\t\tcase \"top\":\n\t\t\t\t\tplayerHeight = gallerySize.height - panelSize.bottom;\n\t\t\t\t\tplayerTop = panelSize.bottom;\n\t\t\t\tbreak;\n\t\t\t\tcase \"bottom\":\n\t\t\t\t\tplayerHeight = panelSize.top;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t\t\n\t\tif(g_objButtonsPanel && g_objButtonsPanel.is(\":visible\")){\n\t\t\tvar buttonsPanelSize = g_functions.getElementSize(g_objButtonsPanel);\n\t\t\tvar buttonsHeight = buttonsPanelSize.height;\n\t\t\tplayerHeight -= buttonsHeight;\n\t\t}\n\t\t\n\t\t//set size\n\t\tg_objPlayer.setSize(playerWidth, playerHeight);\n\t\t\n\t\t//place\n\t\tvar objPlayer = g_objPlayer.getObject();\n\t\tg_functions.placeElement(objPlayer, playerLeft, playerTop);\n\t\t\n\t\t//remember player ratio\n\t\tif(g_temp.playerRatio == null)\n\t\t\tg_temp.playerRatio = playerHeight / playerWidth;\n\t\t\n\t}\n\n\t\n\t/**\n\t * resize and place buttons panel\n\t */\n\tfunction resizeAndPlaceButtonsPanel(){\n\t\t\n\t\tif(!g_objButtonsPanel)\n\t\t\treturn(false);\n\t\t\n\t\tif(g_objButtonsPanel.is(\":visible\") == false)\n\t\t\treturn(false);\n\t\t\n\t\tvar playerObj = g_objPlayer.getObject();\n\t\tvar playerSize = g_functions.getElementSize(playerObj);\n\t\t\n\t\tg_objButtonsPanel.width(playerSize.width);\n\t\t\n\t\t//position to the bottom of the gallery\n\t\tg_functions.placeElement(g_objButtonsPanel, 0, \"bottom\");\n\t}\n\t\n\t\n\t/**\n\t * get height by width and raetio on resize\n\t */\n\tfunction getHeightByWidthOnResize(objSize){\n\t\t\n\t\tinitThumbsPanel();\n\t\tvar objPanelSize = g_objPanel.getSize();\n\t\tvar thumbsHeight = objPanelSize.height;\n\t\tvar newWidth = objSize.width;\n\t\t\n\t\tvar playerHeight = g_temp.playerRatio * newWidth;\n\t\tvar newHeight = playerHeight + thumbsHeight;\n\t\t\n\t\treturn(newHeight);\n\t}\n\t\n\t\n\t/**\n\t * on gallery size change - resize the theme.\n\t */\n\tfunction onSizeChange(){\n\t\t\n\t\tinitAndPlaceElements();\n\t}\n\t\n\t\n\t/**\n\t * on item change function\n\t */\n\tfunction onItemChange(){\n\t\t\n\t\tvar isAutoplay = g_options.theme_autoplay;\n\t\t\n\t\tvar selectedItem = g_gallery.getSelectedItem();\n\t\t\n\t\tswitch(selectedItem.type){\n\t\t\tcase \"youtube\":\n\t\t\t\tg_objPlayer.playYoutube(selectedItem.videoid, isAutoplay);\n\t\t\tbreak;\n\t\t\tcase \"vimeo\":\n\t\t\t\tg_objPlayer.playVimeo(selectedItem.videoid, isAutoplay);\n\t\t\tbreak;\n\t\t\tcase \"html5video\":\n\t\t\t\tg_objPlayer.playHtml5Video(selectedItem.videoogv, selectedItem.videowebm, selectedItem.videomp4, selectedItem.urlImage, isAutoplay);\n\t\t\tbreak;\n\t\t\tcase \"wistia\":\n\t\t\t\tg_objPlayer.playWistia(selectedItem.videoid, isAutoplay);\n\t\t\tbreak;\t\t\t\n\t\t\tcase \"soundcloud\":\n\t\t\t\tg_objPlayer.playSoundCloud(selectedItem.trackid, isAutoplay);\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\tg_temp.isFirstChange = false;\n\t\t\n\t}\n\t\n\t\n\t/**\n\t * on video ended playing\n\t */\n\tfunction onVideoEnded(){\n\t\t\n\t\tif(g_options.theme_next_video_onend == true)\n\t\t\tg_gallery.nextItem();\n\t\t\t\t\n\t}\n\t\n\t\n\t/**\n\t * init buttons functionality and events\n\t */\n\tfunction initEvents(){\n\t\t\n\t\tg_objGallery.on(g_gallery.events.SIZE_CHANGE, onSizeChange);\n\t\tg_objGallery.on(g_gallery.events.ITEM_CHANGE, onItemChange);\n\t\t\n\t\tg_objPlayer.initEvents();\n\t\t\n\t\tif(g_options.theme_next_video_onend == true)\n\t\t\tjQuery(g_objPlayer).on(g_objPlayer.events.VIDEO_ENDED, onVideoEnded);\n\t\t\n\t\t//init buttons panel events:\t\t\n\t\tif(g_objButtonsPanel){\n\t\t\t\n\t\t\tg_functions.setButtonMobileReady(g_buttonPrev);\n\t\t\tg_gallery.setPrevButton(g_buttonPrev);\n\t\t\t\n\t\t\tg_functions.setButtonMobileReady(g_buttonNext);\n\t\t\tg_gallery.setNextButton(g_buttonNext);\n\t\t\t\t\t\t\n\t\t}\n\t\t\n\t}\n\t\n\t/**\n\t * destroy the theme\n\t */\n\tthis.destroy = function(){\n\t\t\n\t\tg_objGallery.off(g_gallery.events.SIZE_CHANGE);\n\t\tg_objGallery.off(g_gallery.events.ITEM_CHANGE);\n\t\tg_objPlayer.destroy();\n\t\tif(g_objButtonsPanel){\n\t\t\tg_functions.destroyButton(g_buttonPrev);\n\t\t\tg_functions.destroyButton(g_buttonNext);\n\t\t}\n\t\t\n\t\tif(g_options.theme_next_video_onend == true)\n\t\t\tjQuery(g_objPlayer).off(g_objPlayer.events.VIDEO_ENDED);\n\t\t\n\t\tif(g_objPanel)\n\t\t\tg_objPanel.destroy();\n\t}\n\t\n\t\n\t/**\n\t * run the theme setting\n\t */\n\tthis.run = function(){\n\t\t\n\t\trunTheme();\n\t}\n\t\n\t\n\t/**\n\t * init \n\t */\n\tthis.init = function(gallery, customOptions){\n\t\t\t\t\n\t\tinitTheme(gallery, customOptions);\n\t}\n\t\n\t\n}\n\n"],"sourceRoot":"scripts/"}