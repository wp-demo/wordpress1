function UGTheme_carousel(){var a,o,u,s,i,l,r,g,_=new UniteGalleryMain,h=new UGLightbox,c=new UGCarousel,v=new UGFunctions,d=new UGTileDesign,m=new UG_API,f={theme_gallery_padding:0,theme_carousel_align:"center",theme_carousel_offset:0,theme_enable_navigation:!0,theme_navigation_position:"bottom",theme_navigation_enable_play:!0,theme_navigation_align:"center",theme_navigation_offset_hor:0,theme_navigation_margin:20,theme_space_between_arrows:5},p={gallery_width:"100%",tile_width:160,tile_height:160,tile_enable_border:!0,tile_enable_outline:!0,carousel_vertical_scroll_ondrag:!0};function y(){var e=_.getSize().width;return e-=2*f.theme_gallery_padding}function e(){var e,t=(e=c.getEstimatedHeight(),s&&(e+=s.height()+f.theme_navigation_margin),e);u.height(t);var n=y();!function(){s&&(c.setScrollLeftButton(l),c.setScrollRightButton(i),r&&c.setPlayPauseButton(r));a.on(_.events.SIZE_CHANGE,w),a.on(_.events.GALLERY_BEFORE_REQUEST_ITEMS,T),jQuery(d).on(d.events.TILE_CLICK,b),a.on(m.events.API_INIT_FUNCTIONS,S)}(),c.setMaxWidth(n),c.run(),h.run(),E()}function t(){!function(){if(u.addClass("ug-theme-carousel"),c.setHtml(u),1==f.theme_enable_navigation){var e="<div class='ug-tile-navigation-wrapper' style='position:absolute'>";e+="<div class='ug-button-tile-navigation ug-button-tile-left'></div>",1==f.theme_navigation_enable_play&&(e+="<div class='ug-button-tile-navigation ug-button-tile-play'></div>"),e+="<div class='ug-button-tile-navigation ug-button-tile-right'></div>",e+="</div>",u.append(e),s=u.children(".ug-tile-navigation-wrapper"),i=s.children(".ug-button-tile-left"),l=s.children(".ug-button-tile-right"),i.css("margin-right",f.theme_space_between_arrows+"px"),1==f.theme_navigation_enable_play&&(r=s.children(".ug-button-tile-play")).css("margin-right",f.theme_space_between_arrows+"px")}h.putHtml(),u.append("<div class='ug-tiles-preloader ug-preloader-trans'></div>"),(g=u.children(".ug-tiles-preloader")).fadeTo(0,0)}(),e()}function E(){var e=c.getElement(),t=v.getElementSize(e),n=0;if(s){var i=v.getElementSize(s);n=i.height}var a=t.height;0<n&&(a+=f.theme_navigation_margin+n);var o=0;if(s){var l=t.height+f.theme_navigation_margin;"top"==f.theme_navigation_position&&(o=i.height+f.theme_navigation_margin,l=0)}v.placeElement(e,f.theme_carousel_align,o,f.theme_carousel_offset,0);t=v.getElementSize(e);if(s){var r=t.left+v.getElementRelativePos(s,f.theme_navigation_align,f.theme_navigation_offset_hor,e);v.placeElement(s,r,l)}u.height(a),v.placeElement(g,"center",50)}function b(e,t){t=jQuery(t);var n=d.getItemByTile(t).index;h.open(n)}function w(){var e=y();c.setMaxWidth(e),c.run(),E()}function T(){c.stopAutoplay(),c.getElement().hide(),s&&s.hide(),g.fadeTo(0,1)}function S(e,t){t.carouselStartAutoplay=function(){c.startAutoplay()},t.carouselStopAutoplay=function(){c.stopAutoplay()},t.carouselPause=function(){c.pauseAutoplay()},t.carouselUnpause=function(){c.unpauseAutoplay()},t.scrollLeft=function(e){c.scrollLeft(e)},t.scrollRight=function(e){c.scrollRight(e)}}this.destroy=function(){s&&(v.destroyButton(l),v.destroyButton(i),r&&v.destroyButton(r)),a.off(_.events.SIZE_CHANGE),jQuery(d).off(d.events.TILE_CLICK),a.off(_.events.GALLERY_BEFORE_REQUEST_ITEMS),c.destroy(),h.destroy()},this.run=function(){t()},this.init=function(e,t){var n,i;i=t,_=n=e,f=jQuery.extend(f,p),f=jQuery.extend(f,i),_.setOptions(f),_.setFreestyleMode(),o=n.getObjects(),a=jQuery(n),u=o.g_objWrapper,h.init(n,f),c.init(n,f),d=c.getObjTileDesign()}}"undefined"!=typeof g_ugFunctions?g_ugFunctions.registerTheme("carousel"):jQuery(document).ready(function(){g_ugFunctions.registerTheme("carousel")});