function debugLine(e,t,i){!0===e&&(e="true"),!1===e&&(e="false");var n=e;if("object"==typeof e)for(name in n="",e){var r=e[name];n+=" "+name+": "+r}if(1!=t||i||(n+=" "+Math.random()),1==i){var o=jQuery("#debug_line");o.width(200),500<=o.height()&&o.html(""),n=o.html()+"<br> -------------- <br>"+n}jQuery("#debug_line").show().html(n)}function debugSide(e){var t="";for(name in e){var i=e[name];t+=name+" : "+i+"<br>"}jQuery("#debug_side").show().html(t)}function trace(e){"undefined"!=typeof console&&console.log(e)}function UGFunctions(){var o=null,T=this,a={starTime:0,arrThemes:[],isTouchDevice:-1,isRgbaSupported:-1,timeCache:{},dataCache:{},lastEventType:"",lastEventTime:0,lastTouchStartElement:null,touchThreshold:700,handle:null};function t(e,t,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent?t.attachEvent("on"+e,i):t[e]=i}this.debugVar="",this.z__________FULL_SCREEN___________=function(){},this.toFullscreen=function(e,t){if(e.requestFullscreen)e.requestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen();else{if(!e.msRequestFullscreen)return!1;e.msRequestFullscreen()}return!0},this.exitFullscreen=function(){if(0==T.isFullScreen())return!1;if(document.exitFullscreen)document.exitFullscreen();else if(document.cancelFullScreen)document.cancelFullScreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else{if(!document.msExitFullscreen)return!1;document.msExitFullscreen()}return!0},this.addFullScreenChangeEvent=function(e){document.webkitCancelFullScreen?t("webkitfullscreenchange",document,e):document.msExitFullscreen?t("MSFullscreenChange",document,e):document.mozCancelFullScreen?t("mozfullscreenchange",document,e):t("fullscreenchange",document,e)},this.destroyFullScreenChangeEvent=function(){jQuery(document).unbind("fullscreenChange"),jQuery(document).unbind("mozfullscreenchange"),jQuery(document).unbind("webkitfullscreenchange"),jQuery(document).unbind("MSFullscreenChange")},this.getFullScreenElement=function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},this.isFullScreen=function(){var e=document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement;return e=!!e},this.z__________GET_PROPS___________=function(){},this.getBrowserPrefix=function(){if(null!==o)return o;var e=["webkit","Moz","ms","O"],t=document.createElement("div");for(var i in e){var n=e[i];if(n+"Transform"in t.style)return n=n.toLowerCase(),o=n}return o=""},this.getImageInsideParentDataByImage=function(e,t,i){var n=e.parent(),r=T.getImageOriginalSize(e);return T.getImageInsideParentData(n,r.width,r.height,t,i)},this.getImageInsideParentData=function(e,t,i,n,r,o,a){if(!r)r={};var s={};if(void 0===o)o=e.width();if(void 0===a)a=e.height();r.padding_left&&(o-=r.padding_left),r.padding_right&&(o-=r.padding_right),r.padding_top&&(a-=r.padding_top),r.padding_bottom&&(a-=r.padding_bottom);var l=null,u="100%",d=null,_=null,g="display:block;margin:0px auto;";if(0<t&&0<i){if("down"==n&&t<o&&i<a)_=(o-(l=t))/2,d=(a-(u=i))/2;else if("fill"==n){(l=(u=a)*(c=t/i))<o?(u=(l=o)/c,_=0,d=Math.round((u-a)/2*-1)):(d=0,_=Math.round((l-o)/2*-1))}else{var c;d=0,_=(o-(l=(u=a)*(c=t/i)))/2,"fitvert"!=n&&o<l&&(_=0,d=(a-(u=(l=o)/c))/2)}l=Math.floor(l),u=Math.floor(u),d=Math.floor(d),_=Math.floor(_),g="position:absolute;"}return r.padding_top&&(d+=r.padding_top),r.padding_left&&(_+=r.padding_left),s.imageWidth=l,s.imageHeight=u,s.imageTop=d,s.imageLeft=_,s.imageRight=_+l,s.imageBottom=0==d||"100%"==u?null:d+u,s.style=g,s},this.getElementCenterPosition=function(e,t){var i=e.parent(),n=T.getElementSize(e),r=T.getElementSize(i),o=r.width,a=r.height;t&&void 0!==t.padding_top&&(a-=t.padding_top),t&&void 0!==t.padding_bottom&&(a-=t.padding_bottom),t&&void 0!==t.padding_left&&(o-=t.padding_left),t&&void 0!==t.padding_right&&(o-=t.padding_right);var s={};return s.left=Math.round((o-n.width)/2),s.top=Math.round((a-n.height)/2),t&&void 0!==t.padding_top&&(s.top+=t.padding_top),t&&void 0!==t.padding_left&&(s.left+=t.padding_left),s},this.getElementCenterPoint=function(e,t){if(!t)t=!1;var i=T.getElementSize(e),n={};return n.x=i.width/2,n.y=i.height/2,1==t&&(n.x+=i.left,n.y+=i.top),n.x=Math.round(n.x),n.y=Math.round(n.y),n},this.getMousePosition=function(e,t){var i={pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY};if(e.originalEvent&&e.originalEvent.touches&&0<e.originalEvent.touches.length&&(i.pageX=e.originalEvent.touches[0].pageX,i.pageY=e.originalEvent.touches[0].pageY,i.clientX=e.originalEvent.touches[0].clientX,i.clientY=e.originalEvent.touches[0].clientY),t){var n=t.offset();i.mouseX=i.pageX-n.left,i.mouseY=i.pageY-n.top}return i},this.getMouseElementPoint=function(e,t){var i={x:e.pageX,y:e.pageY};return T.getElementLocalPoint(i,t)},this.getElementLocalPoint=function(e,t){var i={},n=t.offset();return i.x=Math.round(e.x-n.left),i.y=Math.round(e.y-n.top),i},this.getImageOriginalSize=function(e,t,i){if(void 0!==t&&void 0!==i)return{width:t,height:i};var n=e[0];if(void 0===n)throw new Error("getImageOriginalSize error - Image not found");var r={};if(void 0!==n.naturalWidth)return r.width=n.naturalWidth,r.height=n.naturalHeight,r;if("number"==typeof e.data("naturalWidth"))return(r={}).width=e.data("naturalWidth"),r.height=e.data("naturalHeight"),r;var o=new Image;return o.src=n.src,o.complete?(r.width=o.width,r.height=o.height,e.data("naturalWidth",r.width),e.data("naturalHeight",r.height),r):{width:0,height:0}},this.getimageRatio=function(e){var t=T.getImageOriginalSize(e);return T.getElementSize(e).width/t.width},this.isImageFitParent=function(e){var t=e.parent(),i=T.getElementSize(e),n=T.getElementSize(t);return i.width<=n.width&&i.height<=n.height},this.getElementSize=function(e){if(void 0===e)throw new Error("Can't get size, empty element");var t=e.position();return t.height=e.outerHeight(),t.width=e.outerWidth(),t.left=Math.round(t.left),t.top=Math.round(t.top),t.right=t.left+t.width,t.bottom=t.top+t.height,t},this.isElementBiggerThenParent=function(e){var t=e.parent(),i=T.getElementSize(e),n=T.getElementSize(t);return i.width>n.width||i.height>n.height},this.isPointInsideElement=function(e,t){return 0!=(0<=e.x&&e.x<t.width)&&0!=(0<=e.y&&e.y<t.height)},this.getElementRelativePos=function(e,t,i,n){if(!n)n=e.parent();if("number"==typeof e)var r={width:e,height:e};else r=T.getElementSize(e);var o=T.getElementSize(n);switch(t){case"top":case"left":t=0,i&&(t+=i);break;case"center":t=Math.round((o.width-r.width)/2),i&&(t+=i);break;case"right":t=o.width-r.width,i&&(t-=i);break;case"middle":t=Math.round((o.height-r.height)/2),i&&(t+=i);break;case"bottom":t=o.height-r.height,i&&(t-=i)}return t},this.z_________SET_ELEMENT_PROPS_______=function(){},this.zoomImageInsideParent=function(e,t,i,n,r,o,a){if(!i)i=1.2;if(!r)r="fit";var s,l,u,d,_=i,g=e.parent(),c=T.getElementSize(e),h=T.getImageOriginalSize(e),p=!1,m=0,f=0,b=0,v=0;if(n){var y=T.getMouseElementPoint(n,e);p=T.isPointInsideElement(y,c),b=y.x,v=y.y}else p=!1;if(0==p){var I=T.getElementCenterPoint(e);b=I.x,v=I.y}if(1==t)s=c.height*_,l=c.width*_,0!=b&&(m=-(b*_-b)),0!=v&&(f=-(v*_-v));else{if(s=c.height/_,(l=c.width/_)<T.getImageInsideParentData(g,h.width,h.height,r,a).imageWidth)return T.scaleImageFitParent(e,h.width,h.height,r,a),!0;1==p&&(0!=b&&(m=-(b/_-b)),0!=v&&(f=-(v/_-v)))}if(o){var w=1;if(0!=h.width&&(w=l/h.width),o<w)return!1}if(T.setElementSize(e,l,s),0==t&&0==p){var E=T.getElementCenterPosition(e);u=E.left,d=E.top}else u=c.left+m,d=c.top+f;return T.placeElement(e,u,d),!0},this.placeElement=function(e,t,i,n,r,o){if(0==jQuery.isNumeric(t)||0==jQuery.isNumeric(i)){if(!o)o=e.parent();var a=T.getElementSize(e),s=T.getElementSize(o)}if(0==jQuery.isNumeric(t))switch(t){case"left":t=0,n&&(t+=n);break;case"center":t=Math.round((s.width-a.width)/2),n&&(t+=n);break;case"right":t=s.width-a.width,n&&(t-=n)}if(0==jQuery.isNumeric(i))switch(i){case"top":i=0,r&&(i+=r);break;case"middle":case"center":i=Math.round((s.height-a.height)/2),r&&(i+=r);break;case"bottom":i=s.height-a.height,r&&(i-=r)}var l={position:"absolute",margin:"0px"};null!==t&&(l.left=t),null!==i&&(l.top=i),e.css(l)},this.placeElementInParentCenter=function(e){T.placeElement(e,"center","middle")},this.setElementSizeAndPosition=function(e,t,i,n,r){var o={width:n+"px",height:r+"px",left:t+"px",top:i+"px",position:"absolute",margin:"0px"};e.css(o)},this.setElementSize=function(e,t,i){var n={width:t+"px"};null!=i&&(n.height=i+"px"),e.css(n)},this.cloneElementSizeAndPos=function(e,t,i,n,r){var o=e.position();if(null==o)throw new Error("Can't get size, empty element");o.width=!0===i?(o.height=e.outerHeight(),e.outerWidth()):(o.height=e.height(),e.width()),o.left=Math.round(o.left),o.top=Math.round(o.top),n&&(o.left+=n),r&&(o.top+=r),T.setElementSizeAndPosition(t,o.left,o.top,o.width,o.height)},this.placeImageInsideParent=function(e,t,i,n,r,o){var a=T.getImageInsideParentData(t,i,n,r,o),s="<img";return null!==a.imageWidth&&(s+=" width = '"+a.imageWidth+"'",a.style+="width:"+a.imageWidth+";"),null!=a.imageHeight&&("100%"==a.imageHeight?(s+=" height = '"+a.imageHeight+"'",a.style+="height:"+a.imageHeight+";"):(s+=" height = '"+a.imageHeight+"'",a.style+="height:"+a.imageHeight+"px;")),null!==a.imageTop&&(a.style+="top:"+a.imageTop+"px;"),null!==a.imageLeft&&(a.style+="left:"+a.imageLeft+"px;"),e=T.escapeDoubleSlash(e),s+=" style='"+a.style+"'",s+=' src="'+e+'"',s+=">",t.html(s),t.children("img")},this.scaleImageCoverParent=function(e,t,i){if("number"==typeof t)var n=t,r=i;else n=t.outerWidth(),r=t.outerHeight();var o=T.getImageOriginalSize(e),a=o.width/o.height,s=r,l=s*a,u=0,d=0;l<n?(s=(l=n)/a,d=0,u=Math.round((s-r)/2*-1)):(u=0,d=Math.round((l-n)/2*-1)),l=Math.round(l),s=Math.round(s),e.css({width:l+"px",height:s+"px",left:d+"px",top:u+"px"})},this.scaleImageFitParent=function(e,t,i,n,r){var o=e.parent(),a=T.getImageInsideParentData(o,t,i,n,r),s=!1,l={};return null!==a.imageWidth&&(s=!0,e.removeAttr("width"),l.width=a.imageWidth+"px"),null!=a.imageHeight&&(s=!0,e.removeAttr("height"),l.height=a.imageHeight+"px"),null!==a.imageTop&&(s=!0,l.top=a.imageTop+"px"),null!==a.imageLeft&&(s=!0,l.left=a.imageLeft+"px"),1==s&&(l.position="absolute",l.margin="0px 0px",e.css(l)),a},this.scaleImageByHeight=function(e,t,i,n){var r=T.getImageOriginalSize(e,i,n),o=r.width/r.height,a=Math.round(t*o);t=Math.round(t),T.setElementSize(e,a,t)},this.scaleImageByWidth=function(e,t,i,n){var r=T.getImageOriginalSize(e,i,n),o=r.width/r.height,a=Math.round(t/o);t=Math.round(t),T.setElementSize(e,t,a)},this.scaleImageExactSizeInParent=function(e,t,i,n,r,o){var a=e.parent(),s=T.getElementSize(a);s.width<n&&(n=s.width),s.height<r&&(r=s.height);var l,u=T.getImageInsideParentData(null,t,i,o,null,n,r),d=n,_=r,g=u.imageLeft,c=u.imageLeft,h=u.imageTop,p=u.imageTop,m=Math.round((s.width-n)/2),f=Math.round((s.height-r)/2);0!=(l=n-(u.imageWidth+g+c))&&(c+=l),0!=(l=r-(u.imageHeight+h+p))&&(p+=l),e.removeAttr("width"),e.removeAttr("height");var b={position:"absolute",margin:"0px 0px"};b.width=d+"px",b.height=_+"px",b.left=m+"px",b.top=f+"px",b["padding-left"]=g+"px",b["padding-top"]=h+"px",b["padding-right"]=c+"px",b["padding-bottom"]=p+"px",e.css(b);var v={};return v.imageWidth=d,v.imageHeight=_,v},this.showElement=function(e,t,i){e.show().fadeTo(0,1),t&&t.show().fadeTo(0,1),i&&i.show().fadeTo(0,1)},this.z_________GALLERY_RELATED_FUNCTIONS_______=function(){},this.disableButton=function(e,t){if(!t)t="ug-button-disabled";0==T.isButtonDisabled(e,t)&&e.addClass(t)},this.convertCustomPrefixOptions=function(e,n,r){if(!n)return e;var o={};return jQuery.each(e,function(e,t){if(0===e.indexOf(n+"_"+r+"_")){var i=e.replace(n+"_"+r+"_",r+"_");o[i]=t}else o[e]=t}),o},this.enableButton=function(e,t){if(!t)t="ug-button-disabled";1==T.isButtonDisabled(e,t)&&e.removeClass(t)},this.isButtonDisabled=function(e,t){if(!t)t="ug-button-disabled";return!!e.hasClass(t)},this.z_________MATH_FUNCTIONS_______=function(){},this.normalizeSetting=function(e,t,i,n,r,o){if(!o)o=!1;return r=e+(t-e)*((r-i)/(n-i)),1==o&&(r<e&&(r=e),t<r&&(r=t)),r},this.getNormalizedValue=function(e,t,i,n,r){return r=e+(n-i)*((r-e)/(t-e))},this.getDistance=function(e,t,i,n){return Math.round(Math.sqrt(Math.abs((i-e)*(i-e)+(n-t)*(n-t))))},this.getMiddlePoint=function(e,t,i,n){var r={};return r.x=e+Math.round((i-e)/2),r.y=t+Math.round((n-t)/2),r},this.getNumItemsInSpace=function(e,t,i){return Math.floor((e+i)/(t+i))},this.getNumItemsInSpaceRound=function(e,t,i){return Math.round((e+i)/(t+i))},this.getSpaceByNumItems=function(e,t,i){return e*t+(e-1)*i},this.getItemSizeInSpace=function(e,t,i){return Math.floor((e-(t-1)*i)/t)},this.getColX=function(e,t,i){return e*(t+i)},this.getColByIndex=function(e,t){return t%e},this.getColRowByIndex=function(e,t){var i=Math.floor(e/t);return{col:Math.floor(e%t),row:i}},this.getIndexByRowCol=function(e,t,i){return e<0?-1:t<0?-1:e*i+t},this.getPrevRowSameColIndex=function(e,t){var i=T.getColRowByIndex(e,t);return T.getIndexByRowCol(i.row-1,i.col,t)},this.getNextRowSameColIndex=function(e,t){var i=T.getColRowByIndex(e,t);return T.getIndexByRowCol(i.row+1,i.col,t)},this.z_________DATA_FUNCTIONS_______=function(){},this.setGlobalData=function(e,t){jQuery.data(document.body,e,t)},this.getGlobalData=function(e){return jQuery.data(document.body,e)},this.z_________EVENT_DATA_FUNCTIONS_______=function(){},this.handleScrollTop=function(e){if(0==T.isTouchDevice())return null;var t=T.getStoredEventData(e);if(null===t.scrollDir&&(15<Math.abs(t.diffMouseX)?t.scrollDir="hor":15<Math.abs(t.diffMouseY)&&Math.abs(t.diffMouseY)>Math.abs(t.diffMouseX)&&(t.scrollDir="vert",t.scrollStartY=t.lastMouseClientY,t.scrollOrigin=jQuery(document).scrollTop(),a.dataCache[e].scrollStartY=t.lastMouseClientY,a.dataCache[e].scrollOrigin=t.scrollOrigin),a.dataCache[e].scrollDir=t.scrollDir),"vert"!==t.scrollDir)return t.scrollDir;jQuery(document).scrollTop();var i=t.scrollOrigin-(t.lastMouseClientY-t.scrollStartY);return 0<=i&&jQuery(document).scrollTop(i),t.scrollDir},this.wasVerticalScroll=function(e){return"vert"===T.getStoredEventData(e).scrollDir},this.storeEventData=function(e,t,i){var n=T.getMousePosition(e),r=jQuery.now(),o={startTime:r,lastTime:r,startMouseX:n.pageX,startMouseY:n.pageY,lastMouseX:n.pageX,lastMouseY:n.pageY,startMouseClientY:n.clientY,lastMouseClientY:n.clientY,scrollTop:jQuery(document).scrollTop(),scrollDir:null};i&&(o=jQuery.extend(o,i)),a.dataCache[t]=o},this.updateStoredEventData=function(e,t,i){if(!a.dataCache[t])throw new Error("updateEventData error: must have stored cache object");var n=a.dataCache[t],r=T.getMousePosition(e);n.lastTime=jQuery.now(),void 0!==r.pageX&&(n.lastMouseX=r.pageX,n.lastMouseY=r.pageY,n.lastMouseClientY=r.clientY),i&&(n=jQuery.extend(n,i)),a.dataCache[t]=n},this.getStoredEventData=function(e,t){if(!a.dataCache[e])throw new Error("updateEventData error: must have stored cache object");var i=a.dataCache[e];return i.diffMouseX=i.lastMouseX-i.startMouseX,i.diffMouseY=i.lastMouseY-i.startMouseY,i.diffMouseClientY=i.lastMouseClientY-i.startMouseClientY,i.diffTime=i.lastTime-i.startTime,i.diffMousePos=!0===t?(i.startMousePos=i.lastMouseY,i.lastMousePos=i.lastMouseY,i.diffMouseY):(i.startMousePos=i.lastMouseX,i.lastMousePos=i.lastMouseX,i.diffMouseX),i},this.isApproveStoredEventClick=function(e,t){if(!a.dataCache[e])return!0;var i=T.getStoredEventData(e,t),n=Math.abs(i.diffMousePos);return!(400<i.diffTime)&&!(30<n)},this.clearStoredEventData=function(e){a.dataCache[e]=null},this.z_________CHECK_SUPPORT_FUNCTIONS_______=function(){},this.isCanvasExists=function(){return"function"==typeof jQuery('<canvas width="500" height="500" > </canvas>')[0].getContext},this.isScrollbarExists=function(){return window.innerWidth>document.documentElement.clientWidth},this.isTouchDevice=function(){if(-1!==a.isTouchDevice)return a.isTouchDevice;try{document.createEvent("TouchEvent"),a.isTouchDevice=!0}catch(e){a.isTouchDevice=!1}return a.isTouchDevice},this.isRgbaSupported=function(){if(-1!==a.isRgbaSupported)return a.isRgbaSupported;var e=document.getElementsByTagName("script")[0],t=e.style.color;try{e.style.color="rgba(1,5,13,0.44)"}catch(e){}var i=e.style.color!=t;return e.style.color=t,a.isRgbaSupported=i},this.z_________GENERAL_FUNCTIONS_______=function(){},this.checkMinJqueryVersion=function(e){for(var t=jQuery.fn.jquery.split("."),i=e.split("."),n=0,r=t.length;n<r;n++){var o=parseInt(t[n]),a=parseInt(i[n]);if(void 0===i[n])return!0;if(o<a)return!1;if(a<o)return!0}return!0},this.getCssSizeParam=function(e){return jQuery.isNumeric(e)?e+"px":e},this.convertHexToRGB=function(e,t){var i=e.replace("#","");return i===e?e:(r=parseInt(i.substring(0,2),16),g=parseInt(i.substring(2,4),16),b=parseInt(i.substring(4,6),16),result="rgba("+r+","+g+","+b+","+t+")",result)},this.timestampToString=function(e){var t=new Date(e),i=t.getDate()+"/"+t.getMonth();return i+=" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+":"+t.getMilliseconds()},this.getArrTouches=function(e){var t=[];return e.originalEvent&&e.originalEvent.touches&&0<e.originalEvent.touches.length&&(t=e.originalEvent.touches),t},this.getArrTouchPositions=function(e){for(var t=[],i=0;i<e.length;i++){var n={pageX:e[i].pageX,pageY:e[i].pageY};t.push(n)}return t},this.startTimeDebug=function(){a.starTime=jQuery.now()},this.showTimeDebug=function(){debugLine({"Time Passed":jQuery.now()-a.starTime},!0)},this.initProgressIndicator=function(e,t,i){switch("bar"!=e&&0==T.isCanvasExists()&&(e="bar"),e){case"bar":(n=new UGProgressBar).putHidden(i,t);break;default:case"pie":(n=new UGProgressPie).putHidden(i,t);break;case"pie2":var n;t.type_fill=!0,(n=new UGProgressPie).putHidden(i,t)}return n},this.setButtonMobileReady=function(e){e.on("touchstart",function(e){jQuery(this).addClass("ug-nohover")}),e.on("mousedown touchend",function(e){return e.stopPropagation(),e.stopImmediatePropagation(),!1})},this.registerTheme=function(e){a.arrThemes.push(e)},this.getArrThemes=function(){return a.arrThemes},this.isThemeRegistered=function(e){return-1!==jQuery.inArray(e,a.arrThemes)},this.getFirstRegisteredTheme=function(){return 0==a.arrThemes.length?"":a.arrThemes[0]},this.isTimePassed=function(e,t){if(!t)t=100;var i=jQuery.now();0==a.timeCache.hasOwnProperty(e)?lastTime=0:lastTime=a.timeCache[e];var n=i-lastTime;return a.timeCache[e]=i,!(n<=t)},this.whenContiniousEventOver=function(e,t,i){if(!i)i=300;1==a.timeCache.hasOwnProperty(e)&&null!=a.timeCache[e]&&(clearTimeout(a.timeCache[e]),a.timeCache[e]=null),a.timeCache[e]=setTimeout(t,i)},this.validateClickTouchstartEvent=function(e){var t=!0,i=jQuery.now()-a.lastEventTime;return"click"==e&&"touchstart"==a.lastEventType&&i<1e3&&(t=!1),a.lastEventTime=jQuery.now(),a.lastEventType=e,t},this.addClassOnHover=function(e,t){if(!t)t="ug-button-hover";e.hover(function(){jQuery(this).addClass(t)},function(){jQuery(this).removeClass(t)})},this.destroyButton=function(e){e.off("mouseenter"),e.off("mouseleave"),e.off("click"),e.off("touchstart"),e.off("touchend"),e.off("mousedown"),e.off("tap")},this.setButtonOnClick=function(e,t){T.setButtonMobileReady(e),e.on("click touchstart",function(e){if(objThis=jQuery(this),e.stopPropagation(),e.stopImmediatePropagation(),0==T.validateClickTouchstartEvent(e.type))return!0;t(objThis,e)})},this.setButtonOnTap=function(e,t){e.on("tap",t),0==T.isTouchDevice()?e.on("click",function(e){var t=jQuery(this);if(0==T.validateClickTouchstartEvent(e.type))return!0;t.trigger("tap")}):(e.on("touchstart",function(e){jQuery(this).addClass("ug-nohover"),a.lastTouchStartElement=jQuery(this),a.lastEventTime=jQuery.now()}),e.on("touchend",function(e){var t=jQuery(this);return 0==t.is(a.lastTouchStartElement)||(!a.lastEventTime||(jQuery.now()-a.lastEventTime>a.touchThreshold||void t.trigger("tap")))}))},this.loadJs=function(e,t){!0===t&&(e=location.protocol+"//"+e);var i=document.createElement("script");i.src=e;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(i,n)},this.loadCss=function(e,t){!0===t&&(e=location.protocol+"//"+e);var i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(i)},this.addEvent=function(e,t,i){void 0!==e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent("on"+t,i)},this.checkImagesLoaded=function(n,i,r){var o=0,a=n.length;if(0==a&&i)return i(),!1;function s(e,t){o++,"function"==typeof r&&setTimeout(function(){r(e,t)}),o==a&&"function"==typeof i&&setTimeout(function(){i()})}setTimeout(function(){for(var e=0;e<a;e++){var t=n[e];if(void 0!==t.naturalWidth&&0!==t.naturalWidth)s(n[e],!1);else{var i=jQuery("<img/>");i.data("index",e),i.on("load",function(){var e=jQuery(this).data("index");s(n[e],!1)}),i.on("error",function(){var e=jQuery(this).data("index");s(n[e],!0)}),i.attr("src",t.src)}}})},this.waitForWidth=function(e,t){var i=e.width();if(0!=i)return t(),!1;a.handle=setInterval(function(){0!=(i=e.width())&&(clearInterval(a.handle),t())},300)},this.arrayShuffle=function(e){if("object"!=typeof e)return e;for(var t,i,n=e.length;n;t=parseInt(Math.random()*n),i=e[--n],e[n]=e[t],e[t]=i);return e},this.getObjectLength=function(e){var t=0;for(var i in e)t++;return t},this.normalizePercent=function(e){return e<0&&(e=0),1<e&&(e=1),e},this.stripTags=function(e){return e.replace(/(<([^>]+)>)/gi,"")},this.escapeDoubleSlash=function(e){return e.replace('"','"')},this.htmlentitles=function(e){return jQuery("<div/>").text(e).html()},this.z_________END_GENERAL_FUNCTIONS_______=function(){}}var g_ugFunctions=new UGFunctions;function UGThumbsGeneral(){var i,n,_,g,a=this,r=jQuery(a),s=new UniteGalleryMain,o=new UGFunctions;this.type={GET_THUMBS_ALL:"all",GET_THUMBS_RATIO:"ratio",GET_THUMBS_NO_RATIO:"no_ratio",GET_THUMBS_NEW:"new"};var c={thumb_width:88,thumb_height:50,thumb_fixed_size:!0,thumb_resize_by:"height",thumb_border_effect:!0,thumb_border_width:0,thumb_border_color:"#000000",thumb_over_border_width:0,thumb_over_border_color:"#d9d9d9",thumb_selected_border_width:1,thumb_selected_border_color:"#d9d9d9",thumb_round_corners_radius:0,thumb_color_overlay_effect:!0,thumb_overlay_color:"#000000",thumb_overlay_opacity:.4,thumb_overlay_reverse:!(this.events={SETOVERSTYLE:"thumbmouseover",SETNORMALSTYLE:"thumbmouseout",SETSELECTEDSTYLE:"thumbsetselected",PLACEIMAGE:"thumbplaceimage",AFTERPLACEIMAGE:"thumb_after_place_image",IMAGELOADERROR:"thumbimageloaderror",THUMB_IMAGE_LOADED:"thumb_image_loaded"}),thumb_image_overlay_effect:!1,thumb_image_overlay_type:"bw",thumb_transition_duration:200,thumb_transition_easing:"easeOutQuad",thumb_show_loader:!0,thumb_loader_type:"dark",thumb_wrapper_as_link:!1,thumb_link_newpage:!1},h={touchEnabled:!1,num_thumbs_checking:0,customThumbs:!1,funcSetCustomThumbHtml:null,isEffectBorder:!1,isEffectOverlay:!1,isEffectImage:!1,colorOverlayOpacity:1,thumbInnerReduce:0,allowOnResize:!0,classNewThumb:"ug-new-thumb"},t="thumb_size_change";function l(e,t){var i=_[e],n="";0==h.customThumbs&&(n=" ug-thumb-generated");var r="<div class='ug-thumb-wrapper"+n+"' "+("style='z-index:"+(i.index+1)+";'")+"></div>";if(1==c.thumb_wrapper_as_link){var o=i.link;""==i.link&&(o="javascript:void(0)");var a="";1==c.thumb_link_newpage&&i.link&&(a=" target='_blank'");r="<a href='"+o+"'"+a+" class='ug-thumb-wrapper"+n+"'></a>"}var s=jQuery(r),l=i.objThumbImage;if(0==h.customThumbs){if(1==c.thumb_show_loader&&l){var u="ug-thumb-loader-dark";"bright"==c.thumb_loader_type&&(u="ug-thumb-loader-bright"),s.append("<div class='ug-thumb-loader "+u+"'></div>"),s.append("<div class='ug-thumb-error' style='display:none'></div>")}if(l){if(l.addClass("ug-thumb-image"),1==c.thumb_image_overlay_effect){var d=l.clone().appendTo(s);d.addClass("ug-thumb-image-overlay "+t).removeClass("ug-thumb-image"),d.fadeTo(0,0),i.objImageOverlay=d}s.append(l)}}return h.isEffectBorder&&s.append("<div class='ug-thumb-border-overlay'></div>"),h.isEffectOverlay&&s.append("<div class='ug-thumb-overlay'></div>"),g.append(s),h.customThumbs&&h.funcSetCustomThumbHtml(s,i),_[e].objThumbWrapper=s}function u(e,t,i,n){var r={width:e+"px",height:t+"px"},o={width:e-h.thumbInnerReduce+"px",height:t-h.thumbInnerReduce+"px"},a=".ug-thumb-loader, .ug-thumb-error, .ug-thumb-border-overlay, .ug-thumb-overlay";i?(!0!==n&&i.css(r),i.find(a).css(o)):(g.children(".ug-thumb-wrapper").css(r),g.find(a).css(o))}function d(e,t,i,n){if(!n)n=!1;s.isFakeFullscreen()&&(n=!0);var r,o=e.children(".ug-thumb-border-overlay"),a={};a["border-width"]=t+"px",0!=t&&(a["border-color"]=i),n&&!0===n?(o.css(a),0==t?o.hide():o.show()):(0==t?o.stop().fadeOut(c.thumb_transition_duration):o.show().stop().fadeIn(c.thumb_transition_duration),r=a,o.stop(!0).animate(r,{duration:c.thumb_transition_duration,easing:c.thumb_transition_easing,queue:!1}))}function p(e,t,i){var n=e.children(".ug-thumb-overlay"),r=c.thumb_transition_duration;i&&!0===i&&(r=0),t?n.stop(!0).fadeTo(r,h.colorOverlayOpacity):n.stop(!0).fadeTo(r,0)}function m(e,t,i){var n=e.children("img.ug-thumb-image"),r=e.children("img.ug-thumb-image-overlay"),o=c.thumb_transition_duration;i&&!0===i&&(o=0),t?r.stop(!0).fadeTo(o,1):(n.fadeTo(0,1),r.stop(!0).fadeTo(o,0))}function f(e,t){(h.isEffectBorder&&d(e,c.thumb_selected_border_width,c.thumb_selected_border_color,t),h.isEffectOverlay)&&p(e,1==c.thumb_overlay_reverse,t);h.isEffectImage&&m(e,!1,t),r.trigger(a.events.SETSELECTEDSTYLE,e)}function b(e){1==y(e)?f(e,!0):a.setThumbNormalStyle(e,!0,"redraw")}function v(e,t,i){if(1==c.thumb_fixed_size)o.scaleImageCoverParent(t,e);else{"height"==c.thumb_resize_by?o.scaleImageByHeight(t,c.thumb_height):o.scaleImageByWidth(t,c.thumb_width);var n=o.getElementSize(t);o.placeElement(t,0,0),u(n.width,n.height,e)}e.children(".ug-thumb-loader").hide(),t.show(),0==c.thumb_image_overlay_effect?t.fadeTo(0,1):(1==c.thumb_image_overlay_effect&&function(e){var t=e.siblings(".ug-thumb-image-overlay");if(0==t.length)return;var i=o.getElementSize(e),n={width:i.width+"px",height:i.height+"px",left:i.left+"px",top:i.top+"px"};t.css(n),0==h.customThumbs&&t.fadeTo(0,1)}(t),t.fadeTo(0,0),b(e)),r.trigger(a.events.AFTERPLACEIMAGE,e)}function y(e){return!!e.hasClass("ug-thumb-selected")}function I(e,t){t=jQuery(t);a.getItemByThumb(t);var i=o.getElementSize(t);u(i.width,i.height,t,!0),b(t)}function w(e,t,i){objItem=a.getItemByThumb(t),objItem.isLoaded=!0,objItem.isThumbImageLoaded=!0;var n=o.getImageOriginalSize(i);objItem.thumbWidth=n.width,objItem.thumbHeight=n.height,objItem.thumbRatioByWidth=n.width/n.height,objItem.thumbRatioByHeight=n.height/n.width,t.addClass("ug-thumb-ratio-set")}this.init=function(e,t){i=e.getObjects(),s=e,jQuery(e),n=i.g_objWrapper,_=i.g_arrItems,c=jQuery.extend(c,t),h.isEffectBorder=c.thumb_border_effect,h.isEffectOverlay=c.thumb_color_overlay_effect,h.isEffectImage=c.thumb_image_overlay_effect},this._____________EXTERNAL_SETTERS__________=function(){},this.setHtmlThumbs=function(e,t){if(g=e,1==h.isEffectImage)var i=function(){var e="",t=c.thumb_image_overlay_type.split(",");for(var i in t){var n=t[i];switch(n){case"bw":e+=" ug-bw-effect";break;case"blur":e+=" ug-blur-effect";break;case"sepia":e+=" ug-sepia-effect"}}return e}();if(!0!==t)for(var n=s.getNumItems(),r=0;r<n;r++)l(r,i);else{a.getThumbs().removeClass(h.classNewThumb);var o=s.getNewAddedItemsIndexes();jQuery.each(o,function(e,t){l(t,i).addClass(h.classNewThumb)})}},this.setThumbNormalStyle=function(e,t,i){(1==h.customThumbs&&e.removeClass("ug-thumb-over"),h.isEffectBorder&&d(e,c.thumb_border_width,c.thumb_border_color,t),h.isEffectOverlay)&&p(e,1!=c.thumb_overlay_reverse,t);h.isEffectImage&&m(e,!0,t),r.trigger(a.events.SETNORMALSTYLE,e)},this.setThumbOverStyle=function(e){(1==h.customThumbs&&e.addClass("ug-thumb-over"),h.isEffectBorder&&d(e,c.thumb_over_border_width,c.thumb_over_border_color),h.isEffectOverlay)&&p(e,1==c.thumb_overlay_reverse);1==h.isEffectImage&&m(e,!1),r.trigger(a.events.SETOVERSTYLE,e)},this.setHtmlProperties=function(e){if(!e)e=a.getThumbs();if(0==h.customThumbs){1==c.thumb_fixed_size&&u(c.thumb_width,c.thumb_height,e),function(e){if(c.thumb_round_corners_radius<=0)return;var t={"border-radius":c.thumb_round_corners_radius+"px"};e?(e.css(t),e.find(".ug-thumb-border-overlay").css(t)):g.find(".ug-thumb-wrapper, .ug-thumb-wrapper .ug-thumb-border-overlay").css(t)}(e)}if(e.each(function(){b(jQuery(this))}),h.isEffectOverlay&&c.thumb_overlay_color){var t={};if(o.isRgbaSupported()){var i=o.convertHexToRGB(c.thumb_overlay_color,c.thumb_overlay_opacity);t["background-color"]=i}else t["background-color"]=c.thumb_overlay_color,h.colorOverlayOpacity=c.thumb_overlay_opacity;e.find(".ug-thumb-overlay").css(t)}},this.setThumbSelected=function(e){if(1==h.customThumbs&&e.removeClass("ug-thumb-over"),1==y(e))return!0;e.addClass("ug-thumb-selected"),f(e)},this.setThumbUnselected=function(e){e.removeClass("ug-thumb-selected"),a.setThumbNormalStyle(e,!1,"set unselected")},this.setOptions=function(e){c=jQuery.extend(c,e)},this.setThumbInnerReduce=function(e){h.thumbInnerReduce=e},this.setCustomThumbs=function(e,t,i){if(h.customThumbs=!0,"function"!=typeof e)throw new Error("The argument should be function");h.funcSetCustomThumbHtml=e,-1==jQuery.inArray("overlay",t)&&(h.isEffectOverlay=!1),-1==jQuery.inArray("border",t)&&(h.isEffectBorder=!1),h.isEffectImage=!1,i&&!1===i.allow_onresize&&(h.allowOnResize=!1)},this._____________EXTERNAL_GETTERS__________=function(){},this.getOptions=function(){return c},this.getNumThumbs=function(){return _.length},this.getThumbImage=function(e){return e.find(".ug-thumb-image")},this.getThumbByIndex=function(e){var t=a.getThumbs();if(e>=t.length||e<0)throw new Error("Wrong thumb index");return jQuery(t[e])},this.getThumbs=function(e){var t=".ug-thumb-wrapper",i=".ug-thumb-ratio-set";switch(e){default:case a.type.GET_THUMBS_ALL:var n=g.children(t);break;case a.type.GET_THUMBS_NO_RATIO:n=g.children(t).not(i);break;case a.type.GET_THUMBS_RATIO:n=g.children(t+i);break;case a.type.GET_THUMBS_NEW:n=g.children("."+h.classNewThumb)}return n},this.getItemByThumb=function(e){var t=e.data("index");return void 0===t&&(t=e.index()),_[t]},this.isThumbLoaded=function(e){return a.getItemByThumb(e).isLoaded},this.getGlobalThumbSize=function(){return{width:c.thumb_width,height:c.thumb_height}},this._____________EXTERNAL_OTHERS__________=function(){},this.initEvents=function(){var e=".ug-thumb-wrapper";1==h.allowOnResize&&n.on(t,I),r.on(a.events.THUMB_IMAGE_LOADED,w),g.on("touchstart",e,function(){h.touchEnabled=!0,g.off("mouseenter").off("mouseleave")}),g.on("mouseenter",e,function(e){!function(e){if(1==h.touchEnabled)return objThumbs.off("mouseenter").off("mouseleave");0==y(e)&&a.setThumbOverStyle(e)}(jQuery(this))}),g.on("mouseleave",e,function(e){!function(e){if(1==h.touchEnabled)return;0==y(e)&&a.setThumbNormalStyle(e,!1)}(jQuery(this))})},this.destroy=function(){var e=".ug-thumb-wrapper";g.off("touchstart",e),n.off(t),g.off("mouseenter",e),g.off("mouseleave",e),r.off(a.events.THUMB_IMAGE_LOADED)},this.loadThumbsImages=function(){var e=g.find(".ug-thumb-image");o.checkImagesLoaded(e,null,function(e,t){0==t?function(e,t){t||(t=!1);var i=jQuery(e),n=i.parents(".ug-thumb-wrapper");0!=n.parent().length&&(objItem=a.getItemByThumb(n),(1!=objItem.isLoaded||!1!==t)&&(a.triggerImageLoadedEvent(n,i),1==h.customThumbs?r.trigger(a.events.PLACEIMAGE,[n,i]):v(n,i,objItem)))}(e,!0):function(e){var t=a.getItemByThumb(e);if(t.isLoaded=!0,t.isThumbImageLoaded=!1,1==h.customThumbs)return r.trigger(a.events.IMAGELOADERROR,e);e.children(".ug-thumb-loader").hide(),e.children(".ug-thumb-error").show()}(jQuery(e).parent())})},this.triggerImageLoadedEvent=function(e,t){r.trigger(a.events.THUMB_IMAGE_LOADED,[e,t])},this.hideThumbs=function(){g.find(".ug-thumb-wrapper").hide()}}function UGThumbsStrip(){var o,r,a,s,l,u,d,_,g=this,c=new UniteGalleryMain,h=new UGFunctions,p=!1,m=new UGThumbsGeneral,f=(h=new UGFunctions,{strip_vertical_type:!1,strip_thumbs_align:"left",strip_space_between_thumbs:6,strip_thumb_touch_sensetivity:15,strip_scroll_to_thumb_duration:500,strip_scroll_to_thumb_easing:"easeOutCubic",strip_control_avia:!0,strip_control_touch:!0,strip_padding_top:0,strip_padding_bottom:0,strip_padding_left:0,strip_padding_right:0}),b={isRunOnce:!1,is_placed:!1,isNotFixedThumbs:!1,handle:null},v={stripSize:0,stripActiveSize:0,stripInnerSize:0,thumbSize:0,thumbSecondSize:0};this.events={STRIP_MOVE:"stripmove",INNER_SIZE_CHANGE:"size_change"};var y={strip_thumbs_align:"top",thumb_resize_by:"width"};function I(){var e=m.getOptions();b.isNotFixedThumbs=!1===e.thumb_fixed_size,p=f.strip_vertical_type}function e(){var e,t,i,n,r;m.setHtmlProperties(),e=u.children(".ug-thumb-wrapper"),t=jQuery(e[0]),i=t.outerWidth(),n=t.outerHeight(),r=m.getOptions(),v.stripInnerSize=0==p?(v.thumbSize=i,1==r.thumb_fixed_size?v.thumbSecondSize=n:v.thumbSecondSize=r.thumb_height,w(l.width()),u.width()):(v.thumbSize=n,1==r.thumb_fixed_size?v.thumbSecondSize=i:v.thumbSecondSize=r.thumb_width,w(l.height()),u.height()),function(){if(0==p){var e=v.thumbSecondSize,t={};t.height=e+"px";var i={};i.height=e+"px"}else{var n=v.thumbSecondSize,t={};t.width=n+"px";var i={};i.width=n+"px"}l.css(t),u.css(i)}(),E(),0==b.isRunOnce&&(1==f.strip_control_touch&&(_=new UGTouchThumbsControl).init(g),1==f.strip_control_avia&&(d=new UGAviaControl).init(g),P(),m.loadThumbsImages(),m.initEvents(),l.find(".ug-thumb-wrapper").on("click touchend",function(e){!function(e){if(g.isTouchMotionActive()){var t=_.isSignificantPassed();if(1==t)return}var i=m.getItemByThumb(e);c.selectItem(i)}(jQuery(this))}),o.on(c.events.ITEM_CHANGE,j),b.isNotFixedThumbs&&jQuery(m).on(m.events.AFTERPLACEIMAGE,x)),b.isRunOnce=!0}function w(e){v.stripSize=e,v.stripActiveSize=0==p?v.stripSize-f.strip_padding_left-f.strip_padding_right:v.stripSize-f.strip_padding_top-f.strip_padding_bottom,v.stripActiveSize<0&&(v.stripActiveSize=0)}function E(){var e,t=u.children(".ug-thumb-wrapper"),n=0,r=0;for(0==p&&(r=f.strip_padding_top),i=0;i<t.length;i++){var o=jQuery(t[i]);if(1==b.isNotFixedThumbs){if(objItem=m.getItemByThumb(o),0==objItem.isLoaded)continue;o.show()}h.placeElement(o,n,r),0==p?n+=o.outerWidth()+f.strip_space_between_thumbs:r+=o.outerHeight()+f.strip_space_between_thumbs}if(0==p)var a=n-f.strip_space_between_thumbs;else a=r-f.strip_space_between_thumbs;e=a,0==p?u.width(e):u.height(e),v.stripInnerSize=e,P(),jQuery(g).trigger(g.events.INNER_SIZE_CHANGE)}function t(e){var t=g.getInnerStripPos()+e;t=g.fixInnerStripLimits(t),g.positionInnerStrip(t,!0)}function T(e){var t=-1*A(e).min;t=g.fixInnerStripLimits(t),g.positionInnerStrip(t,!0)}function S(e){var t=-1*A(e).max+v.stripSize;t=g.fixInnerStripLimits(t),g.positionInnerStrip(t,!0)}function n(e){if(0==C())return!1;var t,i,n=(t={},i=g.getInnerStripPos(),t.minPosThumbs=-1*i+1,t.maxPosThumbs=-1*i+v.stripSize-1,t),r=A(e);if(r.min<n.minPosThumbs){var o=e.prev();o.length?T(o):T(e)}else if(r.max>n.maxPosThumbs){var a=e.next();a.length?S(a):S(e)}}function P(){1==C()?(d&&d.enable(),_&&_.enable()):(d&&d.disable(),_&&_.disable())}function x(){clearTimeout(b.handle),b.handle=setTimeout(function(){E()},50)}function j(){var e=c.getSelectedItem();m.setThumbSelected(e.objThumbWrapper),n(e.objThumbWrapper)}function C(){return v.stripInnerSize>v.stripActiveSize}function A(e){var t={},i=e.position();return t.max=0==p?(t.min=i.left,i.left+v.thumbSize):(t.min=i.top,i.top+v.thumbSize),t}this.setHtml=function(e){if(!e){e=a;null!=f.parent_container&&(e=f.parent_container)}e.append("<div class='ug-thumbs-strip'><div class='ug-thumbs-strip-inner'></div></div>"),l=e.children(".ug-thumbs-strip"),u=l.children(".ug-thumbs-strip-inner"),m.setHtmlThumbs(u),1==b.isNotFixedThumbs&&m.hideThumbs()},this.destroy=function(){var e=l.find(".ug-thumb-wrapper");e.off("click"),e.off("touchend"),o.off(c.events.ITEM_CHANGE),jQuery(m).off(m.events.AFTERPLACEIMAGE),_&&_.destroy(),d&&d.destroy(),m.destroy()},this.________EXTERNAL_GENERAL___________=function(){},this.init=function(e,t){var i,n;n=t,r=(i=e).getObjects(),(c=i).attachThumbsPanel("strip",g),o=jQuery(i),a=r.g_objWrapper,s=r.g_arrItems,f=jQuery.extend(f,n),1==(p=f.strip_vertical_type)&&(f=jQuery.extend(f,y),f=jQuery.extend(f,n),n.thumb_resize_by="width"),m.init(i,n),I()},this.run=function(){e()},this.positionInnerStrip=function(e,t){if(void 0===t)t=!1;if(0==p)var i={left:e+"px"};else i={top:e+"px"};0==t?(u.css(i),g.triggerStripMoveEvent()):(g.triggerStripMoveEvent(),u.stop(!0).animate(i,{duration:f.strip_scroll_to_thumb_duration,easing:f.strip_scroll_to_thumb_easing,queue:!1,progress:function(){g.triggerStripMoveEvent()},always:function(){g.triggerStripMoveEvent()}}))},this.triggerStripMoveEvent=function(){jQuery(g).trigger(g.events.STRIP_MOVE)},this.isTouchMotionActive=function(){return!!_&&_.isTouchActive()},this.isItemThumbVisible=function(e){var t=e.objThumbWrapper,i=t.position(),n=-1*g.getInnerStripPos();if(0==p)var r=n+v.stripSize,o=i.left,a=i.left+t.width();else r=n+v.stripSize,o=i.top,a=i.top+t.height();var s=!1;return n<=a&&o<=r&&(s=!0),s},this.getInnerStripPos=function(){return 0==p?u.position().left:u.position().top},this.getInnerStripLimits=function(){var e={};return e.maxPos=0==p?f.strip_padding_left:f.strip_padding_top,e.minPos=-(v.stripInnerSize-v.stripActiveSize),e},this.fixInnerStripLimits=function(e){var t=g.getInnerStripLimits();return e>t.maxPos&&(e=t.maxPos),e<t.minPos&&(e=t.minPos),e},this.scrollForeward=function(){t(-v.stripSize)},this.scrollBack=function(){t(v.stripSize)},this.________EXTERNAL_SETTERS___________=function(){},this.setOptions=function(e){f=jQuery.extend(f,e),m.setOptions(e),I()},this.setSizeVertical=function(e){if(0==p)throw new Error("setSizeVertical error, the strip size is not vertical");var t=v.thumbSecondSize,i={};i.width=t+"px",i.height=e+"px",l.css(i),w(e);var n={};n.width=t+"px",n.left="0px",n.top="0px",u.css(n),b.is_placed=!0,P()},this.setSizeHorizontal=function(e){if(1==p)throw new Error("setSizeHorizontal error, the strip size is not horizontal");var t=v.thumbSecondSize+f.strip_padding_top+f.strip_padding_bottom,i={};i.width=e+"px",i.height=t+"px",l.css(i),w(e);var n=f.strip_padding_left,r={};r.height=t+"px",r.left=n+"px",r.top="0px",u.css(r),b.is_placed=!0,P()},this.setPosition=function(e,t,i,n){h.placeElement(l,e,t,i,n)},this.resize=function(e){v.stripActiveSize=0==p?(l.width(e),e-f.strip_padding_left-f.strip_padding_right):(l.height(e),e-f.strip_padding_top-f.strip_padding_bottom),w(e),P(),function(){if(0==C())return;var e=g.getInnerStripPos(),t=g.fixInnerStripLimits(e);e!=t&&g.positionInnerStrip(t,!0)}(),function(){if(C())return;0==p?h.placeElement(u,f.strip_thumbs_align,0):h.placeElement(u,0,f.strip_thumbs_align)}(),function(){var e=c.getSelectedItem();if(null==e)return;var t=e.objThumbWrapper;t&&n(t)}()},this.setThumbUnselected=function(e){m.setThumbUnselected(e)},this.setCustomThumbs=function(e){m.setCustomThumbs(e)},this.________EXTERNAL_GETTERS___________=function(){},this.getObjects=function(){var e=m.getOptions(),t=jQuery.extend(f,e);return{g_gallery:c,g_objGallery:o,g_objWrapper:a,g_arrItems:s,g_objStrip:l,g_objStripInner:u,g_aviaControl:d,g_touchThumbsControl:_,isVertical:p,g_options:t,g_thumbs:m}},this.getObjThumbs=function(){return m},this.getSelectedThumb=function(){var e=c.getSelectedItemIndex();return-1==e?null:m.getThumbByIndex(e)},this.getSizeAndPosition=function(){return h.getElementSize(l)},this.getHeight=function(){return l.outerHeight()},this.getWidth=function(){return l.outerWidth()},this.getSizes=function(){return v},this.isVertical=function(){return p},this.isPlaced=function(){return b.is_placed},this.isMoveEnabled=function(){return C()}}function UGTouchThumbsControl(){var I,t,r,w,i,E,n=new UGFunctions,T={touch_portion_time:200,thumb_touch_slowFactor:0,minDeltaTime:70,minPath:10,limitsBreakAddition:30,returnAnimateSpeed:500,animationEasing:"easeOutCubic",returnAnimationEasing:"easeOutCubic"},S={touch_active:!1,loop_active:!1,mousePos:0,innerPos:0,startPos:0,startTime:0,lastTime:0,buttonReleaseTime:0,lastPos:0,lastPortionPos:0,lastDeltaTime:0,lastDeltaPos:0,speed:0,handle:"",touchEnabled:!1,isControlEnabled:!0};function o(){var e=jQuery.now(),t={};return t.passedTime=S.lastTime-S.startTime,t.lastActiveTime=e-S.buttonReleaseTime,t.passedDistance=S.lastPos-S.startPos,t.passedDistanceAbs=Math.abs(t.passedDistance),t}function a(e){return 0==E?n.getMousePosition(e).pageX:n.getMousePosition(e).pageY}function s(){var e=jQuery.now();e-S.lastTime>=T.touch_portion_time&&(S.lastDeltaTime=e-S.lastTime,S.lastDeltaTime>T.touch_portion_time&&(S.lastDeltaTime=T.touch_portion_time),S.lastDeltaPos=S.lastPos-S.lastPortionPos,S.lastPortionPos=S.lastPos,S.lastTime=e)}function P(){S.lastPos=I.getInnerStripPos(),I.triggerStripMoveEvent()}function l(e){if(0==S.loop_active)return!0;if(e){a(e);!function(){var e=T.thumb_touch_slowFactor,t=T.minDeltaTime,i=T.minPath,n=I.getInnerStripPos(),r=jQuery.now()-S.lastTime,o=n-S.lastPortionPos;r<t&&0<S.lastDeltaTime&&(r=S.lastDeltaTime,o=S.lastDeltaPos+o),r<t&&(r=t);var a=0;0<r&&(a=o/r);var s=a*a/(2*e)*(0<o?1:-1);Math.abs(s)<=i&&(s=0);var l=I.getInnerStripPos(),u=l+s,d=I.fixInnerStripLimits(u),_=I.getInnerStripLimits(),g=T.limitsBreakAddition,c=!1,h=d;if(u>_.maxPos&&(c=!0,u<(d=g)&&(d=u)),u<_.minPos){c=!0;var p=_.minPos-g;(d=p)<u&&(d=u)}var m=d-l,f=Math.abs(Math.round(a/e));if(0!=s&&(f=f*m/s),l!=d){var b={left:d+"px"};1==E&&(b={top:d+"px"}),w.animate(b,{duration:f,easing:T.animationEasing,queue:!0,progress:P})}if(1==c){var v=T.returnAnimateSpeed,y={left:h+"px"};1==E&&(y={top:h+"px"}),w.animate(y,{duration:v,easing:T.returnAnimationEasing,queue:!0,progress:P})}}()}S.loop_active=!1,S.handle=clearInterval(S.handle)}function u(e){return 0==S.isControlEnabled||(S.buttonReleaseTime=jQuery.now(),0==S.touch_active?(l(e),!0):(e.preventDefault(),S.touch_active=!1,l(e),void r.removeClass("ug-dragging")))}function d(e){if(0==S.isControlEnabled)return!0;e.preventDefault(),S.touch_active=!0;var t,i,n=a(e);w.stop(!0),t=n,i=I.getInnerStripPos(),S.mousePos=t,S.innerPos=i,S.lastPortionPos=i,S.lastDeltaTime=0,S.lastDeltaPos=0,S.startTime=jQuery.now(),S.startPos=S.innerPos,S.lastTime=S.startTime,S.lastPos=S.startPos,S.speed=0,function(){if(1==S.loop_active)return;S.loop_active=!0,S.handle=setInterval(s,10)}(),r.addClass("ug-dragging")}function _(e){if(0==S.isControlEnabled)return!0;if(0==S.touch_active)return!0;if(e.preventDefault(),0==e.buttons)return S.touch_active=!1,l(e),!0;var t=a(e);S.lastPos=I.getInnerStripPos(),function(e){var t=S.mousePos-e,i=S.innerPos-t,n=I.getInnerStripLimits();if(i>n.maxPos){var r=i-n.maxPos;i=n.maxPos+r/3}i<n.minPos&&(r=n.minPos-i,i=n.minPos-r/3);I.positionInnerStrip(i)}(t),s()}this.enable=function(){S.isControlEnabled=!0},this.disable=function(){S.isControlEnabled=!1},this.init=function(e){t=(I=e).getObjects(),t.g_gallery,t.g_objGallery,r=t.g_objStrip,w=t.g_objStripInner,i=t.g_options,E=t.isVertical,T.thumb_touch_slowFactor=n.normalizeSetting(5e-5,.01,1,100,i.strip_thumb_touch_sensetivity,!0),r.bind("mousedown touchstart",d),jQuery(window).add("body").bind("mouseup touchend",u),jQuery("body").bind("mousemove touchmove",_)},this.isSignificantPassed=function(){var e=o();return 300<e.passedTime||30<e.passedDistanceAbs},this.isTouchActive=function(){return 1==S.touch_active||(1==w.is(":animated")||o().lastActiveTime<50)},this.destroy=function(){r.unbind("mousedown"),r.unbind("touchstart"),jQuery(window).add("body").unbind("mouseup").unbind("touchend"),jQuery("body").unbind("mousemove").unbind("touchmove")}}function UGPanelsBase(){var o,a,n,s,l,i,u,d=new UniteGalleryMain,r=this,_=new UGFunctions;function g(e,t){switch(o.orientation){case"right":case"left":var i={left:e+"px"};break;case"top":case"bottom":i={top:e+"px"}}n.stop(!0).animate(i,{duration:300,easing:"easeInOutQuad",queue:!1,complete:function(){t&&t()}})}function c(e){switch(o.orientation){case"right":case"left":_.placeElement(n,e,null);break;case"top":case"bottom":_.placeElement(n,null,e)}}function h(){l.trigger(a.events.FINISH_MOVE)}this.init=function(e,t,i,n,r){o=t,a=i,d=e,s=n,l=r,u=jQuery(d)},this.setHtml=function(e){if(n=e,"strip"==o.panelType)var t=s.strippanel_enable_handle;else t=s.gridpanel_enable_handle;if(1==t&&((i=new UGPanelHandle).init(a,n,s,o.panelType,d),i.setHtml()),!0===o.isDisabledAtStart){n.append("<div class='ug-overlay-disabled'></div>"),setTimeout(function(){n.children(".ug-overlay-disabled").hide()},o.disabledAtStartTimeout)}},this.placeElements=function(){i&&i.placeHandle()},this.initEvents=function(){i&&(i.initEvents(),u.on(d.events.SLIDER_ACTION_START,function(){i.hideHandle()}),u.on(d.events.SLIDER_ACTION_END,function(){i.showHandle()}))},this.destroy=function(){i&&(i.destroy(),u.off(d.events.SLIDER_ACTION_START),u.off(d.events.SLIDER_ACTION_END))},this.openPanel=function(e){if(!e)e=!1;return!n.is(":animated")&&(0!=o.isClosed&&(o.isClosed=!1,l.trigger(a.events.OPEN_PANEL),void(!1===e?g(o.originalPos,h):(c(o.originalPos),h()))))},this.closePanel=function(e){if(!e)e=!1;if(n.is(":animated"))return!1;if(1==o.isClosed)return!1;var t=r.getClosedPanelDest();o.isClosed=!0,l.trigger(a.events.CLOSE_PANEL),!1===e?g(t,h):(c(t),h())},this.setClosedState=function(e){o.originalPos=e,l.trigger(a.events.CLOSE_PANEL),o.isClosed=!0},this.setOpenedState=function(e){l.trigger(a.events.OPEN_PANEL),o.isClosed=!1},this.getClosedPanelDest=function(){var e,t=_.getElementSize(n);switch(o.orientation){case"left":o.originalPos=t.left,e=-o.panelWidth;break;case"right":o.originalPos=t.left,e=d.getSize().width;break;case"top":o.originalPos=t.top,e=-o.panelHeight;break;case"bottom":o.originalPos=t.top,e=d.getSize().height}return e},this.isPanelClosed=function(){return o.isClosed},this.setDisabledAtStart=function(e){if(e<=0)return!1;o.isDisabledAtStart=!0,o.disabledAtStartTimeout=e}}function UGPanelHandle(){var a,s,i,n=new UGFunctions,l={panel_handle_align:"top",panel_handle_offset:0,panel_handle_skin:0};function e(){i.removeClass("ug-button-hover")}function t(e){if(e.stopPropagation(),e.stopImmediatePropagation(),0==n.validateClickTouchstartEvent(e.type))return!0;s.isPanelClosed()?s.openPanel():s.closePanel()}this.init=function(e,t,i,n,r){switch(s=e,a=t,n){case"grid":l.panel_handle_align=i.gridpanel_handle_align,l.panel_handle_offset=i.gridpanel_handle_offset,l.panel_handle_skin=i.gridpanel_handle_skin;break;case"strip":l.panel_handle_align=i.strippanel_handle_align,l.panel_handle_offset=i.strippanel_handle_offset,l.panel_handle_skin=i.strippanel_handle_skin;break;default:throw new Error("Panel handle error: wrong panel type: "+n)}var o=r.getOptions().gallery_skin;""==l.panel_handle_skin&&(l.panel_handle_skin=o)},this.setHtml=function(){var e="ug-panel-handle-tip";switch(s.getOrientation()){case"right":e+=" ug-handle-tip-left";break;case"left":e+=" ug-handle-tip-right";break;case"bottom":e+=" ug-handle-tip-top";break;case"top":e+=" ug-handle-tip-bottom"}a.append("<div class='"+e+" ug-skin-"+l.panel_handle_skin+"'></div>"),i=a.children(".ug-panel-handle-tip")},this.initEvents=function(){n.addClassOnHover(i),i.bind("click touchstart",t),jQuery(s).on(s.events.OPEN_PANEL,function(){e(),i.removeClass("ug-button-closed")}),jQuery(s).on(s.events.CLOSE_PANEL,function(){e(),i.addClass("ug-button-closed")})},this.destroy=function(){n.destroyButton(i),jQuery(s).off(s.events.OPEN_PANEL),jQuery(s).off(s.events.CLOSE_PANEL)},this.placeHandle=function(){var e=n.getElementSize(i);!function(){switch(s.getOrientation()){case"right":case"left":"top"!=l.panel_handle_align&&"bottom"!=l.panel_handle_align&&(l.panel_handle_align="top");break;case"bottom":"left"!=l.panel_handle_align&&"right"!=l.panel_handle_align&&(l.panel_handle_align="left");break;case"top":"left"!=l.panel_handle_align&&"right"!=l.panel_handle_align&&(l.panel_handle_align="right")}}();var t=s.getOrientation();switch(t){case"left":n.placeElement(i,"right",l.panel_handle_align,-e.width);break;case"right":n.placeElement(i,-e.width,l.panel_handle_align,0,l.panel_handle_offset);break;case"top":n.placeElement(i,l.panel_handle_align,"bottom",l.panel_handle_offset,-e.height);break;case"bottom":n.placeElement(i,l.panel_handle_align,"top",l.panel_handle_offset,-e.height);break;default:throw new Error("Wrong panel orientation: "+t)}},this.hideHandle=function(){1==i.is(":visible")&&i.hide()},this.showHandle=function(){0==i.is(":visible")&&i.show()}}function UGStripPanel(){var r,o,a,s,l,u=this,d=jQuery(this),_=new UniteGalleryMain,g=new UGFunctions,c=new UGThumbsStrip,h=new UGPanelsBase,p={strippanel_vertical_type:!(this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"}),strippanel_padding_top:8,strippanel_padding_bottom:8,strippanel_padding_left:0,strippanel_padding_right:0,strippanel_enable_buttons:!0,strippanel_buttons_skin:"",strippanel_padding_buttons:2,strippanel_buttons_role:"scroll_strip",strippanel_enable_handle:!0,strippanel_handle_align:"top",strippanel_handle_offset:0,strippanel_handle_skin:"",strippanel_background_color:""},m={strip_vertical_type:!0,strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:0,strippanel_padding_bottom:0},f={strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:8,strippanel_padding_bottom:8},b={panelType:"strip",panelWidth:0,panelHeight:0,isEventsInited:!1,isClosed:!1,orientation:null,originalPos:null,isFirstRun:!0};function e(){if(1==b.isFirstRun&&0==function(){if(0==p.strippanel_vertical_type){if(0==b.panelWidth)throw new Error("Strip panel error: The width not set, please set width")}else if(0==b.panelHeight)throw new Error("Strip panel error: The height not set, please set height");if(null==b.orientation)throw new Error("Wrong orientation, please set panel orientation before run");return!0}())return!1;c.run(),i(),n(),function(){if(1==b.isEventsInited)return;if(b.isEventsInited=!0,s)if(g.addClassOnHover(s,"ug-button-hover"),g.addClassOnHover(l,"ug-button-hover"),g.setButtonOnClick(l,y),g.setButtonOnClick(s,v),"advance_item"!=p.strippanel_buttons_role)jQuery(c).on(c.events.STRIP_MOVE,w),jQuery(c).on(c.events.INNER_SIZE_CHANGE,I),r.on(_.events.SIZE_CHANGE,I);else{var e=_.getOptions();0==e.gallery_carousel&&jQuery(_).on(_.events.ITEM_CHANGE,E)}h.initEvents()}(),b.isFirstRun=!1,I()}function t(e){if(!e)e=o;if(e.append("<div class='ug-strip-panel'></div>"),a=e.children(".ug-strip-panel"),1==p.strippanel_enable_buttons){var t="ug-strip-arrow-left",i="ug-strip-arrow-right";1==p.strippanel_vertical_type&&(t="ug-strip-arrow-up",i="ug-strip-arrow-down"),a.append("<div class='ug-strip-arrow "+t+" ug-skin-"+p.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>"),a.append("<div class='ug-strip-arrow "+i+" ug-skin-"+p.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>")}h.setHtml(a),c.setHtml(a),1==p.strippanel_enable_buttons&&(l=a.children("."+t),s=a.children("."+i)),""!=p.strippanel_background_color&&a.css("background-color",p.strippanel_background_color)}function i(){0==p.strippanel_vertical_type?function(){var e=c.getHeight(),t=b.panelWidth;if(s){l.height(e),s.height(e);var i=l.children(".ug-strip-arrow-tip");g.placeElement(i,"center","middle");var n=s.children(".ug-strip-arrow-tip");g.placeElement(n,"center","middle")}var r=e+p.strippanel_padding_top+p.strippanel_padding_bottom;a.width(t),a.height(r),b.panelHeight=r;var o=t-p.strippanel_padding_left-p.strippanel_padding_right;s&&(o=o-2*s.outerWidth()-2*p.strippanel_padding_buttons),c.resize(o)}():function(){var e=c.getWidth(),t=b.panelHeight;if(s){l.width(e),s.width(e);var i=l.children(".ug-strip-arrow-tip");g.placeElement(i,"center","middle");var n=s.children(".ug-strip-arrow-tip");g.placeElement(n,"center","middle")}var r=e+p.strippanel_padding_left+p.strippanel_padding_right;a.width(r),a.height(t),b.panelWidth=r;var o=t-p.strippanel_padding_top-p.strippanel_padding_bottom;s&&(o=o-2*s.outerHeight()-2*p.strippanel_padding_buttons),c.resize(o)}()}function n(){0==p.strippanel_vertical_type?function(){s&&(g.placeElement(l,"left","top",p.strippanel_padding_left,p.strippanel_padding_top),g.placeElement(s,"right","top",p.strippanel_padding_right,p.strippanel_padding_top));var e=p.strippanel_padding_left;s&&(e+=s.outerWidth()+p.strippanel_padding_buttons),c.setPosition(e,p.strippanel_padding_top)}():function(){s&&(g.placeElement(l,"left","top",p.strippanel_padding_left,p.strippanel_padding_top),g.placeElement(s,"left","bottom",p.strippanel_padding_left,p.strippanel_padding_bottom));var e=p.strippanel_padding_top;s&&(e+=s.outerHeight()+p.strippanel_padding_buttons),c.setPosition(p.strippanel_padding_left,e)}(),h.placeElements()}function v(e){if(g.isButtonDisabled(e))return!0;"advance_item"==p.strippanel_buttons_role?_.nextItem():c.scrollForeward()}function y(e){if(g.isButtonDisabled(e))return!0;"advance_item"==p.strippanel_buttons_role?_.prevItem():c.scrollBack()}function I(){if(!s)return!0;if(0==c.isMoveEnabled())return g.disableButton(l),g.disableButton(s),!0;var e=c.getInnerStripLimits(),t=c.getInnerStripPos();t>=e.maxPos?g.disableButton(l):g.enableButton(l),t<=e.minPos?g.disableButton(s):g.enableButton(s)}function w(){I()}function E(){_.isLastItem()?g.disableButton(s):g.enableButton(s),_.isFirstItem()?g.disableButton(l):g.enableButton(l)}this.destroy=function(){s&&(g.destroyButton(s),g.destroyButton(l),jQuery(c).off(c.events.STRIP_MOVE),jQuery(_).off(_.events.ITEM_CHANGE),jQuery(_).off(_.events.SIZE_CHANGE)),h.destroy(),c.destroy()},this.getOrientation=function(){return b.orientation},this.setOrientation=function(e){b.orientation=e},this.init=function(e,t){!function(e,t){_=e,r=jQuery(_);var i=!1;1==(p=jQuery.extend(p,t)).strippanel_vertical_type&&(p=jQuery.extend(p,m),i=!0),0==p.strippanel_enable_buttons&&(p=jQuery.extend(p,f),i=!0),1==i&&(p=jQuery.extend(p,t));var n=_.getOptions().gallery_skin;""==p.strippanel_buttons_skin&&(p.strippanel_buttons_skin=n),o=_.getElement(),h.init(_,b,u,p,d),(c=new UGThumbsStrip).init(_,p)}(e,t)},this.run=function(){e()},this.setHtml=function(e){t(e)},this.getElement=function(){return a},this.getSize=function(){return g.getElementSize(a)},this.setWidth=function(e){b.panelWidth=e},this.setHeight=function(e){b.panelHeight=e},this.resize=function(e){u.setWidth(e),i(),n()},this.__________Functions_From_Base_____=function(){},this.isPanelClosed=function(){return h.isPanelClosed()},this.getClosedPanelDest=function(){return h.getClosedPanelDest()},this.openPanel=function(e){h.openPanel(e)},this.closePanel=function(e){h.closePanel(e)},this.setOpenedState=function(e){h.setOpenedState(e)},this.setClosedState=function(e){h.setClosedState(e)},this.setCustomThumbs=function(e){c.setCustomThumbs(e)},this.setDisabledAtStart=function(e){h.setDisabledAtStart(e)}}function UGGridPanel(){var r,t,_,g,o=this,a=jQuery(this),s=new UniteGalleryMain,c=new UGFunctions,h=new UGThumbsGrid,l=new UGPanelsBase,p={gridpanel_vertical_scroll:!0,gridpanel_grid_align:"middle",gridpanel_padding_border_top:10,gridpanel_padding_border_bottom:4,gridpanel_padding_border_left:10,gridpanel_padding_border_right:10,gridpanel_arrows_skin:"",gridpanel_arrows_align_vert:"middle",gridpanel_arrows_padding_vert:4,gridpanel_arrows_align_hor:"center",gridpanel_arrows_padding_hor:10,gridpanel_space_between_arrows:20,gridpanel_arrows_always_on:!(this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"}),gridpanel_enable_handle:!0,gridpanel_handle_align:"top",gridpanel_handle_offset:0,gridpanel_handle_skin:"",gridpanel_background_color:""},u={gridpanel_grid_align:"middle",gridpanel_padding_border_top:2,gridpanel_padding_border_bottom:2},d={gridpanel_grid_align:"center"},m={panelType:"grid",isHorType:!1,arrowsVisible:!1,panelHeight:0,panelWidth:0,originalPosX:null,isEventsInited:!1,isClosed:!1,orientation:null};function f(){if(null==m.orientation)throw new Error("Wrong orientation, please set panel orientation before run")}function e(){f(),"center"==p.gridpanel_grid_align&&(p.gridpanel_grid_align="middle"),h.run(),function(){var e=!1;if(1==p.gridpanel_arrows_always_on)e=!0;else{var t=h.getNumPanes();1<t&&(e=!0)}m.arrowsVisible=1==e?(_.show().fadeTo(0,1),g.show().fadeTo(0,1),!0):(_.hide(),g.hide(),!1)}(),function(){var e=h.getSize();1==m.isHorType?m.panelHeight=e.height+p.gridpanel_padding_border_top+p.gridpanel_padding_border_bottom:m.panelWidth=e.width+p.gridpanel_padding_border_left+p.gridpanel_padding_border_right;c.setElementSize(t,m.panelWidth,m.panelHeight)}(),function(){0==m.isHorType?1==p.gridpanel_vertical_scroll?1==m.arrowsVisible?function(){var e,t,i,n,r=c.getElementSize(g),o=h.getSize();switch(p.gridpanel_grid_align){default:case"top":e=p.gridpanel_padding_border_top+r.height+p.gridpanel_arrows_padding_vert;break;case"middle":e="middle";break;case"bottom":e=m.panelHeight-o.height-r.height-p.gridpanel_padding_border_bottom-p.gridpanel_arrows_padding_vert}var a=b(),s=h.getElement();c.placeElement(s,a,e);var o=h.getSize();switch(p.gridpanel_arrows_align_vert){default:case"center":case"middle":t=(o.top-r.height)/2,i=o.bottom+(m.panelHeight-o.bottom-r.height)/2,n=0;break;case"grid":t=o.top-r.height-p.gridpanel_arrows_padding_vert_vert,i=o.bottom+p.gridpanel_arrows_padding_vert,n=0;break;case"border":case"borders":t=p.gridpanel_padding_border_top,i="bottom",n=p.gridpanel_padding_border_bottom}c.placeElement(g,"center",t),c.placeElement(_,"center",i,0,n)}():n():1==m.arrowsVisible?function(){var e,t,i,n=c.getElementSize(g),r=h.getSize(),o=p.gridpanel_padding_border_top;switch(p.gridpanel_grid_align){case"middle":switch(p.gridpanel_arrows_align_vert){default:var a=r.height+p.gridpanel_arrows_padding_vert+n.height;o=(m.panelHeight-a)/2;break;case"border":case"borders":var s=m.panelHeight-n.height-p.gridpanel_padding_border_bottom;o=(s-r.height)/2}break;case"bottom":var a=r.height+n.height+p.gridpanel_arrows_padding_vert;o=m.panelHeight-a-p.gridpanel_padding_border_bottom}var l=h.getElement(),u=b();c.placeElement(l,u,o);var r=h.getSize();switch(p.gridpanel_arrows_align_vert){default:case"center":case"middle":e=r.bottom+(m.panelHeight-r.bottom-n.height)/2,i=0;break;case"grid":e=r.bottom+p.gridpanel_arrows_padding_vert,i=0;break;case"border":case"borders":e="bottom",i=p.gridpanel_padding_border_bottom}t=-n.width/2-p.gridpanel_space_between_arrows/2,c.placeElement(g,"center",e,t,i);var d=Math.abs(t);c.placeElement(_,"center",e,d,i)}():n():1==m.arrowsVisible?function(){var e,t,i,n,r=c.getElementSize(g),o=h.getSize();switch(p.gridpanel_grid_align){default:case"left":e=p.gridpanel_padding_border_left+p.gridpanel_arrows_padding_hor+r.width;break;case"middle":case"center":e="center";break;case"right":e=m.panelWidth-o.width-r.width-p.gridpanel_padding_border_right-p.gridpanel_arrows_padding_hor}var a=h.getElement();switch(c.placeElement(a,e,p.gridpanel_padding_border_top),o=h.getSize(),p.gridpanel_arrows_align_vert){default:case"center":case"middle":n=(o.height-r.height)/2+o.top;break;case"top":n=p.gridpanel_padding_border_top+p.gridpanel_arrows_padding_vert;break;case"bottom":n=m.panelHeight-p.gridpanel_padding_border_bottom-p.gridpanel_arrows_padding_vert-r.height}switch(p.gridpanel_arrows_align_hor){default:case"borders":t=p.gridpanel_padding_border_left,i=m.panelWidth-p.gridpanel_padding_border_right-r.width;break;case"grid":t=o.left-p.gridpanel_arrows_padding_hor-r.width,i=o.right+p.gridpanel_arrows_padding_hor;break;case"center":t=(o.left-r.width)/2,i=o.right+(m.panelWidth-o.right-r.width)/2}c.placeElement(g,t,n),c.placeElement(_,i,n)}():function(){var e,t=h.getSize();switch(p.gridpanel_grid_align){default:case"left":e=p.gridpanel_padding_border_left;break;case"middle":case"center":e="center";break;case"right":e=m.panelWidth-t.width-p.gridpanel_padding_border_right}var i=h.getElement();c.placeElement(i,e,p.gridpanel_padding_border_top)}();l.placeElements()}(),function(){if(1==m.isEventsInited)return;m.isEventsInited=!0,g&&(c.addClassOnHover(g),h.attachPrevPaneButton(g));_&&(c.addClassOnHover(_),h.attachNextPaneButton(_));l.initEvents()}()}function i(){r.append("<div class='ug-grid-panel'></div>"),t=r.children(".ug-grid-panel"),_=m.isHorType?(t.append("<div class='grid-arrow grid-arrow-left-hortype ug-skin-"+p.gridpanel_arrows_skin+"'></div>"),t.append("<div class='grid-arrow grid-arrow-right-hortype ug-skin-"+p.gridpanel_arrows_skin+"'></div>"),g=t.children(".grid-arrow-left-hortype"),t.children(".grid-arrow-right-hortype")):0==p.gridpanel_vertical_scroll?(t.append("<div class='grid-arrow grid-arrow-left ug-skin-"+p.gridpanel_arrows_skin+"'></div>"),t.append("<div class='grid-arrow grid-arrow-right ug-skin-"+p.gridpanel_arrows_skin+"'></div>"),g=t.children(".grid-arrow-left"),t.children(".grid-arrow-right")):(t.append("<div class='grid-arrow grid-arrow-up ug-skin-"+p.gridpanel_arrows_skin+"'></div>"),t.append("<div class='grid-arrow grid-arrow-down ug-skin-"+p.gridpanel_arrows_skin+"'></div>"),g=t.children(".grid-arrow-up"),t.children(".grid-arrow-down")),l.setHtml(t),g.fadeTo(0,0),_.fadeTo(0,0),h.setHtml(t),""!=p.gridpanel_background_color&&t.css("background-color",p.gridpanel_background_color)}function b(){return p.gridpanel_padding_border_left}function n(){var e=p.gridpanel_grid_align,t=0;switch(e){case"top":t=p.gridpanel_padding_border_top;break;case"bottom":t=p.gridpanel_padding_border_bottom}var i=b(),n=h.getElement();c.placeElement(n,i,e,0,t)}this.destroy=function(){g&&c.destroyButton(g),_&&c.destroyButton(_),l.destroy(),h.destroy()},this.getOrientation=function(){return m.orientation},this.setOrientation=function(e){switch(m.orientation=e){case"right":case"left":m.isHorType=!1;break;case"top":case"bottom":m.isHorType=!0;break;default:throw new Error("Wrong grid panel orientation: "+e)}},this.setHeight=function(e){if(1==m.isHorType)throw new Error("setHeight is not appliable to this orientatio ("+m.orientation+"). Please use setWidth");m.panelHeight=e;var t,i,n=(t=p.gridpanel_padding_border_top+p.gridpanel_padding_border_bottom,i=m.panelHeight-t,0==p.gridpanel_arrows_always_on&&1==h.getNumPanesEstimationByHeight(i)?i:(t=c.getElementSize(_).height+p.gridpanel_arrows_padding_vert,1==p.gridpanel_vertical_scroll&&(t*=2),t+=p.gridpanel_padding_border_top+p.gridpanel_padding_border_bottom,i=m.panelHeight-t));h.setMaxHeight(n)},this.setWidth=function(e){if(0==m.isHorType)throw new Error("setWidth is not appliable to this orientatio ("+m.orientation+"). Please use setHeight");m.panelWidth=e;var t,i,n=(t=p.gridpanel_padding_border_left+p.gridpanel_padding_border_right,i=m.panelWidth-t,0==p.gridpanel_arrows_always_on&&1==h.getNumPanesEstimationByWidth(i)?i:(t+=2*(c.getElementSize(_).width+p.gridpanel_arrows_padding_hor),i=m.panelWidth-t));h.setMaxWidth(n)},this.init=function(e,t){!function(e,t){s=e,f(),t&&t.vertical_scroll&&(p.gridpanel_vertical_scroll=t.vertical_scroll),p=jQuery.extend(p,t),1==m.isHorType?(p=jQuery.extend(p,d),p=jQuery.extend(p,t)):1==p.gridpanel_vertical_scroll&&(p=jQuery.extend(p,u),(p=jQuery.extend(p,t)).grid_panes_direction="bottom");var i=s.getOptions().gallery_skin;""==p.gridpanel_arrows_skin&&(p.gridpanel_arrows_skin=i);var n=e.getObjects();r=n.g_objWrapper,l.init(s,m,o,p,a),(h=new UGThumbsGrid).init(s,p)}(e,t)},this.setHtml=function(){i()},this.run=function(){e()},this.getElement=function(){return t},this.getSize=function(){return c.getElementSize(t)},this.__________Functions_From_Base_____=function(){},this.isPanelClosed=function(){return l.isPanelClosed()},this.getClosedPanelDest=function(){return l.getClosedPanelDest()},this.openPanel=function(e){l.openPanel(e)},this.closePanel=function(e){l.closePanel(e)},this.setOpenedState=function(e){l.setOpenedState(e)},this.setClosedState=function(e){l.setClosedState(e)},this.setDisabledAtStart=function(e){l.setDisabledAtStart(e)}}function UGThumbsGrid(){var o,a,s,l,f,b,u=this,n=jQuery(this),d=new UniteGalleryMain,v=new UGFunctions,_=new UGThumbsGeneral,g=new UGTileDesign,y={grid_panes_direction:"left",grid_num_cols:2,grid_min_cols:2,grid_num_rows:2,grid_space_between_cols:10,grid_space_between_rows:10,grid_space_between_mobile:10,grid_transition_duration:300,grid_transition_easing:"easeInOutQuad",grid_carousel:!1,grid_padding:0,grid_vertical_scroll_ondrag:!1},I={eventSizeChange:"thumb_size_change",isHorizontal:!(this.events={PANE_CHANGE:"pane_change"}),isMaxHeight:!1,isMaxWidth:!1,gridHeight:0,gridWidth:0,innerWidth:0,innerHeight:0,numPanes:0,arrPanes:0,numThumbs:0,currentPane:0,numThumbsInPane:0,isNavigationVertical:!1,touchActive:!1,startScrollPos:0,isFirstTimeRun:!0,isTilesMode:!1,storedEventID:"thumbsgrid",tileMaxWidth:null,tileMaxHeight:null,spaceBetweenCols:null,spaceBetweenRows:null};function r(e,t,i){var n;if(a=e.getObjects(),(d=e).attachThumbsPanel("grid",u),o=jQuery(e),s=a.g_objWrapper,l=a.g_arrItems,!0===i&&(I.isTilesMode=!0),I.numThumbs=l.length,n=t,y=jQuery.extend(y,n),_.setOptions(n),I.isNavigationVertical="top"==y.grid_panes_direction||"bottom"==y.grid_panes_direction,I.spaceBetweenCols=y.grid_space_between_cols,I.spaceBetweenRows=y.grid_space_between_rows,1==I.isTilesMode){g.setFixedMode(),g.setApproveClickFunction(j),g.init(e,y);var r=g.getOptions();I.tileMaxHeight=r.tile_height,I.tileMaxWidth=r.tile_width,_=g.getObjThumbs()}else t.thumb_fixed_size=!0,_.init(e,t)}function e(){var e=d.getSelectedItem();(function(){if(0==I.isHorizontal){if(0==I.gridHeight)throw new Error("You must set height before run.")}else if(0==I.gridWidth)throw new Error("You must set width before run.")}(),1==I.isFirstTimeRun)?(!function(){if(0==I.isTilesMode){_.initEvents();var e=f.find(".ug-thumb-wrapper");e.on("click touchend",C),o.on(d.events.ITEM_CHANGE,z)}else g.initEvents();f.bind("mousedown touchstart",A),jQuery("body").bind("mousemove touchmove",M),jQuery(window).add("body").bind("mouseup touchend",O)}(),1==I.isTilesMode?(h(),p(),g.run()):(_.setHtmlProperties(),p(),_.loadThumbsImages())):1==I.isTilesMode&&1==h()&&(p(),g.run());if(0==I.isHorizontal?I.isNavigationVertical?function(){var e=b.children(".ug-thumb-wrapper"),t=0,n=0,r=0,o=0,a=0,s=0;I.innerWidth=0,I.numPanes=1,I.arrPanes=[],I.numThumbsInPane=0,I.arrPanes.push(a);var l=e.length;for(i=0;i<l;i++){var u=jQuery(e[i]);v.placeElement(u,t,n);var d=u.outerWidth(),_=u.outerHeight();t+=d+I.spaceBetweenCols;var g=n+_;r<g&&(r=g),++o>=y.grid_num_cols&&(n+=_+I.spaceBetweenRows,t=a,o=0),1==I.numPanes&&I.numThumbsInPane++,g=n+_;var c=s+I.gridHeight;c<g&&(1==I.isMaxHeight&&1==I.numPanes&&(I.gridHeight=r,f.height(I.gridHeight),c=I.gridHeight),n=c+I.spaceBetweenRows,s=n,t=a=0,o=0,i<l-1&&(I.numPanes++,I.arrPanes.push(n)))}b.height(r),I.innerHeight=r,1==I.isMaxHeight&&1==I.numPanes&&(I.gridHeight=r,f.height(r))}():function(){var e=b.children(".ug-thumb-wrapper"),t=0,n=0,r=0,o=0,a=0,s=0;I.innerWidth=0,I.numPanes=1,I.arrPanes=[],I.numThumbsInPane=0,I.arrPanes.push(o);var l=e.length;for(i=0;i<l;i++){var u=jQuery(e[i]);v.placeElement(u,t,n);var d=u.outerWidth(),_=u.outerHeight();a<t&&(a=t);var g=n+_;s<g&&(s=g);var c=a+d;c>I.innerWidth&&(I.innerWidth=c),t+=d+I.spaceBetweenCols,++r>=y.grid_num_cols&&(n+=_+I.spaceBetweenRows,t=o,r=0),1==I.numPanes&&I.numThumbsInPane++,n+_>I.gridHeight&&(n=0,o=I.innerWidth+I.spaceBetweenCols,t=o,r=0,1==I.isMaxHeight&&1==I.numPanes&&(I.gridHeight=s,f.height(I.gridHeight)),i<l-1&&(I.numPanes++,I.arrPanes.push(o)))}b.width(I.innerWidth),1==I.isMaxHeight&&1==I.numPanes&&(I.gridHeight=s,f.height(s))}():function(){var e=b.children(".ug-thumb-wrapper"),t=y.grid_padding,n=y.grid_padding,r=n,o=t,a=0,s=0,l=0,u=0,d=0;I.innerWidth=0,I.numPanes=1,I.arrPanes=[],I.numThumbsInPane=0,I.arrPanes.push(t-y.grid_padding);var _=e.length;for(i=0;i<_;i++){var g=jQuery(e[i]),c=g.outerWidth(),h=g.outerHeight();o-t+c>I.gridWidth&&(r=0,++d>=y.grid_num_rows?(t=o,r=n,l=d=0,1==I.numPanes&&(I.gridWidth=a+y.grid_padding,f.width(I.gridWidth),I.gridHeight=u+y.grid_padding,f.height(I.gridHeight)),I.numPanes++,I.arrPanes.push(t-y.grid_padding)):(o=t,r=l+I.spaceBetweenRows)),v.placeElement(g,o,r);var p=o+c;a<p&&(a=p);var m=r+h;l<m&&(l=m),u<m&&(u=m),s<m&&(s=m);var p=a+c;p>I.innerWidth&&(I.innerWidth=p),o+=c+I.spaceBetweenCols,1==I.numPanes&&I.numThumbsInPane++}I.innerWidth=a+y.grid_padding,I.innerHeight=u+y.grid_padding,b.width(I.innerWidth),b.height(I.innerHeight),1==I.numPanes&&(I.gridWidth=a+y.grid_padding,I.gridHeight=u+y.grid_padding,f.width(I.gridWidth),f.height(I.gridHeight))}(),1==I.isFirstTimeRun&&I.isTilesMode){var t=_.getThumbs();t.each(function(e,t){s.trigger(I.eventSizeChange,jQuery(t))}),t.fadeTo(0,1)}null!=e&&m(e.index),n.trigger(u.events.PANE_CHANGE,I.currentPane),I.isFirstTimeRun=!1}function c(){if(1==I.isTilesMode)var e=g.getGlobalTileSize();else e=_.getGlobalThumbSize();return e}function h(){if(0==I.isTilesMode)throw new Error("Dynamic size can be set only in tiles mode");var e=!1,t=d.isMobileMode(),i=I.spaceBetweenCols;I.spaceBetweenRows=1==t?(I.spaceBetweenCols=y.grid_space_between_mobile,y.grid_space_between_mobile):(I.spaceBetweenCols=y.grid_space_between_cols,y.grid_space_between_rows),I.spaceBetweenCols!=i&&(e=!0);var n=c().width,r=I.tileMaxWidth;return v.getNumItemsInSpace(I.gridWidth,I.tileMaxWidth,I.spaceBetweenCols)<y.grid_min_cols&&(r=v.getItemSizeInSpace(I.gridWidth,y.grid_min_cols,I.spaceBetweenCols)),g.setTileSizeOptions(r),r!=n&&(e=!0),e}function p(){var e,t,i,n,r,o;0==I.isHorizontal?(n=c().width,r=y.grid_num_cols*n+(y.grid_num_cols-1)*I.spaceBetweenCols+2*y.grid_padding,o=I.gridHeight,I.gridWidth=r,v.setElementSize(f,r,o),v.setElementSize(b,r,o),I.innerWidth=r,I.innerHeight=o):(e=c().height,t=I.gridWidth,i=y.grid_num_rows*e+(y.grid_num_rows-1)*I.spaceBetweenRows+2*y.grid_padding,I.gridHeight=i,v.setElementSize(f,t,i),v.setElementSize(b,t,i),I.innerWidth=t,I.innerHeight=i)}function m(e){var t=P(e);if(-1==t)return!1;u.gotoPane(t,"scroll")}function w(e){var t=T(e);if(0==t)return!1;b.stop(!0).animate(t,{duration:y.grid_transition_duration,easing:y.grid_transition_easing,queue:!1})}function E(){w(-I.arrPanes[I.currentPane])}function T(e){var t={};return 1==I.isNavigationVertical?t.top=e+"px":t.left=e+"px",t}function S(){var e=v.getElementSize(b);return 1==I.isNavigationVertical?e.top:e.left}function P(e){return 0==function(e){if(e<0||e>=I.numThumbs)throw new Error("Thumb not exists: "+e);return!0}(e)?-1:Math.floor(e/I.numThumbsInPane)}function x(){var e=v.getStoredEventData(I.storedEventID),t=S();diffPos=Math.abs(e.startInnerPos-t);var i=1==I.isNavigationVertical?I.gridHeight:I.gridWidth,n=Math.round(3*i/8);return diffPos>=n||e.diffTime<300&&25<diffPos}function j(){return 1==I.numPanes||v.isApproveStoredEventClick(I.storedEventID,I.isNavigationVertical)}function C(e){if(1==function(){if(1==I.numPanes)return!1;var e=v.getStoredEventData(I.storedEventID),t=e.diffTime,i=S(),n=Math.abs(i-e.startInnerPos);return 30<n||5<n&&300<t}())return!0;var t=jQuery(this),i=_.getItemByThumb(t);d.selectItem(i)}function A(e){if(1==I.numPanes)return!0;if(1==I.touchActive)return!0;0==I.isTilesMode&&e.preventDefault(),I.touchActive=!0;var t={startInnerPos:S()};v.storeEventData(e,I.storedEventID,t)}function M(e){if(0==I.touchActive)return!0;e.preventDefault(),v.updateStoredEventData(e,I.storedEventID);var t=v.getStoredEventData(I.storedEventID,I.isNavigationVertical);if(0!=y.grid_vertical_scroll_ondrag&&1!=I.isNavigationVertical&&"vert"===v.handleScrollTop(I.storedEventID))return!0;var i=t.diffMousePos,n=t.startInnerPos+i,r=0<i?"prev":"next",o=I.arrPanes[I.numPanes-1];0==y.grid_carousel&&0<n&&"prev"==r&&(n/=3),0==y.grid_carousel&&n<-o&&"next"==r&&(n=t.startInnerPos+i/3),function(e){var t=T(e);if(0==t)return;b.css(t)}(n)}function O(e){if(0==I.touchActive)return!0;v.updateStoredEventData(e,I.storedEventID);var t=v.getStoredEventData(I.storedEventID,I.isNavigationVertical);if(I.touchActive=!1,0==x())return E(),!0;"next"==(0<S()-t.startInnerPos?"prev":"next")?0==y.grid_carousel&&u.isLastPane()?E():u.nextPane():0==y.grid_carousel&&u.isFirstPane()?E():u.prevPane()}function z(){var e=d.getSelectedItem();_.setThumbSelected(e.objThumbWrapper),m(e.index)}this.destroy=function(){if(0==I.isTilesMode){var e=f.find(".ug-thumb-wrapper");e.off("click"),e.off("touchend"),o.on(d.events.ITEM_CHANGE),_.destroy()}else g.destroy();f.unbind("mousedown"),f.unbind("touchstart"),jQuery("body").unbind("mousemove"),jQuery("body").unbind("touchmove"),jQuery(window).add("body").unbind("touchend"),jQuery(window).add("body").unbind("mouseup"),n.off(u.events.PANE_CHANGE)},this.__________EXTERNAL_GENERAL_________=function(){},this.setThumbUnselected=function(e){_.setThumbUnselected(e)},this.isItemThumbVisible=function(e){return P(e.index)==I.currentPane},this.__________EXTERNAL_API_________=function(){},this.getNumPanesEstimationByHeight=function(e){if(1==I.isTilesMode)var t=y.tile_height;else t=_.getOptions().thumb_height;var i=_.getNumThumbs(),n=Math.ceil(i/y.grid_num_cols),r=n*t+(n-1)*I.spaceBetweenRows;return Math.ceil(r/e)},this.getNumPanesEstimationByWidth=function(e){if(I.isTilesMode)var t=y.tile_width;else t=_.getOptions().thumb_width;var i=_.getNumThumbs(),n=Math.ceil(i/y.grid_num_rows),r=n*t+(n-1)*I.spaceBetweenCols;return Math.ceil(r/e)},this.getHeightEstimationByWidth=function(e){if(0==I.isTilesMode)throw new Error("This function works only with tiles mode");var t=_.getNumThumbs(),i=v.getNumItemsInSpace(e,y.tile_width,I.spaceBetweenCols),n=Math.ceil(t/i);n>y.grid_num_rows&&(n=y.grid_num_rows);var r=v.getSpaceByNumItems(n,y.tile_height,I.spaceBetweenRows);return r+=2*y.grid_padding},this.getElement=function(){return f},this.getSize=function(){return v.getElementSize(f)},this.getNumPanes=function(){return I.numPanes},this.isFirstPane=function(){return 0==I.currentPane},this.isLastPane=function(){return I.currentPane==I.numPanes-1},this.getPaneInfo=function(){return{pane:I.currentPane,total:I.numPanes}},this.getPane=function(){return I.currentPane},this.setWidth=function(e){I.gridWidth=e,I.isHorizontal=!0},this.setMaxWidth=function(e){I.gridWidth=e,I.isMaxWidth=!0,I.isHorizontal=!0},this.setHeight=function(e){I.gridHeight=e,I.isHorizontal=!1},this.setMaxHeight=function(e){I.gridHeight=e,I.isMaxHeight=!0,I.isHorizontal=!1},this.gotoPane=function(e,t){if(0==function(e){if(e>=I.numPanes||e<0)throw new Error("Pane "+index+" doesn't exists.");return!0}(e))return!1;if(e==I.currentPane)return!1;var i=-I.arrPanes[e];I.currentPane=e,w(i),n.trigger(u.events.PANE_CHANGE,e)},this.nextPane=function(){var e=I.currentPane+1;if(e>=I.numPanes){if(0==y.grid_carousel)return!0;e=0}u.gotoPane(e,"next")},this.prevPane=function(){var e=I.currentPane-1;if(e<0&&(e=I.numPanes-1,0==y.grid_carousel))return!1;u.gotoPane(e,"prev")},this.attachNextPaneButton=function(e){if(v.setButtonOnClick(e,u.nextPane),1==y.grid_carousel)return!0;u.isLastPane()&&e.addClass("ug-button-disabled"),n.on(u.events.PANE_CHANGE,function(){u.isLastPane()?e.addClass("ug-button-disabled"):e.removeClass("ug-button-disabled")})},this.attachPrevPaneButton=function(e){if(v.setButtonOnClick(e,u.prevPane),1==y.grid_carousel)return!0;u.isFirstPane()&&e.addClass("ug-button-disabled"),n.on(u.events.PANE_CHANGE,function(){u.isFirstPane()?e.addClass("ug-button-disabled"):e.removeClass("ug-button-disabled")})},this.attachBullets=function(i){i.setActive(I.currentPane),jQuery(i).on(i.events.BULLET_CLICK,function(e,t){u.gotoPane(t,"theme"),i.setActive(t)}),jQuery(u).on(u.events.PANE_CHANGE,function(e,t){i.setActive(t)})},this.getObjTileDesign=function(){return g},this.init=function(e,t,i){r(e,t,i)},this.run=function(){e()},this.setHtml=function(e){var t,i;i=s,(t=e)&&(i=t),i.append("<div class='ug-thumbs-grid'><div class='ug-thumbs-grid-inner'></div></div>"),f=i.children(".ug-thumbs-grid"),b=f.children(".ug-thumbs-grid-inner"),1==I.isTilesMode?g.setHtml(b):_.setHtmlThumbs(b)}}function UGTiles(){var r,o,g,w,E,a=this,s=jQuery(this),u=new UniteGalleryMain,c=new UGFunctions,h=new UGTileDesign,b=new UGThumbsGeneral,d={},v={tiles_type:"columns",tiles_col_width:250,tiles_align:"center",tiles_exact_width:!1,tiles_space_between_cols:3,tiles_space_between_cols_mobile:3,tiles_include_padding:!0,tiles_min_columns:2,tiles_max_columns:0,tiles_keep_order:!1,tiles_set_initial_height:!0,tiles_justified_row_height:150,tiles_justified_space_between:3,tiles_nested_optimal_tile_width:250,tiles_nested_col_width:null,tiles_nested_debug:!1,tiles_enable_transition:!0},l={isFirstTimeRun:!0,handle:null,isTransActive:!(this.events={THUMB_SIZE_CHANGE:"thumb_size_change",TILES_FIRST_PLACED:"tiles_first_placed",ALL_TILES_LOADED:"all_tiles_loaded"}),isTransInited:!1,isFirstPlaced:!0,isAllLoaded:!1},T={colWidth:null,nestedOptimalCols:5,gridY:0,maxColumns:0,columnsValueToEnableHeightResize:3,resizeLeftRightToColumn:!0,currentItem:0,currentGap:null,optimalTileWidth:null,maxGridY:0};function i(e,t){g_objects=e.getObjects(),u=e,r=jQuery(e),o=g_objects.g_objWrapper,g_objects.g_arrItems,v=jQuery.extend(v,t),function(){v.tiles_min_columns<1&&(v.tiles_min_columns=1);0!=v.tiles_max_columns&&v.tiles_max_columns<v.tiles_min_columns&&(v.tiles_max_columns=v.tiles_min_columns)}(),h.init(e,v),b=h.getObjThumbs()}function _(){if(g.addClass("ug-tiles-rest-mode"),l.isTransInited=!0,1==v.tiles_enable_transition){g.addClass("ug-tiles-transit");var e=h.getOptions();1==e.tile_enable_image_effect&&0==e.tile_image_effect_reverse&&g.addClass("ug-tiles-transit-overlays"),l.isTransActive=!0}}function y(){return c.getElementSize(g).width}function p(){return 0!=l.isTransInited&&(g.addClass("ug-tiles-transition-active"),g.removeClass("ug-tiles-rest-mode"),0!=l.isTransActive&&void h.disableEvents())}function e(){if(0==l.isTransInited)return!1;g.removeClass("ug-tiles-transition-active"),g.addClass("ug-tiles-rest-mode")}function m(){1==l.isTransActive?(setTimeout(function(){h.enableEvents(),h.triggerSizeChangeEventAllTiles(),e()},800),l.handle&&clearTimeout(l.handle),l.handle=setTimeout(function(){e(),h.triggerSizeChangeEventAllTiles(),l.handle=null},2e3)):(h.triggerSizeChangeEventAllTiles(),e())}function n(){d.colWidth=(d.availWidth-d.colGap*(d.numCols-1))/d.numCols,d.colWidth=Math.floor(d.colWidth),d.totalWidth=c.getSpaceByNumItems(d.numCols,d.colWidth,d.colGap)}function f(){if(d.colWidth=v.tiles_col_width,d.minCols=v.tiles_min_columns,d.maxCols=v.tiles_max_columns,0==u.isMobileMode()?d.colGap=v.tiles_space_between_cols:d.colGap=v.tiles_space_between_cols_mobile,d.galleryWidth=y(),d.availWidth=d.galleryWidth,1==v.tiles_include_padding&&(d.availWidth=d.galleryWidth-2*d.colGap),1==v.tiles_exact_width)d.numCols=c.getNumItemsInSpace(d.availWidth,d.colWidth,d.colGap),0<d.maxCols&&d.numCols>d.maxCols&&(d.numCols=d.maxCols),d.numCols<d.minCols?(d.numCols=d.minCols,n()):d.totalWidth=d.numCols*(d.colWidth+d.colGap)-d.colGap;else{var e=c.getNumItemsInSpaceRound(d.availWidth,d.colWidth,d.colGap);e<d.minCols?e=d.minCols:0!=d.maxCols&&e>d.maxCols&&(e=d.maxCols),d.numCols=e,n()}switch(v.tiles_align){case"center":default:d.addX=Math.round((d.galleryWidth-d.totalWidth)/2);break;case"left":d.addX=0;break;case"right":d.addX=d.galleryWidth-d.totalWidth}for(d.arrPosx=[],col=0;col<d.numCols;col++){var t=c.getColX(col,d.colWidth,d.colGap);d.arrPosx[col]=t+d.addX}}function I(){d.maxColHeight=0,d.colHeights=[0]}function S(e,t,i,n){if(null==n)n=function(){var e=0,t=999999999;for(col=0;col<d.numCols;col++){if(null==d.colHeights[col]||0==d.colHeights[col])return col;d.colHeights[col]<t&&(e=col,t=d.colHeights[col])}return e}();var r=0;void 0!==d.colHeights[n]&&(r=d.colHeights[n]);var o=h.getTileHeightByWidth(d.colWidth,e);if(null===o){if(1==v.tiles_enable_transition)throw new Error("Can't know tile height, please turn off transition");o=c.getElementSize(e).height}var a=d.arrPosx[n];c.placeElement(e,a,r);var s=r+o;d.colHeights[n]=s+d.colGap,d.maxColHeight<s&&(d.maxColHeight=s),1==t&&e.show().fadeTo(0,1),1==i&&g.height(d.maxColHeight)}function P(e){e||(e=!1),f(),I();var t=b.getThumbs(b.type.GET_THUMBS_RATIO);p(),h.resizeAllTiles(d.colWidth,h.resizemode.VISIBLE_ELEMENTS,t);for(var i=0;i<t.length;i++){var n=jQuery(t[i]),r=void 0;1==v.tiles_keep_order&&(r=c.getColByIndex(d.numCols,i)),S(n,e,!1,r)}m();var o=g.height();1==l.isTransActive&&o>d.maxColHeight?setTimeout(function(){g.height(d.maxColHeight)},700):g.height(d.maxColHeight)}function x(e,t){if(!0!==t&&0==function(e){var t=e.index();if(!0===u.getItem(t).ordered_placed)return!1;var i=c.getPrevRowSameColIndex(t,d.numCols);return i<0||!0===u.getItem(i).ordered_placed}(e))return!1;var i=e.index(),n=c.getColByIndex(d.numCols,i),r=u.getItem(i);h.resizeTile(e,d.colWidth),S(e,!0,!0,n),r.ordered_placed=!0;var o=u.getNumItems(),a=c.getNextRowSameColIndex(i,d.numCols);if(o<=a)return!1;var s=b.getThumbByIndex(a),l=u.getItem(a);b.isThumbLoaded(s);b.isThumbLoaded(s)&&!l.ordered_placed&&x(s,!0)}function j(){var e=b.getThumbs(b.type.GET_THUMBS_NO_RATIO);if(!e||0==e.length)return!1;if(l.isAllLoaded=!1,1==l.isFirstPlaced){f(),I();var t=Math.abs(d.galleryWidth-d.totalWidth);if(1==v.tiles_set_initial_height&&0==c.isScrollbarExists()&&t<25){e.length;var i=Math.ceil(e.length/d.numCols)*v.tiles_col_width*.75;g.height(i),f()}}e.fadeTo(0,0);var n=e.find("img.ug-thumb-image"),r=d.numCols,o=d.galleryWidth;c.checkImagesLoaded(n,function(){f(),r==d.numCols&&o==d.galleryWidth||P(!1),_(),s.trigger(a.events.ALL_TILES_LOADED)},function(e,t){1==l.isFirstPlaced&&u.triggerEvent(a.events.TILES_FIRST_PLACED),function(e,t){if(1==t)return;e=jQuery(e);var i=jQuery(e).parent();b.triggerImageLoadedEvent(i,e),1==v.tiles_keep_order?x(i):(h.resizeTile(i,d.colWidth),S(i,!0,!0))}(e,t)})}function t(){var d=y(),e=b.getThumbs(!0),_=v.tiles_justified_row_height,g=[],r=0,c=v.tiles_justified_space_between,t=e.length;jQuery.each(e,function(e,t){t=jQuery(t);var i=b.getItemByThumb(t),n=i.thumbWidth;i.thumbHeight!==_&&(n=Math.floor(i.thumbRatioByWidth*_)),g[e]=n,r+=n});var i=Math.ceil(r/d);t<i&&(i=t);var n=r/i,o=[],a=0,h=[],s=[],l=0,u=0;jQuery.each(e,function(e,t){var i=g[e];(u+1)*n<l+i/2&&(h[o.length]=a,o.push(s),s=[],a=0,u++),l+=i,a+=i,s.push(t)}),h[o.length]=a,o.push(s);var p=[],m=[],f=0;return jQuery.each(o,function(e,t){t.length;var i=h[e],n=(t.length-1)*c,r=(d-n)/i,o=Math.round(_*r);f+=o,0<e&&(f+=c),m.push(o);var a=o/_,s=[],l=n;jQuery.each(t,function(e,t){var i=jQuery(t).index(),n=g[i],r=Math.round(n*a);s[e]=r,l+=r});var u=l-d;jQuery.each(s,function(e,t){if(0==u)return!1;u<0?(s[e]=t+1,u++):(s[e]=t-1,u--),e==s.length-1&&0!=u&&(s[e]-=u)}),p[e]=s}),{arrRows:o,arrRowWidths:p,arrRowHeights:m,gap:c,totalHeight:f}}function C(l){if(!l)l=!1;var e=y(),u=t();g.height(u.totalHeight),y()!=e&&(u=t()),p();var d=0,_=0;jQuery.each(u.arrRows,function(e,t){var o=u.arrRowWidths[e],a=u.arrRowHeights[e],s=0;jQuery.each(t,function(e,t){var i=jQuery(t),n=a,r=o[e];h.resizeTile(i,r,n,h.resizemode.VISIBLE_ELEMENTS),c.placeElement(i,s,d),_<(s+=r)&&(_=s),s+=u.gap,1==l&&jQuery(t).show()}),d+=a+u.gap}),m()}function A(){var e=y();switch(T.galleryWidth=e,w={},T.colWidth=v.tiles_nested_col_width,T.optimalTileWidth=v.tiles_nested_optimal_tile_width,T.currentGap=v.tiles_space_between_cols,1==u.isMobileMode()&&(T.currentGap=v.tiles_space_between_cols_mobile),null==T.colWidth?T.colWidth=Math.floor(T.optimalTileWidth/T.nestedOptimalCols):T.optimalTileWidth>T.colWidth?T.nestedOptimalCols=Math.ceil(T.optimalTileWidth/T.colWidth):T.nestedOptimalCols=1,T.maxColumns=c.getNumItemsInSpace(e,T.colWidth,T.currentGap),T.colWidth=c.getItemSizeInSpace(e,T.maxColumns,T.currentGap),T.gridY=0,E=[],b.getThumbs(!0).each(function(){var e=function(e){var t,i,n={},r=T.colWidth,o=T.currentGap,a=h.getTileImageSize(e),s=e.index(),l=Math.ceil((g=s,Math.abs(Math.sin(Math.abs(1e3*Math.sin(g))))*(1*T.nestedOptimalCols/3)+2*T.nestedOptimalCols/3)),u=a.width,d=a.height,_=u/d;var g;d<u?(t=l,0==(i=Math.round(t/_))&&(i=1)):(i=l,0==(t=Math.round(i*_))&&(t=1));return n.dimWidth=t,n.dimHeight=i,n.width=t*r+o*(t-1),n.height=i*r+o*(i-1),n.imgWidth=u,n.imgHeight=d,n.left=0,n.top=0,n}(jQuery(this));E.push(e)}),T.optimalTileWidth>T.colWidth?T.nestedOptimalCols=Math.ceil(T.optimalTileWidth/T.colWidth):T.nestedOptimalCols=1,T.totalWidth=T.maxColumns*(T.colWidth+T.currentGap)-T.currentGap,v.tiles_align){case"center":default:T.addX=Math.round((T.galleryWidth-T.totalWidth)/2);break;case"left":T.addX=0;break;case"right":T.addX=T.galleryWidth-T.totalWidth}T.maxGridY=0}function M(e){var t=y();A(),O();var i=T.maxGridY*(T.colWidth+T.currentGap)-T.currentGap;g.height(i),y()!=t&&(A(),O()),0==v.tiles_nested_debug&&function(e){if(!e)var e=!1;p();for(var t=0;t<E.length;t++)Y(t,e);g.height(T.maxColHeight),m()}(e)}function O(e){if(1==v.tiles_nested_debug)return void 0===e&&(e=!0),function(e,t){if(0==t){for(var i=T.currentItem;i<E.length;i++)z(i,!0);T.currentItem=E.length-1}else z(T.currentItem,!0);for(i=0;i<=T.currentItem;i++)Y(i,!0);T.currentItem++}(0,e),!1;for(var t=0;t<E.length;t++)z(t,!0)}function z(e,t){if(!t)t=!1;T.maxColHeight=0;for(var i=c.getObjectLength(w),n=T.gridY;n<=i+1;n++){for(var r=0;r<T.maxColumns;r++){if(0==Q(T.gridY)||0==F(T.gridY,r))return void L(e,D(r),r)}T.gridY++}}function L(e,t,i){var n=jQuery.extend(!0,{},E[e]),r=n.dimWidth,o=t-n.dimWidth,a=T.nestedOptimalCols;if(t<=n.dimWidth||o<=.33*a||t<=a)N(e,t);else if(o<=a)4<=a?1==G(Math.floor(t/2),i)?N(e,Math.floor(t/2)+1):N(e,Math.floor(t/2)):N(objImage,t);else if(1==G(r,i))switch(a<=r){case!0:N(e,r-1);break;case!1:N(e,r+1)}var s,l,u,d,_,g,c,h,p,m=function(e,t,i){var n=T.gridY-1,r=0,o=0,a=1,s=[],l=[];if(s.push(e),0<=n){for(o=0;0<=n;){if(r=w[n][i],void 0!==w[n][i-1]&&w[n][i-1]==w[n][i]||void 0!==w[n][i+t]&&w[n][i+t-1]==w[n][i+t]||w[n][i]!=w[n][i+t-1])return l.push(a),l.push(s),l;o!=r&&(a++,s.push(r)),n--,o=r}return l.push(a),l.push(s),l}return[0,[]]}(e,(n=jQuery.extend(!0,{},E[e])).dimWidth,i);if(T.columnsValueToEnableHeightResize<=m[0]&&T.maxColumns>=2*T.nestedOptimalCols){var f=function(e,t){var i=0,n=0,r=t.dimWidth,o=t.dimHeight,a=0,s=0,l=jQuery.map(w,function(e,t){return[e]});if(void 0===l[T.gridY]||void 0===l[T.gridY][e-1])n=0;else for(var u=0;void 0!==w[T.gridY+u]&&-1!=w[T.gridY+u][e-1];)a=w[T.gridY+u][e-2],u++,n++;if(void 0===l[T.gridY]||void 0===l[T.gridY][e+r])i=0;else for(u=0;void 0!==w[T.gridY+u]&&-1!=w[T.gridY+u][e+r];)s=w[T.gridY+u][e+r+1],u++,i++;var d=0,_=0;Math.abs(o-n)<Math.abs(o-i)&&0!=n?(d=n,_=a):0!=i?(d=i,_=s):d=o;return{newHeight:d,idToResize:_}}(i,n),b=k(e,f.newHeight,!0);E[e].dimHeight=b.dimHeight;var v=function(e,t){for(var i=0,n=0,r=[],o=0,a=0,s=0;s<e[1].length;s++){var l=e[1][s],u=E[e[1][s]];if(n+=u.dimHeight,0!=s)i+=u.dimHeight,r.push([l,u.dimHeight]);else{var d=N(l,t,!0);i+=d.dimHeight,r.push([e[1][s],d.dimHeight])}}o=u.left,a=u.top;for(var _=n,g=[],s=r.length-1;0<=s;s--){var c,l=r[s][0];0!=s?(c=Math.max(Math.round(1*n/3),Math.floor(r[s][1]*(n/i))),_-=c,(d=k(l,c,!0)).left=o,d.top=a,g.push({tileID:l,sizes:d}),a+=d.dimHeight):((d=k(l,c=_,!0)).left=o,d.top=a,g.push({tileID:l,sizes:d}))}return g}(m,b.dimWidth),y=!1;2<=function(e){for(var t=0,i=0,n=0;n<e.length-1;n++){var r=e[n].sizes,o=-1,a=-1;Q(r.top+r.dimHeight)&&T.maxColumns>r.left+r.dimWidth&&(o=w[r.top+r.dimHeight-1][r.left+r.dimWidth],a=w[r.top+r.dimHeight][r.left+r.dimWidth]),o!=a&&t++}for(var n=0;n<e.length-1;n++){var r=e[n].sizes,o=-1,a=-1;Q(r.top+r.dimHeight)&&0<=r.left-1&&(o=w[r.top+r.dimHeight-1][r.left-1],a=w[r.top+r.dimHeight][r.left-1]),o!=a&&i++}return Math.max(i,t)}(v)&&(y=!0),f.newHeight>=n.dimHeight&&(n=k(e,f.newHeight,!0));var I=(s=f.idToResize,l=f.newHeight,u=n.dimHeight,d=E[s],_=d.dimHeight,d.dimWidth,g=d.left,c=d.top,parseInt(c/(T.colWidth+T.currentGap)),parseInt(g/(T.colWidth+T.currentGap)),h=k(s,_-l+u,!0),(p=[]).push({tileID:s,sizes:h}),p);return n.top=T.gridY,n.left=i,I.push({tileID:e,sizes:n}),R(I)<R(v)||1==y?void H(I):void H(v)}n.left=i,n.top=T.gridY,W(e,E[e]=n,i,T.gridY),T.maxGridY=n.top+n.dimHeight}function H(e){for(var t=0;t<e.length;t++){var i=e[t].sizes,n=e[t].tileID;E[n]=jQuery.extend(!0,{},i),W(n,i,i.left,i.top)}}function N(e,t,i){i||(i=!1);var n=T.colWidth,r=T.currentGap,o=E[e],a=o.imgWidth/o.imgHeight;if(dimWidth=t,dimHeight=Math.round(dimWidth/a),1==i){var s=jQuery.extend(!0,{},o);return s.dimWidth=dimWidth,s.dimHeight=dimHeight,s.width=dimWidth*n+r*(dimWidth-1),s.height=dimHeight*n+r*(dimHeight-1),s}o.dimWidth=dimWidth,o.dimHeight=dimHeight,o.width=dimWidth*n+r*(dimWidth-1),o.height=dimHeight*n+r*(dimHeight-1)}function k(e,t,i){i||(i=!1);var n=E[e],r=n.dimWidth,o=T.colWidth,a=T.currentGap;if(1==i){var s=jQuery.extend(!0,{},n);return s.dimHeight=t,s.width=r*o+a*(r-1),s.height=t*o+a*(t-1),s}n.dimHeight=t,n.width=r*o+a*(r-1),n.height=t*o+a*(t-1)}function R(e){for(var t=0,i=0,n=0;n<e.length;n++){var r=E[e[n].tileID];if(0==r.dimHeight||0==r.height)return;resizeVal=r.dimWidth/r.dimHeight/(r.imgWidth/r.imgHeight),resizeVal<1&&(resizeVal=1/resizeVal),t+=resizeVal,i++}return t/i}function G(e,t){var i=T.gridY-1;return!(i<=0||0==Q(i))&&w[i][t+e-1]!=w[i][t+e]}function D(e){var t=e,i=0;if(1==Q(T.gridY))for(;0==F(T.gridY,t);)i++,t++;else i=T.maxColumns;return i}function Q(e){return void 0!==w[e]}function W(e,t,i,n){for(var r=0;r<t.dimHeight;r++)for(var o=0;o<t.dimWidth;o++)0==Q(n+r)&&B(n+r),a=i+o,s=e,w[n+r][a]=s;var a,s}function B(e){w[e]=new Object;for(var t=0;t<T.maxColumns;t++)w[e][t]=-1}function F(e,t){return-1!=w[e][t]}function Y(e,t){var i=b.getThumbByIndex(e),n=E[e],r=n.top*(T.colWidth+T.currentGap),o=T.addX+n.left*(T.colWidth+T.currentGap);h.resizeTile(i,n.width,n.height,h.resizemode.VISIBLE_ELEMENTS),c.placeElement(i,o,r),r+n.height>T.maxColHeight&&(T.maxColHeight=r+n.height),1==t&&i.fadeTo(0,1)}function U(){if(1==l.isFirstTimeRun)return!0;if(0==l.isAllLoaded)return!1;switch(v.tiles_type){case"columns":P(!1);break;case"justified":C(!1);break;case"nested":1==u.isMobileMode()?P(!1):M(!1)}}function V(){switch(o.children(".ug-tile").show(),1==l.isFirstTimeRun&&(s.on(a.events.ALL_TILES_LOADED,function(){l.isAllLoaded=!0}),r.on(u.events.SIZE_CHANGE,U),r.on(a.events.TILES_FIRST_PLACED,function(){l.isFirstPlaced=!1}),h.initEvents()),h.run(),v.tiles_type){default:case"columns":j();break;case"justified":i=jQuery(o).find("img.ug-thumb-image"),n=b.getThumbs(),l.isAllLoaded=!1,n.fadeTo(0,0),c.checkImagesLoaded(i,function(){setTimeout(function(){C(!0),n.fadeTo(0,1),u.triggerEvent(a.events.TILES_FIRST_PLACED),_(),s.trigger(a.events.ALL_TILES_LOADED)})},function(e,t){e=jQuery(e);var i=jQuery(e).parent();b.triggerImageLoadedEvent(i,e)});break;case"nested":e=jQuery(o).find("img.ug-thumb-image"),t=b.getThumbs(),l.isAllLoaded=!1,t.fadeTo(0,0),c.checkImagesLoaded(e,function(){1==u.isMobileMode()?P(!0):M(!0),u.triggerEvent(a.events.TILES_FIRST_PLACED),_(),s.trigger(a.events.ALL_TILES_LOADED)},function(e,t){e=jQuery(e);var i=jQuery(e).parent();b.triggerImageLoadedEvent(i,e)})}var e,t,i,n;l.isFirstTimeRun=!1}this.destroy=function(){r.off(u.events.SIZE_CHANGE),h.destroy(),r.off(a.events.TILES_FIRST_PLACED)},this.init=function(e,t){i(e,t)},this.setHtml=function(e){!function(e){e||(e=g||o);g=e;var t=v.tiles_type;e.addClass("ug-tiletype-"+t),h.setHtml(e),e.children(".ug-thumb-wrapper").hide()}(e)},this.getObjTileDesign=function(){return h},this.run=function(){V()},this.runNewItems=function(){if(!g)throw new Error("Can't run new items - parent not set");switch(h.setHtml(g,!0),h.run(!0),v.tiles_type){case"columns":j();break;default:case"justified":case"nested":throw new Error("Tiles type: "+v.tiles_type+" not support load more yet")}}}function UGTileDesign(){var i,o,E=this,r=jQuery(this),T=new UniteGalleryMain,S=new UGFunctions,a=new UGThumbsGeneral;this.resizemode={FULL:"full",WRAPPER_ONLY:"wrapper_only",VISIBLE_ELEMENTS:"visible_elements"},this.sizeby={GLOBAL_RATIO:"global_ratio",TILE_RATIO:"tile_ratio",IMAGE_RATIO:"image_ratio",CUSTOM:"custom"},this.events={TILE_CLICK:"tile_click"};var P={tile_width:250,tile_height:200,tile_size_by:E.sizeby.IMAGE_RATIO,tile_visible_before_image:!1,tile_enable_background:!0,tile_background_color:"#F0F0F0",tile_enable_border:!1,tile_border_width:3,tile_border_color:"#F0F0F0",tile_border_radius:0,tile_enable_outline:!1,tile_outline_color:"#8B8B8B",tile_enable_shadow:!1,tile_shadow_h:1,tile_shadow_v:1,tile_shadow_blur:3,tile_shadow_spread:2,tile_shadow_color:"#8B8B8B",tile_enable_action:!0,tile_as_link:!1,tile_link_newpage:!0,tile_enable_overlay:!0,tile_overlay_opacity:.4,tile_overlay_color:"#000000",tile_enable_icons:!0,tile_show_link_icon:!1,tile_videoplay_icon_always_on:"never",tile_space_between_icons:26,tile_enable_image_effect:!1,tile_image_effect_type:"bw",tile_image_effect_reverse:!1,tile_enable_textpanel:!1,tile_textpanel_source:"title",tile_textpanel_always_on:!1,tile_textpanel_appear_type:"slide",tile_textpanel_position:"inside_bottom",tile_textpanel_offset:0},s={thumb_color_overlay_effect:!0,thumb_overlay_reverse:!0,thumb_image_overlay_effect:!1,tile_textpanel_enable_description:!1,tile_textpanel_bg_opacity:.6,tile_textpanel_padding_top:8,tile_textpanel_padding_bottom:8},x={ratioByHeight:0,ratioByWidth:0,eventSizeChange:"thumb_size_change",funcCustomTileHtml:null,funcCustomPositionElements:null,funcParentApproveClick:null,isSaparateIcons:!1,tileInnerReduce:0,isTextpanelOutside:!1,hasImageContainer:!1,isVideoplayIconAlwaysOn:!1,isTextPanelHidden:!1};function n(e,t){T=e,jQuery(e);var i=T.getObjects();o=i.g_objWrapper,T.getArrItems(),P=jQuery.extend(P,s),P=jQuery.extend(P,t),function(){1==P.tile_enable_overlay?(P.thumb_overlay_opacity=P.tile_overlay_opacity,P.thumb_overlay_color=P.tile_overlay_color):0==P.tile_enable_icons?P.thumb_color_overlay_effect=!1:P.thumb_overlay_opacity=0;P.tile_as_link&&(P.thumb_wrapper_as_link=!0,P.thumb_link_newpage=P.tile_link_newpage);1==P.tile_enable_outline&&0==P.tile_enable_border&&(P.tile_enable_outline=!1);x.tileInnerReduce=0,P.tile_enable_border&&(x.tileInnerReduce=2*P.tile_border_width,a.setThumbInnerReduce(x.tileInnerReduce));if(x.isSaparateIcons=!S.isRgbaSupported(),1==P.tile_enable_textpanel){switch(P.tile_textpanel_position){case"top":P.tile_textpanel_align="top";case"bottom":x.isTextpanelOutside=!0,P.tile_textpanel_always_on=!0,P.tile_textpanel_offset=0;break;case"inside_top":P.tile_textpanel_align="top";break;case"middle":P.tile_textpanel_align="middle",P.tile_textpanel_appear_type="fade"}0==P.tile_textpanel_always_on&&(x.isSaparateIcons=!0)}0!=P.tile_textpanel_offset&&(P.tile_textpanel_appear_type="fade",P.tile_textpanel_margin=P.tile_textpanel_offset);"title_and_desc"==P.tile_textpanel_source&&(P.tile_textpanel_enable_description=!0,P.tile_textpanel_desc_style_as_title=!0)}(),a.init(e,P);var n=["overlay"];x.funcCustomTileHtml&&(n=[]),a.setCustomThumbs(u,n,{allow_onresize:!1});var r=a.getOptions();P=jQuery.extend(P,r),x.ratioByWidth=P.tile_width/P.tile_height,x.ratioByHeight=P.tile_height/P.tile_width,P.tile_size_by==E.sizeby.GLOBAL_RATIO&&x.isTextpanelOutside&&(x.hasImageContainer=!0)}function l(){var e=T.isMobileMode();switch(x.isTextPanelHidden=!1,1==e&&0==P.tile_textpanel_always_on&&(x.isTextPanelHidden=!0),x.isVideoplayIconAlwaysOn=P.tile_videoplay_icon_always_on,P.tile_videoplay_icon_always_on){case"always":x.isVideoplayIconAlwaysOn=!0;break;case"never":x.isVideoplayIconAlwaysOn=!1;break;case"mobile_only":x.isVideoplayIconAlwaysOn=1==e;break;case"desktop_only":x.isVideoplayIconAlwaysOn=0==e}}function u(e,t){if(e.addClass("ug-tile"),x.funcCustomTileHtml)return x.funcCustomTileHtml(e,t),!1;var i="";1==x.hasImageContainer&&(i+="<div class='ug-image-container ug-trans-enabled'>");var n="ug-thumb-image";0!=P.tile_enable_image_effect&&1!=P.tile_image_effect_reverse||(n+=" ug-trans-enabled");var r=S.stripTags(t.title);r=S.htmlentitles(r),i+='<img src="'+S.escapeDoubleSlash(t.urlThumb)+"\" alt='"+r+"' class='"+n+"'>",1==x.hasImageContainer&&(i+="</div>"),e.append(i),P.tile_size_by==E.sizeby.GLOBAL_RATIO&&e.fadeTo(0,0);var o={};if(1==P.tile_enable_background&&(o["background-color"]=P.tile_background_color),1==P.tile_enable_border&&(o["border-width"]=P.tile_border_width+"px",o["border-style"]="solid",o["border-color"]=P.tile_border_color,P.tile_border_radius&&(o["border-radius"]=P.tile_border_radius+"px")),1==P.tile_enable_outline&&(o.outline="1px solid "+P.tile_outline_color),1==P.tile_enable_shadow){var a=P.tile_shadow_h+"px ";a+=P.tile_shadow_v+"px ",a+=P.tile_shadow_blur+"px ",a+=P.tile_shadow_spread+"px ",a+=P.tile_shadow_color,o["box-shadow"]=a}e.css(o);var s="";if(P.tile_enable_icons){if(0==P.tile_as_link&&1==P.tile_enable_action){var l="ug-button-play ug-icon-zoom";"image"!=t.type&&(l="ug-button-play ug-icon-play"),s+="<div class='ug-tile-icon "+l+"' style='display:none'></div>"}if(t.link&&1==P.tile_show_link_icon||1==P.tile_as_link)if(0==P.tile_as_link){var u="";1==P.tile_link_newpage&&(u=" target='_blank'"),s+="<a href='"+t.link+"'"+u+" class='ug-tile-icon ug-icon-link'></a>"}else s+="<div class='ug-tile-icon ug-icon-link' style='display:none'></div>";var d=x.isSaparateIcons;if(0==d&&"image"!=t.type&&1==x.isVideoplayIconAlwaysOn&&(d=!0),d)var _=e;else _=e.children(".ug-thumb-overlay");_.append(s);var g=_.children("."+l);0==g.length?g=null:g.hide();var c=_.children(".ug-icon-link");0==c.length?c=null:c.hide(),c||1!=P.tile_enable_action||e.addClass("ug-tile-clickable")}else 1==P.tile_enable_action&&e.addClass("ug-tile-clickable");if(1==P.tile_enable_image_effect){var h="";0==P.tile_image_effect_reverse&&(h=" ug-trans-enabled");var p="<div class='ug-tile-image-overlay"+h+"' >",m=" ug-"+P.tile_image_effect_type+"-effect";p+='<img src="'+S.escapeDoubleSlash(t.urlThumb)+"\" alt='"+t.title+"' class='"+m+h+"'>",p+="</div>",e.append(p),1==P.tile_image_effect_reverse&&e.children(".ug-tile-image-overlay").fadeTo(0,0)}if(1==P.tile_enable_textpanel){var f=new UGTextPanel;f.init(T,P,"tile");var b="";1!=P.tile_textpanel_always_on&&1!=x.isTextpanelOutside||(b="ug-trans-enabled"),f.appendHTML(e,b);var v=t.title,y="";switch(P.tile_textpanel_source){case"desc":case"description":v=t.description;break;case"desc_title":""!=t.description&&(v=t.description);break;case"title_and_desc":v=t.title,y=t.description}if(f.setTextPlain(v,y),0==P.tile_textpanel_always_on&&f.getElement().fadeTo(0,0),e.data("objTextPanel",f),1==P.tile_textpanel_always_on)j(e).css("z-index",2);if(1==x.isTextpanelOutside){e.append("<div class='ug-tile-cloneswrapper'></div>");var I=e.children(".ug-tile-cloneswrapper"),w=new UGTextPanel;w.init(T,P,"tile"),w.appendHTML(I),w.setTextPlain(v,y),e.data("objTextPanelClone",w)}}null!==t.addHtml&&e.append(t.addHtml)}function g(e){return e.children(".ug-tile-image-overlay")}function d(e){return e.data("objTextPanel")}function j(e){return e.children(".ug-textpanel")}function f(e){if(1==x.isTextpanelOutside)var t=function(e){var t=e.find(".ug-tile-cloneswrapper .ug-textpanel");if(0==t.length)throw new Error("text panel cloned element not found");return t}(e);else t=j(e);return t?S.getElementSize(t).height:0}function b(e){var t=e.find(".ug-icon-link");return 0==t.length?null:t}function v(e){var t=e.find(".ug-button-play");return 0==t.length?null:t}function _(e){return!!e.hasClass("ug-thumb-over")}function c(e){return e.hasClass("ug-tile-clickable")}function h(e){return 1==P.tile_enable_icons&&1==x.isVideoplayIconAlwaysOn&&"image"!=e.type}function y(e,t,i,n){var r=g(e),o=E.getTileImage(e),a=e.find(".ug-tile-image-overlay img");t-=x.tileInnerReduce,i-=x.tileInnerReduce;var s,l=null;if(1==x.isTextpanelOutside){var u=f(e);if(i-=u,"top"==P.tile_textpanel_position&&(l=u),1==x.hasImageContainer){var d=(s=e,0==x.hasImageContainer?null:s.children(".ug-image-container"));S.setElementSize(d,t,i),null!==l&&S.placeElement(d,0,l)}}if(0==P.tile_enable_image_effect)S.scaleImageCoverParent(o,t,i),0==x.hasImageContainer&&null!==l&&S.placeElement(o,0,l);else{var _="nothing";!0===n&&0==x.isTextpanelOutside&&(_=1==P.tile_image_effect_reverse?"effect":"image"),"effect"!=_&&(S.setElementSize(r,t,i),null!==l&&S.placeElement(r,0,l),S.scaleImageCoverParent(a,t,i)),"image"!=_&&(1==x.hasImageContainer?S.scaleImageCoverParent(o,t,i):"effect"==_?(S.scaleImageCoverParent(o,t,i),null!==l&&S.placeElement(o,0,l)):S.cloneElementSizeAndPos(a,o,!1,null,l))}}function I(e,t,i,n){var r=null;if(i&&(r=i-x.tileInnerReduce),n&&(n-=x.tileInnerReduce),"clone"==t)return e.data("objTextPanelClone").refresh(!0,!0,r),!(E.getItemByTile(e).textPanelCloneSizeSet=!0);var o=d(e);if(!o)return!1;var a=null;if(1==x.isTextpanelOutside&&(a=f(e)),o.refresh(!1,!0,r,a),1==P.tile_textpanel_always_on||"fade"==P.tile_textpanel_appear_type)if(1==x.isTextpanelOutside&&n&&"bottom"==P.tile_textpanel_position){var s=n-a;o.positionPanel(s)}else o.positionPanel()}function p(e){E.getItemByTile(e);var t=v(e),i=b(e),n=S.getElementSize(e);y(e,n.width,n.height),1==P.tile_enable_textpanel&&I(e,"regular",n.width,n.height);var r=n.width-x.tileInnerReduce,o=n.height-x.tileInnerReduce,a=0;if(1==x.isTextpanelOutside){var s=f(e);o-=s,"top"==P.tile_textpanel_position&&(a=s)}var l=e.children(".ug-thumb-overlay");if(S.setElementSizeAndPosition(l,0,a,r,o),t||i){var u=0;if(1==P.tile_enable_textpanel&&0==x.isTextPanelHidden&&0==x.isTextpanelOutside){var d=j(e),_=S.getElementSize(d);0<_.height&&(u=Math.floor(_.height/2*-1))}}if(t&&i){var g=S.getElementSize(t),c=S.getElementSize(i),h=P.tile_space_between_icons,p=g.width+h+c.width,m=Math.floor((n.width-p)/2);m<h&&(h=Math.floor((n.width-g.width-c.width)/3),p=g.width+h+c.width,m=Math.floor((n.width-p)/2)),S.placeElement(t,m,"middle",0,u),S.placeElement(i,m+g.width+h,"middle",0,u)}else t&&S.placeElement(t,"center","middle",0,u),i&&S.placeElement(i,"center","middle",0,u);t&&t.show(),i&&i.show()}function m(e,t){E.getItemByTile(e);var i=g(e),n=P.thumb_transition_duration;if(0==P.tile_image_effect_reverse){var r=E.getTileImage(e);t?(r.fadeTo(0,1),i.stop(!0).fadeTo(n,0)):i.stop(!0).fadeTo(n,1)}else t?i.stop(!0).fadeTo(n,1):i.stop(!0).fadeTo(n,0)}function w(e,t){var i=P.thumb_transition_duration,n=j(e);if(!n)return!0;if("slide"==P.tile_textpanel_appear_type){var r=S.getElementSize(n);if(0==r.width)return!1;var o=-r.height,a={},s={},l="bottom";"inside_top"==P.tile_textpanel_position&&(l="top"),a[l]=o+"px",s[l]="0px",1==t?(n.fadeTo(0,1),0==n.is(":animated")&&n.css(a),s.opacity=1,n.stop(!0).animate(s,i)):n.stop(!0).animate(a,i)}else 1==t?n.stop(!0).fadeTo(i,1):n.stop(!0).fadeTo(i,0)}function C(e,t,i){var n=P.thumb_transition_duration;i&&!0===i&&(n=0);var r=v(e),o=b(e),a=t?1:0;r&&r.stop(!0).fadeTo(n,a),o&&o.stop(!0).fadeTo(n,a)}function e(e,t){if(t=jQuery(t),P.tile_enable_image_effect&&m(t,!0),1==P.tile_enable_textpanel&&0==P.tile_textpanel_always_on&&0==x.isTextPanelHidden&&w(t,!0),x.isSaparateIcons&&1==P.tile_enable_icons){var i=1==P.thumb_overlay_reverse;0==h(E.getItemByTile(t))&&C(t,i,!1)}}function t(e,t){if(t=jQuery(t),P.tile_enable_image_effect&&m(t,!1),1==P.tile_enable_textpanel&&0==P.tile_textpanel_always_on&&w(t,!1),1==x.isSaparateIcons&&1==P.tile_enable_icons){var i=1!=P.thumb_overlay_reverse;0==h(E.getItemByTile(t))?C(t,i,!1):C(t,!0,!0)}}function A(e,t,i){if(t=jQuery(t),1==P.tile_visible_before_image&&!0!==t.data("image_placed")&&!0!==i)return!0;p(t),a.setThumbNormalStyle(t)}function M(e,t,i){p(t),i.fadeTo(0,1),t.data("image_placed",!0)}function O(e){if(1==c(e))return r.trigger(E.events.TILE_CLICK,e),!0;var t;0==_(e)&&(t=e,a.getThumbs().not(t).each(function(e,t){a.setThumbNormalStyle(jQuery(t))}),a.setThumbOverStyle(e))}function z(e){var t=jQuery(this),i=t.prop("tagName").toLowerCase(),n=!0;if(x.funcParentApproveClick&&0==x.funcParentApproveClick()&&(n=!1),"a"==i)0==n&&e.preventDefault();else if(0==_(t))1==n&&O(t);else{if(0==c(t))return!0;1==n&&r.trigger(E.events.TILE_CLICK,t)}}function L(e){e.stopPropagation();var t=jQuery(this).parents(".ug-tile"),i=!0;return x.funcParentApproveClick&&0==x.funcParentApproveClick()&&(i=!1),0==_(t)?(O(t),!0):1==i?(r.trigger(E.events.TILE_CLICK,t),!1):void 0}function H(e){var t=jQuery(this).parents(".ug-tile");x.funcParentApproveClick&&0==x.funcParentApproveClick()&&e.preventDefault(),0==_(t)&&0==P.tile_as_link&&(e.preventDefault(),O(t))}this.loadTileImage=function(i){var e=E.getTileImage(i);S.checkImagesLoaded(e,null,function(e,t){M(null,i,jQuery(e))})},this.setHtml=function(e,t){i=e,!0!==t&&l(),a.setHtmlThumbs(e,t)},this.initEvents=function(){a.initEvents(),jQuery(a).on(a.events.SETOVERSTYLE,e),jQuery(a).on(a.events.SETNORMALSTYLE,t),jQuery(a).on(a.events.PLACEIMAGE,M),o.on(x.eventSizeChange,A),i.on("click",".ug-tile",z),i.on("click",".ug-tile .ug-button-play",L),i.on("click",".ug-tile .ug-icon-link",H)},this.destroy=function(){if(i.off("click",".ug-tile"),i.off("click",".ug-tile .ug-button-play"),i.off("click",".ug-tile .ug-icon-link"),jQuery(a).off(a.events.SETOVERSTYLE),jQuery(a).off(a.events.SETNORMALSTYLE),jQuery(a).off(a.events.PLACEIMAGE),o.off(x.eventSizeChange),1==P.tile_enable_textpanel){var e=a.getThumbs();jQuery.each(e,function(e,t){var i=d(jQuery(t));i&&i.destroy()})}a.destroy()},this.init=function(e,t,i){n(e,t)},this.setFixedMode=function(){P.tile_size_by=E.sizeby.GLOBAL_RATIO,P.tile_visible_before_image=!0},this.setApproveClickFunction=function(e){x.funcParentApproveClick=e},this.resizeTile=function(e,t,i,n){if(1==x.isTextpanelOutside&&I(e,"clone",t),t){if(!i)i=E.getTileHeightByWidth(t,e)}else{t=P.tile_width;var i=P.tile_height}switch(S.setElementSize(e,t,i),n){default:case E.resizemode.FULL:E.triggerSizeChangeEvent(e,!0);break;case E.resizemode.WRAPPER_ONLY:return!0;case E.resizemode.VISIBLE_ELEMENTS:if(x.funcCustomTileHtml)return E.triggerSizeChangeEvent(e,!0),!0;y(e,t,i,!0),1==P.tile_enable_textpanel&&1==P.tile_textpanel_always_on&&t&&I(e,"regular",t,i)}},this.resizeAllTiles=function(i,n,e){l();var r=null;if(P.tile_size_by==E.sizeby.GLOBAL_RATIO&&(r=E.getTileHeightByWidth(i)),!e)e=a.getThumbs();e.each(function(e,t){E.resizeTile(jQuery(t),i,r,n)})},this.triggerSizeChangeEvent=function(e,t){if(!e)return!1;if(!t)t=!1;o.trigger(x.eventSizeChange,[e,t])},this.triggerSizeChangeEventAllTiles=function(t){a.getThumbs().each(function(){var e=jQuery(this);E.triggerSizeChangeEvent(e,t)})},this.disableEvents=function(){a.getThumbs().css("pointer-events","none")},this.enableEvents=function(){a.getThumbs().css("pointer-events","auto")},this.setOptions=function(e){P=jQuery.extend(P,e),a.setOptions(e)},this.setTileSizeOptions=function(e){if(P.tile_size_by!==E.sizeby.GLOBAL_RATIO)throw new Error("setNewTileOptions works with global ration only");P.tile_width=e,P.tile_height=Math.floor(e*x.ratioByHeight)},this.setCustomFunctions=function(e,t){x.funcCustomTileHtml=e,x.funcCustomPositionElements=t},this.run=function(e){var t=a.type.GET_THUMBS_ALL;!0===e&&(t=a.type.GET_THUMBS_NEW);var i=a.getThumbs(t);P.tile_size_by==E.sizeby.GLOBAL_RATIO&&E.resizeAllTiles(P.tile_width,E.resizemode.WRAPPER_ONLY,i),1==P.tile_enable_image_effect&&0==P.tile_image_effect_reverse&&i.children(".ug-thumb-image").fadeTo(0,0),a.setHtmlProperties(i),1==P.tile_visible_before_image&&(i.children(".ug-thumb-image").fadeTo(0,0),a.loadThumbsImages())},this._____________EXTERNAL_GETTERS____________=function(){},this.getObjThumbs=function(){return a},this.getOptions=function(){return P},this.getTileImage=function(e){return e.find("img.ug-thumb-image")},this.getItemByTile=function(e){return a.getItemByThumb(e)},this.getTileHeightByWidth=function(e,t){var i=function(e){var t=x.ratioByHeight;switch(P.tile_size_by){default:t=x.ratioByHeight;break;case E.sizeby.IMAGE_RATIO:if(!e)throw new Error("tile should be given for tile ratio");var i=E.getItemByTile(e);if(void 0!==i.thumbRatioByHeight){if(0==i.thumbRatioByHeight)throw trace(i),new Error("the item ratio not inited yet");t=i.thumbRatioByHeight}break;case E.sizeby.CUSTOM:return null}return t}(t);if(null===i)return null;var n=Math.floor((e-x.tileInnerReduce)*i)+x.tileInnerReduce;return t&&1==x.isTextpanelOutside&&P.tile_size_by==E.sizeby.IMAGE_RATIO&&(n+=f(t)),n},this.getTileImageSize=function(e){var t=E.getItemByTile(e);if(!t.thumbWidth||!t.thumbHeight)throw new Error("Can't get image size - image not inited.");return{width:t.thumbWidth,height:t.thumbHeight}},this.getGlobalTileSize=function(){if(P.tile_size_by!=E.sizeby.GLOBAL_RATIO)throw new Error("The size has to be global ratio");return{width:P.tile_width,height:P.tile_height}}}function UGAviaControl(){var a,t,d,_,g,s,l={touchEnabled:!1,isMouseInsideStrip:!1,strip_finalPos:0,handle_timeout:"",isStripMoving:!1,isControlEnabled:!0};function u(){if(0==l.is_strip_moving)return!1;var e=a.getInnerStripPos();Math.floor(e)==Math.floor(l.strip_finalPos)&&c();var t,i=Math.abs(l.strip_finalPos-e);i<1?t=i:0<(t=i/4)&&t<1&&(t=1),l.strip_finalPos<e&&(t*=-1);var n=e+t;a.positionInnerStrip(n)}function c(){if(0==l.isStripMoving)return!1;l.isStripMoving=!1,l.handle_timeout=clearInterval(l.handle_timeout)}this.enable=function(){l.isControlEnabled=!0},this.disable=function(){l.isControlEnabled=!1},this.init=function(e){t=(a=e).getObjects(),t.g_gallery,d=t.g_objStrip,_=t.g_objStripInner,g=t.g_options,s=t.isVertical,jQuery("body").on("touchstart",function(e){if(0==l.isControlEnabled)return!0;l.touchEnabled=!0}),jQuery("body").mousemove(function(e){if(0==l.isControlEnabled)return!0;if(1==l.touchEnabled)return jQuery("body").off("mousemove"),!0;l.isMouseInsideStrip=d.ismouseover();var t,i,n,r=a.isTouchMotionActive();if(1==l.isMouseInsideStrip&&0==r){var o=(t=e,0==s?t.pageX:t.pageY);i=o,null!==(n=0==s?function(e){var t=g.strip_padding_left,i=g.strip_padding_right,n=d.width()-t-i,r=_.width();if(r<n)return null;var o=d.offset().left,a=e-o-t,s=g.thumb_width,l=n-g.thumb_width;a<s&&(a=s),l<a&&(a=l);var u=(a-s)/(l-s)*(r-n);return u=-1*Math.round(u)+t}(i):function(e){var t=g.strip_padding_top,i=(g.strip_padding_bottom,d.height()),n=_.height();if(n<i)return null;var r=d.offset().top,o=e-r-t;if(o<0)return null;var a=g.thumb_height,s=i-g.thumb_height;o<a&&(o=a),s<o&&(o=s);var l=(o-a)/(s-a)*(n-i);return l=-1*Math.round(l)+t}(i))&&(l.is_strip_moving=!0,l.strip_finalPos=n,1!=l.isStripMoving&&(l.isStripMoving=!0,l.handle_timeout=setInterval(u,10)))}else c()})},this.destroy=function(){jQuery("body").off("touchstart"),jQuery("body").off("mousemove")}}function UGSlider(){var a,s,d,_,g,c,h,n,r,o,t,l,u,p=this,m=jQuery(p),f=new UniteGalleryMain,b=null,v=null,y=null,I=new UGVideoPlayer,w=new UGFunctions,E=null,T=null,S={slider_scale_mode:"fill",slider_scale_mode_media:"fill",slider_scale_mode_fullscreen:"down",slider_item_padding_top:0,slider_item_padding_bottom:0,slider_item_padding_left:0,slider_item_padding_right:0,slider_background_color:"",slider_background_opacity:1,slider_image_padding_top:0,slider_image_padding_bottom:0,slider_image_padding_left:0,slider_image_padding_right:0,slider_image_border:!(this.events={ITEM_CHANGED:"item_changed",BEFORE_SWITCH_SLIDES:"before_switch",BEFORE_RETURN:"before_return",AFTER_RETURN:"after_return",ZOOM_START:"slider_zoom_start",ZOOM_END:"slider_zoom_end",ZOOMING:"slider_zooming",ZOOM_CHANGE:"slider_zoom_change",START_DRAG:"start_drag",AFTER_DRAG_CHANGE:"after_drag_change",ACTION_START:"action_start",ACTION_END:"action_end",CLICK:"slider_click",TRANSITION_START:"slider_transition_start",TRANSITION_END:"slider_transition_end",AFTER_PUT_IMAGE:"after_put_image",IMAGE_MOUSEENTER:"slider_image_mouseenter",IMAGE_MOUSELEAVE:"slider_image_mouseleave",CURRENTSLIDE_LOAD_START:"slider_current_loadstart",CURRENTSLIDE_LOAD_END:"slider_current_loadend"}),slider_image_border_width:10,slider_image_border_color:"#ffffff",slider_image_border_radius:0,slider_image_border_maxratio:.35,slider_image_shadow:!1,slider_video_constantsize:!1,slider_video_constantsize_scalemode:"fit",slider_video_constantsize_width:854,slider_video_constantsize_height:480,slider_video_padding_top:0,slider_video_padding_bottom:0,slider_video_padding_left:0,slider_video_padding_right:0,slider_video_enable_closebutton:!0,slider_transition:"slide",slider_transition_speed:300,slider_transition_easing:"easeInOutQuad",slider_control_swipe:!0,slider_control_zoom:!0,slider_zoom_mousewheel:!0,slider_vertical_scroll_ondrag:!1,slider_loader_type:1,slider_loader_color:"white",slider_enable_links:!0,slider_links_newpage:!1,slider_enable_bullets:!1,slider_bullets_skin:"",slider_bullets_space_between:-1,slider_bullets_align_hor:"center",slider_bullets_align_vert:"bottom",slider_bullets_offset_hor:0,slider_bullets_offset_vert:10,slider_enable_arrows:!0,slider_arrows_skin:"",slider_arrow_left_align_hor:"left",slider_arrow_left_align_vert:"middle",slider_arrow_left_offset_hor:20,slider_arrow_left_offset_vert:0,slider_arrow_right_align_hor:"right",slider_arrow_right_align_vert:"middle",slider_arrow_right_offset_hor:20,slider_arrow_right_offset_vert:0,slider_enable_progress_indicator:!0,slider_progress_indicator_type:"pie",slider_progress_indicator_align_hor:"right",slider_progress_indicator_align_vert:"top",slider_progress_indicator_offset_hor:10,slider_progress_indicator_offset_vert:10,slider_enable_play_button:!0,slider_play_button_skin:"",slider_play_button_align_hor:"left",slider_play_button_align_vert:"top",slider_play_button_offset_hor:40,slider_play_button_offset_vert:8,slider_play_button_mobilehide:!1,slider_enable_fullscreen_button:!0,slider_fullscreen_button_skin:"",slider_fullscreen_button_align_hor:"left",slider_fullscreen_button_align_vert:"top",slider_fullscreen_button_offset_hor:11,slider_fullscreen_button_offset_vert:9,slider_fullscreen_button_mobilehide:!1,slider_enable_zoom_panel:!0,slider_zoompanel_skin:"",slider_zoompanel_align_hor:"left",slider_zoompanel_align_vert:"top",slider_zoompanel_offset_hor:12,slider_zoompanel_offset_vert:92,slider_zoompanel_mobilehide:!1,slider_controls_always_on:!1,slider_controls_appear_ontap:!0,slider_controls_appear_duration:300,slider_enable_text_panel:!0,slider_textpanel_always_on:!0,slider_videoplay_button_type:"square"},P={slider_progress_indicator_align_hor:"left",slider_progress_indicator_align_vert:"bottom",slider_progress_indicator_offset_hor:0,slider_progress_indicator_offset_vert:0},x={isRunOnce:!1,isTextPanelSaparateHover:!1,numPrev:1,numCurrent:2,numNext:3,isControlsVisible:!0,currentControlsMode:"image"};function j(e,t,i){f=e,i&&(u=i,t=w.convertCustomPrefixOptions(t,u,"slider")),a=jQuery(e);var n=f.getObjects();if(s=n.g_objWrapper,n.g_objThumbs,t.hasOwnProperty("slider_progress_indicator_type")&&(S.slider_progress_indicator_type=t.slider_progress_indicator_type),"bar"==S.slider_progress_indicator_type&&(S=jQuery.extend(S,P)),t&&p.setOptions(t),function(){var e=f.getOptions(),t=e.gallery_skin;""==S.slider_bullets_skin&&(S.slider_bullets_skin=t);""==S.slider_arrows_skin&&(S.slider_arrows_skin=t);""==S.slider_zoompanel_skin&&(S.slider_zoompanel_skin=t);""==S.slider_play_button_skin&&(S.slider_play_button_skin=t);""==S.slider_fullscreen_button_skin&&(S.slider_fullscreen_button_skin=t);S.video_enable_closebutton=S.slider_video_enable_closebutton,"zoom"!=e.gallery_mousewheel_role&&(S.slider_zoom_mousewheel=!1)}(),1==S.slider_enable_bullets){y=new UGBullets;var r={bullets_skin:S.slider_bullets_skin,bullets_space_between:S.slider_bullets_space_between};y.init(f,r)}S.slider_enable_text_panel&&(T=new UGTextPanel).init(f,S,"slider"),S.slider_enable_zoom_panel&&(l=new UGZoomButtonsPanel).init(p,S);var o=f.getGalleryID();I.init(S,!1,o)}function e(){if(1==x.isRunOnce)return!1;if(x.isRunOnce=!0,S.slider_background_color){var e=S.slider_background_color;1!=S.slider_background_opacity&&(e=w.convertHexToRGB(e,S.slider_background_opacity)),d.css("background-color",e)}else 1!=S.slider_background_opacity&&(e=w.convertHexToRGB("#000000",S.slider_background_opacity),d.css("background-color",e));1==S.slider_control_swipe&&(o=new UGTouchSliderControl).init(p,S),1==S.slider_control_zoom&&(t=new UGZoomSliderControl).init(p,S),T&&T.run(),function(){a.on(f.events.ITEM_IMAGE_UPDATED,se),a.on(f.events.ITEM_CHANGE,K),y&&jQuery(y).on(y.events.BULLET_CLICK,J);1==S.slider_enable_arrows&&(w.addClassOnHover(r,"ug-arrow-hover"),w.addClassOnHover(n,"ug-arrow-hover"),f.setNextButton(r),f.setPrevButton(n));0==S.slider_controls_always_on&&d.hover(ie,ne);d.on("touchend click",$),m.on(p.events.CLICK,ee),T&&1==x.isTextPanelSaparateHover&&d.hover(D,G);b&&(w.addClassOnHover(b,"ug-button-hover"),f.setPlayButton(b));v&&(w.addClassOnHover(v,"ug-button-hover"),f.setFullScreenToggleButton(v));t&&m.on(p.events.ZOOM_CHANGE,te);l&&l.initEvents();I.initEvents(),jQuery(I).on(I.events.SHOW,oe),jQuery(I).on(I.events.HIDE,ae),ue(g),ue(c),ue(h),m.on(p.events.AFTER_PUT_IMAGE,le),d.on("mouseenter",".ug-item-wrapper img",function(e){m.trigger(p.events.IMAGE_MOUSEENTER)}),d.on("mouseleave",".ug-item-wrapper img",function(e){var t=p.isMouseInsideSlideImage(e);0==t&&m.trigger(p.events.IMAGE_MOUSELEAVE)})}()}function C(e,t){var i="ug-type-square";"round"==S.slider_videoplay_button_type&&(i="ug-type-round");var n="";return n+="<div class='ug-slide-wrapper ug-slide"+t+"'>",n+="<div class='ug-item-wrapper'></div>",n+="<div class='ug-slider-preloader "+e+"'></div>",n+="<div class='ug-button-videoplay "+i+"' style='display:none'></div>",n+="</div>"}function i(e){e&&(s=e);var t=function(){var e;switch(S.slider_loader_type){default:case 1:e="ug-loader1";break;case 2:e="ug-loader2";break;case 3:e="ug-loader3";break;case 4:e="ug-loader4";break;case 5:e="ug-loader5";break;case 6:e="ug-loader6";break;case 7:e="ug-loader7";break;case 8:e="ug-loader8";break;case 9:e="ug-loader9"}"black"==S.slider_loader_color&&(e+=" ug-loader-black");return e}(),i=(f.getOptions(),"<div class='ug-slider-wrapper'>");(i+="<div class='ug-slider-inner'>",i+=C(t,1),i+=C(t,2),i+=C(t,3),i+="</div>",1==S.slider_enable_arrows&&(i+="<div class='ug-slider-control ug-arrow-left ug-skin-"+S.slider_arrows_skin+"'></div>",i+="<div class='ug-slider-control ug-arrow-right ug-skin-"+S.slider_arrows_skin+"'></div>"),1==S.slider_enable_play_button&&(i+="<div class='ug-slider-control ug-button-play ug-skin-"+S.slider_play_button_skin+"'></div>"),1==S.slider_enable_fullscreen_button&&(i+="<div class='ug-slider-control ug-button-fullscreen ug-skin-"+S.slider_fullscreen_button_skin+"'></div>"),i+="</div>",s.append(i),d=s.children(".ug-slider-wrapper"),_=d.children(".ug-slider-inner"),g=_.children(".ug-slide1"),c=_.children(".ug-slide2"),h=_.children(".ug-slide3"),g.data("slidenum",1),c.data("slidenum",2),h.data("slidenum",3),y&&y.appendHTML(d),1==S.slider_enable_arrows&&(n=d.children(".ug-arrow-left"),r=d.children(".ug-arrow-right")),1==S.slider_enable_play_button&&(b=d.children(".ug-button-play")),1==S.slider_enable_fullscreen_button&&(v=d.children(".ug-button-fullscreen")),1==S.slider_enable_progress_indicator)&&("bar"==(E=w.initProgressIndicator(S.slider_progress_indicator_type,S,d)).getType()&&"pie"==S.slider_progress_indicator_type&&(S.slider_progress_indicator_type="bar",S=jQuery.extend(S,P)),f.setProgressIndicator(E));1==S.slider_enable_text_panel&&(T.appendHTML(d),0==S.slider_textpanel_always_on&&(T.getElement().hide().data("isHidden",!0),x.isTextPanelSaparateHover=!0));1==S.slider_enable_zoom_panel&&l.appendHTML(d),I.setHtml(_)}function A(e){var t=ge(e);w.placeElementInParentCenter(t);var i=ce(e);w.placeElementInParentCenter(i)}function M(){if(y&&(objBullets=y.getElement(),w.placeElement(objBullets,S.slider_bullets_align_hor,S.slider_bullets_align_vert,S.slider_bullets_offset_hor,S.slider_bullets_offset_vert),w.placeElement(objBullets,S.slider_bullets_align_hor,S.slider_bullets_align_vert,S.slider_bullets_offset_hor,S.slider_bullets_offset_vert)),1==S.slider_enable_arrows&&(w.placeElement(n,S.slider_arrow_left_align_hor,S.slider_arrow_left_align_vert,S.slider_arrow_left_offset_hor,S.slider_arrow_left_offset_vert),w.placeElement(r,S.slider_arrow_right_align_hor,S.slider_arrow_left_align_vert,S.slider_arrow_right_offset_hor,S.slider_arrow_right_offset_vert)),0==S.slider_controls_always_on&&X(!0),E){var e=E.getElement();if("bar"==S.slider_progress_indicator_type){var t=d.width();E.setSize(t),w.placeElement(e,"left",S.slider_progress_indicator_align_vert,0,S.slider_progress_indicator_offset_vert)}else w.placeElement(e,S.slider_progress_indicator_align_hor,S.slider_progress_indicator_align_vert,S.slider_progress_indicator_offset_hor,S.slider_progress_indicator_offset_vert)}T&&T.positionPanel(),function(){b&&w.placeElement(b,S.slider_play_button_align_hor,S.slider_play_button_align_vert,S.slider_play_button_offset_hor,S.slider_play_button_offset_vert);v&&w.placeElement(v,S.slider_fullscreen_button_align_hor,S.slider_fullscreen_button_align_vert,S.slider_fullscreen_button_offset_hor,S.slider_fullscreen_button_offset_vert);if(l){var e=l.getElement();w.placeElement(e,S.slider_zoompanel_align_hor,S.slider_zoompanel_align_vert,S.slider_zoompanel_offset_hor,S.slider_zoompanel_offset_vert)}}(),A(g),A(c),A(h),f.isMobileMode()?(1==S.slider_fullscreen_button_mobilehide&&v&&v.hide(),1==S.slider_play_button_mobilehide&&b&&b.hide(),1==S.slider_zoompanel_mobilehide&&l&&l.getElement().hide()):(1==S.slider_fullscreen_button_mobilehide&&v&&v.show(),1==S.slider_play_button_mobilehide&&b&&b.show(),1==S.slider_zoompanel_mobilehide&&l&&l.getElement().show())}function O(){var e,t,i,n,r=p.getSlidesReference(),o=0;i=p.isSlideHasItem(r.objNextSlide),(n=p.isSlideHasItem(r.objPrevSlide))?(o=r.objPrevSlide.outerWidth(),r.objPrevSlide.css("z-index",1)):r.objPrevSlide.hide(),e=t=o+r.objCurrentSlide.outerWidth(),i?(e=t+r.objNextSlide.outerWidth(),r.objPrevSlide.css("z-index",2)):r.objNextSlide.hide(),r.objCurrentSlide.css("z-index",3),w.placeElement(r.objCurrentSlide,o,0),_.css({left:-o+"px",width:e+"px"}),n&&(w.placeElement(r.objPrevSlide,0,0),w.showElement(r.objPrevSlide)),i&&(w.showElement(r.objNextSlide),w.placeElement(r.objNextSlide,t,0))}function z(e){var t=e.data("index");if(void 0===t||null==t)return!1;var i=f.getItem(t);if(!i)return!1;R(e,i)}function L(e){e.stop(!0).hide(100)}function H(e,t,i){var n={};if(1==S.slider_image_border){n["border-style"]="solid";var r=function(e,t){if((a=S.slider_image_border_width)<=10)return a;var i=w.getElementSize(e),n=i.width,r=i.height;if(t&&(t.hasOwnProperty("imageWidth")&&(n=t.imageWidth),t.hasOwnProperty("imageHeight")&&(r=t.imageHeight)),n<=0)return a;var o=n<r?n:r;if(2*a/o<S.slider_image_border_maxratio)return a;var a=o*S.slider_image_border_maxratio/2;return a=Math.round(a)}(e,i);n["border-width"]=r+"px",n["border-color"]=S.slider_image_border_color,n["border-radius"]=S.slider_image_border_radius}"image"!=t&&1==S.slider_video_constantsize&&(n["background-color"]="#000000"),1==S.slider_image_shadow&&(n["box-shadow"]="3px 3px 10px 0px #353535"),e.css(n)}function N(e,t){var i=S.slider_video_constantsize_width,n=S.slider_video_constantsize_height,r=S.slider_video_constantsize_scalemode;return w.scaleImageExactSizeInParent(e,t.imageWidth,t.imageHeight,i,n,r)}function k(e,t,i){var n=e.children(".ug-item-wrapper"),r=ge(e);if(void 0===t.urlImage||""==t.urlImage)throw new Error("The slide don't have big image defined ( data-image='imageurl' ). Please check gallery items.","showbig");var o=t.urlImage,a=e.data("urlImage");e.data("urlImage",o);var s=p.getScaleMode(e),l=p.getSlideType(e);if(objPadding=p.getObjImagePadding(),a==o&&!0!==i){var u=n.children("img");0!=t.imageWidth&&0!=t.imageHeight||f.checkFillImageSize(u,t);var d={};H(u,l,d="image"!=l&&1==S.slider_video_constantsize?N(u,t):w.scaleImageFitParent(u,t.imageWidth,t.imageHeight,s,objPadding)),m.trigger(p.events.AFTER_PUT_IMAGE,e)}else if(u=w.placeImageInsideParent(o,n,t.imageWidth,t.imageHeight,s,objPadding),1==t.isBigImageLoaded){if(u.fadeTo(0,1),L(r),"image"!=l&&1==S.slider_video_constantsize)d=N(u,t);else d=w.getImageInsideParentData(n,t.imageWidth,t.imageHeight,s,objPadding);u.css("width",d.imageWidth+"px"),H(u,l,d),m.trigger(p.events.AFTER_PUT_IMAGE,e)}else u.fadeTo(0,0),r.stop(!0).show(100),e.data("isLoading",!0),p.isSlideCurrent(e)&&m.trigger(p.events.CURRENTSLIDE_LOAD_START),u.data("itemIndex",t.index),u.on("load",function(){var e=jQuery(this),t=e.data("itemIndex");e.fadeTo(0,1);var i=e.parent().parent(),n=p.getSlideType(i),r=ge(i),o=p.getObjImagePadding(),a=p.getScaleMode(i);L(r),i.data("isLoading",!1),p.isSlideCurrent(i)&&m.trigger(p.events.CURRENTSLIDE_LOAD_END),f.onItemBigImageLoaded(null,e);var s=f.getItem(t),l={};"image"!=n&&1==S.slider_video_constantsize?N(e,s):l=w.scaleImageFitParent(e,s.imageWidth,s.imageHeight,a,o),e.fadeTo(0,1),H(e,n,l),m.trigger(p.events.AFTER_PUT_IMAGE,i)})}function R(e,t){try{var i=e.children(".ug-item-wrapper");if(null==t)return i.html(""),e.removeData("index"),e.removeData("type"),e.removeData("urlImage"),!1;e.data("index");e.data("index",t.index),e.data("type",t.type),1==S.slider_enable_links&&"image"==t.type&&(t.link?e.addClass("ug-slide-clickable"):e.removeClass("ug-slide-clickable")),k(e,t);var n=ce(e);switch(t.type){case"image":n.hide();break;default:n.show()}}catch(e){throw void 0!==e.fileName&&"showbig"==e.fileName&&f.showErrorMessageReplaceGallery(e.message),i.html(""),new Error(e)}}function G(){if(!T)return!1;if(1==Q())return!1;var e=T.getElement(),t=0;1!=x.isTextPanelSaparateHover&&1!=S.slider_textpanel_always_on||(t=S.slider_controls_appear_duration),e.stop().fadeTo(t,0),e.data("isHidden",!0)}function D(){if(!T)return!1;if(0==Q())return!1;var e=T.getElement(),t=0;1!=x.isTextPanelSaparateHover&&1!=S.slider_textpanel_always_on||(e.show(),T.positionElements(),t=S.slider_controls_appear_duration),e.stop().show().fadeTo(t,1),e.data("isHidden",!1)}function Q(){return!1!==T.getElement().data("isHidden")}function W(){var e=p.getCurrentSlide(),t=p.getSlideImage(e),i=w.getElementSize(e),n=i.left,r=i.top;if(1==S.slider_video_constantsize){var o=w.getElementSize(t);n+=o.left,r+=o.top}else n+=S.slider_video_padding_left,r+=S.slider_video_padding_top;I.setPosition(n,r)}function B(){var e=S.slider_video_constantsize_width,t=S.slider_video_constantsize_height;I.setSize(e,t),H(I.getObject(),"video")}function F(e,t,i){m.trigger(p.events.TRANSITION_START);var n=S.slider_transition;switch(i&&(n=i),p.stopSlideAction(null,!0),n){default:case"fade":U(t);break;case"slide":!function t(e,i){var n=p.isAnimating();if(1==n)return x.itemWaiting=i,!0;null!=x.itemWaiting&&(x.itemWaiting=null);var r=p.getSlidesReference();switch(e){case"right":R(r.objPrevSlide,i),O();var o=w.getElementSize(r.objPrevSlide),a=-o.left;p.switchSlideNums("right");break;case"left":R(r.objNextSlide,i),O();var s=w.getElementSize(r.objNextSlide),a=-s.left;p.switchSlideNums("left");break;default:throw new Error("wrong direction: "+e)}var l=S.slider_transition_speed;var u=S.slider_transition_easing;var d={duration:l,easing:u,queue:!1,always:function(){if(p.stopSlideAction(),I.hide(),null!=x.itemWaiting){var e=_e(x.itemWaiting);t(e,x.itemWaiting)}else p.placeNabourItems(),m.trigger(p.events.TRANSITION_END)}};_.animate({left:a+"px"},d)}(e,t);break;case"lightbox_open":U(t,!1,!0)}}function Y(e,t,i){i?e.fadeTo(S.slider_transition_speed,t,i):e.fadeTo(S.slider_transition_speed,t)}function U(e,t,i){if(!t)t=!1;var n=p.getSlidesReference();R(n.objNextSlide,e);var r=w.getElementSize(n.objCurrentSlide);w.placeElement(n.objNextSlide,r.left,r.top);var o=x.numCurrent;if(x.numCurrent=x.numNext,x.numNext=o,m.trigger(p.events.ITEM_CHANGED),n.objNextSlide.stop(!0),n.objCurrentSlide.stop(!0),1==t)n.objCurrentSlide.fadeTo(0,0),n.objNextSlide.fadeTo(0,1),p.placeNabourItems(),m.trigger(p.events.TRANSITION_END),!0!==i&&I.hide();else{if(n.objNextSlide.fadeTo(0,0),Y(n.objCurrentSlide,0,function(){p.placeNabourItems(),m.trigger(p.events.TRANSITION_END),!0!==i&&I.hide()}),1==I.isVisible())Y(I.getObject(),0);Y(n.objNextSlide,1)}}function V(){return d.children(".ug-slider-control")}function X(e){if(0==w.isTimePassed("sliderControlsToggle"))return!1;if(0==x.isControlsVisible)return!1;if(!e)e=!1;var t=V();!0===e?t.stop().fadeTo(0,0).hide():t.stop().fadeTo(S.slider_controls_appear_duration,0,function(){t.hide()}),x.isControlsVisible=!1}function Z(e){if(0==w.isTimePassed("sliderControlsToggle"))return!1;if(1==x.isControlsVisible)return!0;if(!e)e=!1;var t=V();!0===e?t.stop().show():(t.stop().show().fadeTo(0,0),t.fadeTo(S.slider_controls_appear_duration,1)),x.isControlsVisible=!0}function q(e){if(e==x.currentControlsMode)return!1;switch(e){case"image":l&&l.getElement().show();break;case"video":l&&l.getElement().hide();break;default:throw new Error("wrong controld mode: "+e)}x.currentControlsMode=e}function K(e,t,i){var n=f.getSelectedItem();p.setItem(n,!1,i);var r=n.index;y&&y.setActive(r),T&&0==x.isTextPanelSaparateHover&&D(),"image"==n.type?q("image"):q("video")}function J(e,t){f.selectItem(t)}function $(e){if(o&&0==o.isTapEventOccured(e))return!0;m.trigger(p.events.CLICK,e)}function ee(){var e=p.getCurrentSlide().hasClass("ug-slide-clickable"),t=p.getCurrentItem();if(e)return 0==S.slider_links_newpage?location.href=t.link:window.open(t.link,"_blank"),!0;0==S.slider_controls_always_on&&1==S.slider_controls_appear_ontap&&1==p.isCurrentSlideType("image")&&(0==x.isControlsVisible?Z():X(),T&&1==S.slider_textpanel_always_on&&p.isCurrentSlideType("image")&&p.isCurrentSlideImageFit()&&D())}function te(e){T&&p.isCurrentSlideType("image")&&0==p.isCurrentSlideImageFit()&&G()}function ie(){Z()}function ne(){X()}function re(e){var t=e.parent();p.startSlideAction(t)}function oe(){f.isPlayMode()&&f.pausePlaying(),m.trigger(p.events.ACTION_START)}function ae(){f.isPlayMode()&&f.continuePlaying(),m.trigger(p.events.ACTION_END)}function se(e,t,i){g.data("index")==t&&(objItem=f.getItem(t),k(g,objItem,!0)),c.data("index")==t&&(objItem=f.getItem(t),k(c,objItem,!0)),h.data("index")==t&&(objItem=f.getItem(t),k(h,objItem,!0))}function le(e,t){t=jQuery(t);var i=p.getSlideImage(t),n=ce(t),r=w.getElementSize(i);w.placeElement(n,"center","middle",r.left,r.top,i)}function ue(e){var t=ce(e);w.addClassOnHover(t),w.setButtonOnClick(t,re)}function de(e){switch(e){case 1:return g;case 2:return c;case 3:return h;default:throw new Error("wrong num: "+e)}}function _e(e){var t=p.getSlidesReference().objCurrentSlide.data("index"),i="left";return e.index<t&&(i="right"),i}function ge(e){if(!e)e=p.getCurrentSlide();return e.children(".ug-slider-preloader")}function ce(e){return e.children(".ug-button-videoplay")}function he(e){if(!e)e=p.getCurrentSlide();var t=e.data("index");return null==t?null:f.getItem(t)}this.switchSlideNums=function(e){switch(m.trigger(p.events.BEFORE_SWITCH_SLIDES),e){case"left":var t=x.numCurrent;x.numCurrent=x.numNext,x.numNext=x.numPrev,x.numPrev=t;break;case"right":t=x.numCurrent;x.numCurrent=x.numPrev,x.numPrev=x.numNext,x.numNext=t;break;default:throw new Error("wrong direction: "+e)}m.trigger(p.events.ITEM_CHANGED)},this.destroy=function(){m.off(p.events.AFTER_PUT_IMAGE),a.off(f.events.ITEM_IMAGE_UPDATED),a.off(f.events.ITEM_CHANGE),y&&jQuery(y).on(y.events.BULLET_CLICK),d.off("mouseenter"),d.off("mouseleave"),d.off("touchend"),d.off("click"),m.off(p.events.CLICK),t&&m.off(p.events.ZOOM_CHANGE),m.off(p.events.BEFORE_SWITCH_SLIDES),jQuery(I).off(I.events.SHOW),jQuery(I).off(I.events.HIDE),I.destroy(),d.off("mouseenter",".ug-item-wrapper img"),d.off("mouseleave",".ug-item-wrapper img")},this.________EXTERNAL_GENERAL___________=function(){},this.init=function(e,t,i){j(e,t,i)},this.getSlideImage=function(e){if(!e)e=p.getCurrentSlide();return e.find(".ug-item-wrapper img")},this.setHtml=function(e){i(e)},this.run=function(){e()},this.isInnerInPlace=function(){var e=p.getSlidesReference();return-w.getElementSize(e.objCurrentSlide).left==w.getElementSize(_).left},this.isAnimating=function(){return _.is(":animated")},this.isSlideCurrent=function(e){var t=e.data("slidenum");return x.numCurrent==t},this.isSlideHasItem=function(e){var t=e.data("index");return null!=t},this.getObjImagePadding=function(){return{padding_top:S.slider_image_padding_top,padding_bottom:S.slider_image_padding_bottom,padding_left:S.slider_image_padding_left,padding_right:S.slider_image_padding_right}},this.getSlidesReference=function(){return{objPrevSlide:de(x.numPrev),objNextSlide:de(x.numNext),objCurrentSlide:de(x.numCurrent)}},this.getCurrentSlide=function(){return p.getSlidesReference().objCurrentSlide},this.getCurrentItemIndex=function(){var e=p.getSlidesReference().objCurrentSlide.data("index");return null==e&&(e=-1),e},this.getCurrentItem=function(){var e=p.getCurrentItemIndex();return-1==e?null:f.getItem(e)},this.getSlideType=function(e){return null==e&&(e=p.getCurrentSlide()),e.data("type")},this.isMouseInsideSlideImage=function(e){var t=p.getSlideImage(),i=w.getMousePosition(e);void 0===i.pageX&&(i=o.getLastMousePos());var n=w.getMouseElementPoint(i,t),r=w.getElementSize(t);return isMouseInside=w.isPointInsideElement(n,r),isMouseInside},this.isCurrentSlideType=function(e){return p.getSlideType()==e},this.isCurrentSlideLoadingImage=function(){return!0===p.getCurrentSlide().data("isLoading")},this.setItem=function(e,t,i){var n=p.getSlidesReference(),r=n.objCurrentSlide.data("index"),o=e.index;if(o==r)return!0;if(null==r)R(n.objCurrentSlide,e),p.placeNabourItems();else{var a="left";f.getNumItems();"next"==i?a="left":"prev"==i||o<r?a="right":o<r&&(a="right"),F(a,e,t)}},this.placeNabourItems=function(){var e=p.getSlidesReference(),t=e.objCurrentSlide.data("index"),i=f.getPrevItem(t),n=f.getNextItem(t);R(e.objNextSlide,n),R(e.objPrevSlide,i),O()},this.________EXTERNAL_API___________=function(){},this.stopSlideAction=function(e,t){e||(e=p.getCurrentSlide()),!0===t?I.pause():I.hide()},this.startSlideAction=function(e){e||(e=p.getCurrentSlide());var t=he(e);if("image"==t.type)return!0;switch(1==S.slider_video_constantsize&&B(),W(),I.show(),t.type){case"youtube":I.playYoutube(t.videoid);break;case"vimeo":I.playVimeo(t.videoid);break;case"html5video":I.playHtml5Video(t.videoogv,t.videowebm,t.videomp4,t.urlImage);break;case"soundcloud":I.playSoundCloud(t.trackid);break;case"wistia":I.playWistia(t.videoid)}},this.getScaleMode=function(e){if(!e)e=p.getCurrentSlide();return"image"!=p.getSlideType(e)?S.slider_scale_mode_media:S.slider_scale_mode==S.slider_scale_mode_fullscreen?S.slider_scale_mode:1==f.isFullScreen()?S.slider_scale_mode_fullscreen:S.slider_scale_mode},this.getObjects=function(){return{g_objSlider:d,g_objInner:_,g_options:S,g_objZoomSlider:t}},this.getObjZoom=function(){return t},this.getOptions=function(){return S},this.getElement=function(){return d},this.getVideoObject=function(){return I},this.isCurrentSlideImageFit=function(){var e=p.getCurrentSlide();p.getSlideType(e);!function(e,t){null==t&&(t=p.getCurrentSlide());var i=p.getSlideType(t);if(i!=e)throw new Error("Wrong slide type: "+i+", should be: "+e)}("image",e);var t=p.getSlideImage(e);return 0!=t.length&&w.isImageFitParent(t)},this.isCurrentImageInPlace=function(){var e=p.getSlideImage();if(0==e.length)return!1;var t=p.getScaleMode(),i=p.getObjImagePadding(),n=he(),r=e.parent(),o=w.getImageInsideParentData(r,n.imageWidth,n.imageHeight,t,i),a=w.getElementSize(e),s=!1;return o.imageWidth==a.width&&(s=!0),s},this.isSlideActionActive=function(){return I.isVisible()},this.isSwiping=function(){return!!o&&o.isTouchActive()},this.isPreloading=function(){return!!ge().is(":visible")},this.setOptions=function(e){u&&(e=w.convertCustomPrefixOptions(e,u,"slider")),S=jQuery.extend(S,e)},this.setSize=function(e,t){if(e<0||t<0)return!0;var i={};i.width=e+"px",i.height=t+"px",d.css(i);var n={};n.height=t+"px",n.top="0px",n.left="0px",_.css(n);var r={};r.height=t+"px",r.width=e+"px",g.css(r),c.css(r),h.css(r);var o=e-S.slider_item_padding_left-S.slider_item_padding_right,a=t-S.slider_item_padding_top-S.slider_item_padding_bottom,s={};if(s.width=o+"px",s.height=a+"px",s.top=S.slider_item_padding_top+"px",s.left=S.slider_item_padding_left+"px",d.find(".ug-item-wrapper").css(s),T&&T.setSizeByParent(),M(),z(g),z(c),z(h),O(),"image"!=p.getSlideType()&&1==S.slider_video_constantsize)B();else{var l=e-S.slider_video_padding_left-S.slider_video_padding_right,u=t-S.slider_video_padding_top-S.slider_video_padding_bottom;I.setSize(l,u)}W()},this.refreshSlideItems=function(){if(1==p.isAnimating())return!0;z(g),z(c),z(h),O()},this.isMouseOver=function(){return d.ismouseover()},this.setPosition=function(e,t){w.placeElement(d,e,t)},this.zoomIn=function(){if(!t)return!0;t.zoomIn()},this.zoomOut=function(){if(!t)return!0;t.zoomOut()},this.zoomBack=function(){if(!t)return!0;t.zoomBack()}}function UGTextPanel(){var l,n,u,d,_,g,r,o=this,c=new UGFunctions,a="",h={textpanel_align:"bottom",textpanel_margin:0,textpanel_text_valign:"middle",textpanel_padding_top:10,textpanel_padding_bottom:10,textpanel_height:null,textpanel_padding_title_description:5,textpanel_padding_right:11,textpanel_padding_left:11,textpanel_fade_duration:200,textpanel_enable_title:!0,textpanel_enable_description:!0,textpanel_enable_bg:!0,textpanel_bg_color:"#000000",textpanel_bg_opacity:.4,textpanel_title_color:null,textpanel_title_font_family:null,textpanel_title_text_align:null,textpanel_title_font_size:null,textpanel_title_bold:null,textpanel_css_title:{},textpanel_desc_color:null,textpanel_desc_font_family:null,textpanel_desc_text_align:null,textpanel_desc_font_size:null,textpanel_desc_bold:null,textpanel_css_description:{},textpanel_desc_style_as_title:!1,textpanel_bg_css:{}},p={isFirstTime:!0,setInternalHeight:!0,lastTitleBottom:0,lastDescHeight:0};function s(e,t){if(!t)t=h.textpanel_padding_top;var i=t;if(u){var n=i;if(c.placeElement(u,0,n),1==u.is(":visible")){0<(i=c.getElementSize(u).bottom)&&(p.lastTitleBottom=i)}else{i=20;0<p.lastTitleBottom&&(i=p.lastTitleBottom)}}var r="";if(d&&(r=jQuery.trim(d.text())),""!=r){var o=i;if(u&&(o+=h.textpanel_padding_title_description),c.placeElement(d,0,o),1==jQuery(d).is(":visible")){var a=c.getElementSize(d);i=a.bottom,0<a.height&&(p.lastDescHeight=a.height)}else{var s=16;0<p.lastDescHeight&&(s=p.lastDescHeight),i=o+s}}h.textpanel_height||1!=p.setInternalHeight||function(e,t){if(!t)var t=!1;if(1==t){if(_){var i=_.height();i<e&&_.height(e)}var n={height:e+"px"};l.add(g).animate(n,h.textpanel_fade_duration)}else _&&_.height(e),l.add(g).height(e)}(i+h.textpanel_padding_bottom,e)}function m(){var e=0;if(u&&(e+=u.outerHeight()),d){var t="";d&&(t=jQuery.trim(d.text())),""!=t&&(u&&(e+=h.textpanel_padding_title_description),e+=d.outerHeight())}return e}function f(){if(1==h.textpanel_enable_bg){(_=l.children(".ug-textpanel-bg")).fadeTo(0,h.textpanel_bg_opacity);var e={"background-color":h.textpanel_bg_color};e=jQuery.extend(e,h.textpanel_bg_css),_.css(e)}if(1==h.textpanel_enable_title){u=g.children(".ug-textpanel-title");var t={};null!==h.textpanel_title_color&&(t.color=h.textpanel_title_color),null!==h.textpanel_title_font_family&&(t["font-family"]=h.textpanel_title_font_family),null!==h.textpanel_title_text_align&&(t["text-align"]=h.textpanel_title_text_align),null!==h.textpanel_title_font_size&&(t["font-size"]=h.textpanel_title_font_size+"px"),null!==h.textpanel_title_bold&&(!0===h.textpanel_title_bold?t["font-weight"]="bold":t["font-weight"]="normal"),h.textpanel_css_title&&(t=jQuery.extend(t,h.textpanel_css_title)),u.css(t)}if(1==h.textpanel_enable_description){d=g.children(".ug-textpanel-description");var i={};null!==h.textpanel_desc_color&&(i.color=h.textpanel_desc_color),null!==h.textpanel_desc_font_family&&(i["font-family"]=h.textpanel_desc_font_family),null!==h.textpanel_desc_text_align&&(i["text-align"]=h.textpanel_desc_text_align),null!==h.textpanel_desc_font_size&&(i["font-size"]=h.textpanel_desc_font_size+"px"),null!==h.textpanel_desc_bold&&(!0===h.textpanel_desc_bold?i["font-weight"]="bold":i["font-weight"]="normal"),h.textpanel_css_title&&(i=jQuery.extend(i,h.textpanel_css_description)),d.css(i)}}function e(){var e=r.getSelectedItem();o.setText(e.title,e.description)}this.positionElements=function(e){if(!h.textpanel_height||"top"==h.textpanel_text_valign)return s(e),!1;switch(h.textpanel_text_valign){default:case"top":s(!1);break;case"bottom":i=m(),s(!1,g.height()-i-h.textpanel_padding_bottom);break;case"center":case"middle":t=m(),s(!1,(g.height()-t)/2)}var t,i},this.init=function(e,t,i){if(r=e,i&&(a=i,t=c.convertCustomPrefixOptions(t,a,"textpanel")),t&&(h=jQuery.extend(h,t)),0==h.textpanel_enable_title&&0==h.textpanel_enable_description)throw new Error("Textpanel Error: The title or description must be enabled");h.textpanel_height&&h.textpanel_height<0&&(h.textpanel_height=null),1==h.textpanel_desc_style_as_title&&(h.textpanel_desc_color||(h.textpanel_desc_color=h.textpanel_title_color),h.textpanel_desc_bold||(h.textpanel_desc_bold=h.textpanel_title_bold),h.textpanel_desc_font_family||(h.textpanel_desc_font_family=h.textpanel_title_font_family),h.textpanel_desc_font_size||(h.textpanel_desc_font_size=h.textpanel_title_font_size),h.textpanel_desc_text_align||(h.textpanel_desc_text_align=h.textpanel_title_text_align))},this.appendHTML=function(e,t){n=e;var i="<div class='ug-textpanel"+(t=t?" "+t:"")+"'>";1==h.textpanel_enable_bg&&(i+="<div class='ug-textpanel-bg"+t+"'></div>"),i+="<div class='ug-textpanel-textwrapper"+t+"'>",1==h.textpanel_enable_title&&(i+="<div class='ug-textpanel-title"+t+"'></div>"),1==h.textpanel_enable_description&&(i+="<div class='ug-textpanel-description"+t+"'></div>"),i+="</div></div>",e.append(i),l=e.children(".ug-textpanel"),g=l.children(".ug-textpanel-textwrapper"),f()},this.destroy=function(){jQuery(r).off(r.events.ITEM_CHANGE)},this.run=function(){o.setSizeByParent(),jQuery(r).on(r.events.ITEM_CHANGE,e)},this.setPanelSize=function(e,t){if(p.setInternalHeight=!0,t)p.setInternalHeight=!1;else t=80;h.textpanel_height&&(t=h.textpanel_height),l.width(e),l.height(t),_&&(_.width(e),_.height(t));var i=e-h.textpanel_padding_left-h.textpanel_padding_right,n=h.textpanel_padding_left;c.setElementSizeAndPosition(g,n,0,i,t),u&&u.width(i),d&&d.width(i),0==p.isFirstTime&&o.positionElements(!1)},this.setSizeByParent=function(){var e=c.getElementSize(n);o.setPanelSize(e.width)},this.setTextPlain=function(e,t){u&&u.html(e),d&&d.html(t)},this.setText=function(e,t){1==p.isFirstTime?(o.setTextPlain(e,t),p.isFirstTime=!1,o.positionElements(!1)):g.stop().fadeTo(h.textpanel_fade_duration,0,function(){o.setTextPlain(e,t),o.positionElements(!0),jQuery(this).fadeTo(h.textpanel_fade_duration,1)})},this.positionPanel=function(e,t){var i={};if(null!=e)i.top=e,i.bottom="auto";else switch(h.textpanel_align){case"top":i.top=h.textpanel_margin+"px";break;case"bottom":i.top="auto",i.bottom=h.textpanel_margin+"px";break;case"middle":i.top=c.getElementRelativePos(l,"middle",h.textpanel_margin)}null!=t&&(i.left=t),l.css(i)},this.setOptions=function(e){a&&(e=c.convertCustomPrefixOptions(e,a,"textpanel")),h=jQuery.extend(h,e)},this.getElement=function(){return l},this.getSize=function(){return c.getElementSize(l)},this.refresh=function(e,t,i,n){f(),i?o.setPanelSize(i,n):o.setSizeByParent(),o.positionElements(!1),!0!==t&&o.positionPanel(),!0===e&&o.show()},this.hide=function(){l.hide()},this.show=function(){l.show()},this.getOptions=function(){return h},this.getOption=function(e){return 0==h.hasOwnProperty(e)?null:h[e]}}function UGZoomButtonsPanel(){var i,n,r,o,a=new UGSlider,e=new UGFunctions,s={slider_zoompanel_skin:""};function t(e){return!e||!!e.hasClass("ug-zoompanel-button-disabled")}function l(e){e&&e.addClass("ug-zoompanel-button-disabled")}function u(e){e&&e.removeClass("ug-zoompanel-button-disabled")}function d(){if(0==a.isCurrentSlideType("image"))return!0;1==a.isCurrentSlideImageFit()?0==t(r)&&(l(r),l(o)):1==t(r)&&(u(r),u(o))}this.init=function(e,t){a=e,t&&(s=jQuery.extend(s,t))},this.appendHTML=function(e){e;var t="<div class='ug-slider-control ug-zoompanel ug-skin-"+s.slider_zoompanel_skin+"'>";t+="<div class='ug-zoompanel-button ug-zoompanel-plus'></div>",t+="<div class='ug-zoompanel-button ug-zoompanel-minus ug-zoompanel-button-disabled'></div>",t+="<div class='ug-zoompanel-button ug-zoompanel-return ug-zoompanel-button-disabled'></div>",t+="</div>",e.append(t),i=e.children(".ug-zoompanel"),n=i.children(".ug-zoompanel-plus"),r=i.children(".ug-zoompanel-minus"),o=i.children(".ug-zoompanel-return")},this.setObjects=function(e,t,i){n=e,o=i,(r=t)&&r.addClass("ug-zoompanel-button-disabled"),o&&o.addClass("ug-zoompanel-button-disabled")},this.getElement=function(){return i},this.initEvents=function(){e.addClassOnHover(n,"ug-button-hover"),e.addClassOnHover(r,"ug-button-hover"),e.addClassOnHover(o,"ug-button-hover"),e.setButtonOnClick(n,function(){if(1==t(n))return!0;a.zoomIn()}),e.setButtonOnClick(r,function(){if(1==t(r))return!0;a.zoomOut()}),e.setButtonOnClick(o,function(){if(1==t(o))return!0;a.zoomBack()}),jQuery(a).on(a.events.ZOOM_CHANGE,d),jQuery(a).on(a.events.ITEM_CHANGED,d)}}function UGBullets(){var r,o,i=this,a=0,n=new UniteGalleryMain,t=new UGFunctions,s={isInited:!1},l={bullets_skin:"",bullets_addclass:"",bullets_space_between:-1};function u(){var e="",t="";-1!=l.bullets_space_between&&(t=" style='margin-left:"+l.bullets_space_between+"px'");for(var i=0;i<a;i++)e+=0==i?"<div class='ug-bullet'></div>":"<div class='ug-bullet'"+t+"></div>";if(r.html(e),!o){var n=r.find(".ug-bullet:first-child");n.length&&(o=n.width())}}function d(e){if(1==i.isActive(e))return!0;var t=e.index();jQuery(i).trigger(i.events.BULLET_CLICK,t)}function _(){var e=r.children(".ug-bullet");t.setButtonOnClick(e,d),e.on("mousedown mouseup",function(e){return!1})}function g(e){if(e<0||a<=e)throw new Error("wrong bullet index: "+e)}function c(){if(1==s.isInited)return!0;throw new Error("The bullets are not inited!")}this.events={BULLET_CLICK:"bullet_click"},this.init=function(e,t,i){n=e,a=i||n.getNumItems(),s.isInited=!0,""==(l=jQuery.extend(l,t)).bullets_skin&&(l.bullets_skin=l.gallery_skin)},this.getBulletsWidth=function(){return 0==a?0:o?a*o+(a-1)*l.bullets_space_between:0},this.appendHTML=function(e){e,c();var t="";""!=l.bullets_addclass&&(t=" "+l.bullets_addclass);var i="<div class='ug-slider-control ug-bullets ug-skin-"+l.bullets_skin+t+"'>";r=jQuery(i+="</div>"),e.append(r),u(),_()},this.updateNumBullets=function(e){a=e,u(),_()},this.getElement=function(){return r},this.setActive=function(e){c(),g(e);var t=r.children(".ug-bullet");t.removeClass("ug-bullet-active"),jQuery(t[e]).addClass("ug-bullet-active"),e},this.isActive=function(e){if(g(e),"number"!=typeof e)var t=e;else t=r.children(".ug-bullet")[e];return!!t.hasClass("ug-bullet-active")},this.getNumBullets=function(){return a}}function UGProgressBar(){var r,o,i=this,t=0,a=new UGFunctions,s={slider_progressbar_color:"#ffffff",slider_progressbar_opacity:.6,slider_progressbar_line_width:5};this.put=function(e,t){t&&(s=jQuery.extend(s,t)),e.append("<div class='ug-progress-bar'><div class='ug-progress-bar-inner'></div></div>"),r=e.children(".ug-progress-bar"),(o=r.children(".ug-progress-bar-inner")).css("background-color",s.slider_progressbar_color),r.height(s.slider_progressbar_line_width),o.height(s.slider_progressbar_line_width),o.width("0%");var i=s.slider_progressbar_opacity,n=o[0];n.style.opacity=i,n.style.filter="alpha(opacity="+100*i+")"},this.putHidden=function(e,t){i.put(e,t),r.hide()},this.getElement=function(){return r},this.setSize=function(e){r.width(e),o.width(e),i.draw()},this.setPosition=function(e,t,i,n){a.placeElement(r,e,t,i,n)},this.draw=function(){var e=100*t;o.width(e+"%")},this.setProgress=function(e){t=a.normalizePercent(e),i.draw()},this.getType=function(){return"bar"}}function UGProgressPie(){var l,i=this,u=!1,n=new UGFunctions,d={slider_progresspie_type_fill:!1,slider_progresspie_color1:"#B5B5B5",slider_progresspie_color2:"#E5E5E5",slider_progresspie_stroke_width:6,slider_progresspie_width:30,slider_progresspie_height:30};function r(e){if(!e)e=0;var t=Math.min(d.slider_progresspie_width,d.slider_progresspie_height)/2,i=l[0].getContext("2d");0==u&&(u=!0,i.rotate(1.5*Math.PI),i.translate(-2*t,0)),i.clearRect(0,0,d.slider_progresspie_width,d.slider_progresspie_height);var n=d.slider_progresspie_width/2,r=d.slider_progresspie_height/2,o=0,a=e*Math.PI*2;if(1==d.slider_progresspie_type_fill)i.beginPath(),i.moveTo(n,r),i.arc(n,r,t,o,a),i.lineTo(n,r),i.fillStyle=d.slider_progresspie_color1,i.fill(),i.closePath();else{i.globalCompositeOperation="source-over",i.beginPath(),i.moveTo(n,r),i.arc(n,r,t,o,a),i.lineTo(n,r),i.fillStyle=d.slider_progresspie_color1,i.fill(),i.closePath(),i.globalCompositeOperation="destination-out";var s=t-d.slider_progresspie_stroke_width;i.beginPath(),i.moveTo(n,r),i.arc(n,r,s,o,a),i.lineTo(n,r),i.fillStyle=d.slider_progresspie_color1,i.fill(),i.closePath()}1==d.slider_progresspie_type_fill&&(o=a,a=2*Math.PI,i.beginPath(),i.arc(n,r,t,o,a),i.lineTo(n,r),i.fillStyle=d.slider_progresspie_color2,i.fill(),i.closePath())}this.put=function(e,t){t&&(d=jQuery.extend(d,t)),e.append("<canvas class='ug-canvas-pie' width='"+d.slider_progresspie_width+"' height='"+d.slider_progresspie_height+"'></canvas>"),l=e.children(".ug-canvas-pie")},this.putHidden=function(e,t){i.put(e,t),r(.1),l.hide()},this.getElement=function(){return l},this.setPosition=function(e,t){n.placeElement(l,e,t)},this.getSize=function(){return{width:d.slider_progresspie_width,height:d.slider_progresspie_height}},this.setProgress=function(e){e=n.normalizePercent(e),r(e)},this.getType=function(){return"pie"}}function UGTouchSliderControl(){var s,l,u,d=new UGSlider,a=new UGFunctions,_={slider_transition_continuedrag_speed:250,slider_transition_continuedrag_easing:"linear",slider_transition_return_speed:300,slider_transition_return_easing:"easeInOutQuad"},g={touch_active:!1,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startPosx:0,startTime:0,isInitDataValid:!1,slides:null,lastNumTouches:0,isDragging:!1,storedEventID:"touchSlider",videoStartX:0,isDragVideo:!1,videoObject:null};function o(e){if(!e)e=d.getSlidesReference();return-a.getElementSize(e.objCurrentSlide).left-a.getElementSize(l).left}function c(e){if(1==d.isInnerInPlace())return!1;if(u.trigger(d.events.BEFORE_RETURN),!e)e=d.getSlidesReference();var o=-a.getElementSize(e.objCurrentSlide).left;l.animate({left:o+"px"},{duration:_.slider_transition_return_speed,easing:_.slider_transition_continuedrag_easing,queue:!1,progress:function(e,t,i){if(1==g.isDragVideo){var n=a.getElementSize(l).left-o,r=g.videoStartX+n;g.videoObject.css("left",r)}},complete:function(){u.trigger(d.events.AFTER_RETURN)}})}function n(){var e=d.getSlidesReference(),t=o(e);if(0==t)return!1;var i=0<t?"left":"right",n=!1;switch(i){case"right":if(d.isSlideHasItem(e.objPrevSlide))var r=-a.getElementSize(e.objPrevSlide).left;else n=!0;break;case"left":if(d.isSlideHasItem(e.objNextSlide))r=-a.getElementSize(e.objNextSlide).left;else n=!0}1==n?c(e):l.stop().animate({left:r+"px"},{duration:_.slider_transition_continuedrag_speed,easing:_.slider_transition_continuedrag_easing,queue:!1,progress:function(){if(1==g.isDragVideo){var e=a.getElementSize(l).left-g.startPosx,t=g.videoStartX+e;g.videoObject.css("left",t)}},always:function(){var e;e=i,d.getVideoObject().hide(),d.switchSlideNums(e),d.placeNabourItems(),u.trigger(d.events.AFTER_DRAG_CHANGE)}})}function h(e){var t=a.getMousePosition(e);g.startMouseX=t.pageX,g.startMouseY=t.pageY,g.lastMouseX=g.startMouseX,g.lastMouseY=g.startMouseY,g.startTime=jQuery.now();var i=a.getArrTouches(e);g.startArrTouches=a.getArrTouchPositions(i);var n=a.getElementSize(l);g.startPosx=n.left,g.isInitDataValid=!0,g.isDragVideo=!1,a.storeEventData(e,g.storedEventID)}function r(e){g.touch_active=!1}function p(e,t){g.touch_active=!0,h(t)}function i(e){return e.preventDefault(),g.isDragging=!1,1==d.isAnimating()&&l.stop(!0,!0),1<a.getArrTouches(e).length?(1==g.touch_active&&r(),!0):1==g.touch_active||void p(0,e)}function m(e){if(0==g.touch_active)return!0;if(0==e.buttons)return r(),n(),!0;a.updateStoredEventData(e,g.storedEventID),e.preventDefault();var t=a.getMousePosition(e);g.lastMouseX=t.pageX,g.lastMouseY=t.pageY;var i=null;1==_.slider_vertical_scroll_ondrag&&(i=a.handleScrollTop(g.storedEventID)),"vert"!==i&&function(e){var t=g.lastMouseX-g.startMouseX;if(0==t)return;var i=t<0?"left":"right",n=d.getObjZoom();if(n){if(1==n.isPanEnabled(e,i))return g.isInitDataValid=!1;if(0==g.isInitDataValid)return h(e)}var r=g.startPosx+t;0<t&&0<r?r/=3:t<0&&r+l.width()<s.width()&&(r=g.startPosx+t/3);if(0==g.isDragging&&(g.isDragging=!0,u.trigger(d.events.START_DRAG)),l.css("left",r+"px"),1==g.isDragVideo){var o=r-g.startPosx,a=g.videoStartX+o;g.videoObject.css("left",a)}}(e)}function f(e){var t=a.getArrTouches(e).length;if(1==d.isInnerInPlace()&&0==g.touch_active&&0==t)return!0;if(0==t&&1==g.touch_active){r();var i=!1;0==a.wasVerticalScroll(g.storedEventID)&&(i=function(){var e=d.getSlidesReference(),t=o(e),i=Math.round(3*e.objCurrentSlide.width()/8);if(Math.abs(t)>=i)return!0;var n=Math.abs(g.lastMouseX-g.startMouseX);return Math.abs(g.lastMouseY-g.startMouseY),!(n<20)&&jQuery.now()-g.startTime<500}()),1==i?n():c()}else 1==t&&0==g.touch_active&&p(0,e)}this.isTapEventOccured=function(e){var t=a.getArrTouches(e).length;if(0!=t||0!=g.lastNumTouches)return g.lastNumTouches=t,!1;g.lastNumTouches=t;o(d.getSlidesReference());var i=Math.abs(g.lastMouseX-g.startMouseX),n=Math.abs(g.lastMouseY-g.startMouseY),r=jQuery.now()-g.startTime;return i<20&&n<50&&r<500},this.init=function(e,t){d=e,u=jQuery(d),g_objects=e.getObjects(),s=g_objects.g_objSlider,l=g_objects.g_objInner,_=jQuery.extend(_,t),s.bind("mousedown touchstart",i),jQuery("body").bind("mousemove touchmove",m),jQuery(window).add("body").bind("mouseup touchend",f)},this.getLastMousePos=function(){return{pageX:g.lastMouseX,pageY:g.lastMouseY}},this.isTouchActive=function(){return g.touch_active}}function UGZoomSliderControl(){var i,g,c=new UGSlider,h=new UGFunctions,p={slider_zoom_step:1.2,slider_zoom_max_ratio:6,slider_zoom_return_pan_duration:400,slider_zoom_return_pan_easing:"easeOutCubic"},m={isPanActive:!1,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startImageX:0,startImageY:0,panXActive:!1,panYActive:!1,objImage:null,objImageSize:null,objParent:null,objParentSize:null,objSlide:null,storeImageLastTime:0,isZoomActive:!1,startDistance:0,startMiddlePoint:null,imageOrientPoint:null,objFitImageSize:null,isZoomedOnce:!1};function n(e,t){c=e,g=jQuery(c),g_objects=e.getObjects(),i=g_objects.g_objSlider,g_objects.g_objInner,p=jQuery.extend(p,t),i.on("mousewheel",y),i.bind("mousedown touchstart",f),jQuery("body").bind("mousemove touchmove",v),jQuery(window).add("body").bind("mouseup touchend",b),g.bind(c.events.BEFORE_RETURN,function(){_()}),g.bind(c.events.ITEM_CHANGED,function(){m.isZoomedOnce=!1}),g.bind(c.events.ZOOM_CHANGE,function(){m.isZoomedOnce=!0})}function l(){var e=c.getScaleMode();return"down"!=e&&(e="fit"),e}function r(){if((i=jQuery.now())-m.storeImageLastTime<20)return!1;var e=c.getSlidesReference();if(m.objSlide=e.objCurrentSlide,m.objImage=e.objCurrentSlide.find("img"),0==m.objImage.length)return!1;m.objImageSize=h.getElementSize(m.objImage),m.objParent=m.objImage.parent(),m.objParentSize=h.getElementSize(m.objParent);var t=l();objPadding=c.getObjImagePadding(),m.objFitImageSize=h.getImageInsideParentDataByImage(m.objImage,t,objPadding);var i=jQuery.now();return m.storeImageLastTime=i,!0}function o(e,t){var i=c.getSlidesReference().objCurrentSlide.find("img"),n=l();g.trigger(c.events.ZOOM_START);var r=!0,o=c.getObjImagePadding();if("back"==e){var a=h.getImageOriginalSize(i);h.scaleImageFitParent(i,a.width,a.height,n,o)}else{var s="in"==e;r=h.zoomImageInsideParent(i,s,p.slider_zoom_step,t,n,p.slider_zoom_max_ratio,o)}1==r&&(g.trigger(c.events.ZOOMING),g.trigger(c.events.ZOOM_CHANGE),g.trigger(c.events.ZOOM_END))}function a(e,t,i){var n=h.getArrTouches(t);if(!0===i){if(1!=n.length)return!1}else if(1<n.length)return!1;return!!h.isElementBiggerThenParent(e)}function s(e){var t,i;m.isPanActive=!0,t=e,i=h.getMousePosition(t),m.startMouseX=i.pageX,m.startMouseY=i.pageY,m.lastMouseX=m.startMouseX,m.lastMouseY=m.startMouseY,m.startImageX=m.objImageSize.left,m.startImageY=m.objImageSize.top,m.panXActive=m.objImageSize.width>m.objParentSize.width,m.panYActive=m.objImageSize.height>m.objParentSize.height}function u(e){if(0==m.isZoomActive)return!1;2!=h.getArrTouches(e).length&&(m.isZoomActive=!1,g.trigger(c.events.ZOOM_END))}function d(e){if(1==m.isZoomActive)return!0;var t,i=h.getArrTouches(e);if(2!=i.length)return!0;t=i,m.isZoomActive=!0,m.startDistance=h.getDistance(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY),0==m.startDistance&&(m.startDistance=1),m.startMiddlePoint=h.getMiddlePoint(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY),m.objImageSize=h.getElementSize(m.objImage),m.startImageX=m.objImageSize.left,m.startImageY=m.objImageSize.top,m.imageOrientPoint=h.getElementLocalPoint(m.startMiddlePoint,m.objImage),0==h.isPointInsideElement(m.imageOrientPoint,m.objImageSize)&&(m.imageOrientPoint=h.getElementCenterPoint(m.objImage)),g.trigger(c.events.ZOOM_START)}function _(){if(null==m.objImage||0==m.objImage.length)return!0;if(h.getElementSize(m.objImage).width<m.objFitImageSize.imageWidth){m.objImage.css({position:"absolute",margin:"none"});var e={top:m.objFitImageSize.imageTop+"px",left:m.objFitImageSize.imageLeft+"px",width:m.objFitImageSize.imageWidth+"px",height:m.objFitImageSize.imageHeight+"px"};m.objImage.animate(e,{duration:p.slider_zoom_return_pan_duration,easing:p.slider_zoom_return_pan_easing,queue:!1})}else!function(){var e=!1,t=!1,i=0,n=0,r=h.getElementSize(m.objImage),o=c.getObjImagePadding(),a=h.getElementCenterPosition(m.objImage,o);m.panXActive=m.objImageSize.width>m.objParentSize.width,m.panYActive=m.objImageSize.height>m.objParentSize.height,1==m.panYActive?0<r.top?t=!(n=0):r.bottom<m.objParentSize.height&&(n=m.objParentSize.height-r.height,t=!0):r.top!=a.top&&(t=!0,n=a.top),1==m.panXActive?0<r.left?e=!(i=0):r.right<m.objParentSize.width&&(i=m.objParentSize.width-r.width,e=!0):r.left!=a.left&&(e=!0,i=a.left);var s={};1==t&&(s.top=n+"px"),1==e&&(s.left=i+"px"),1!=t&&1!=e||m.objImage.animate(s,{duration:p.slider_zoom_return_pan_duration,easing:p.slider_zoom_return_pan_easing,queue:!1})}()}function f(e){if(0==c.isCurrentSlideType("image"))return!0;r();if(null==m.objImage||0==m.objImage.length)return!0;e.preventDefault(),1==!(!m.objImage||!m.objImage.is(":animated"))&&m.objImage.stop(!0),1==m.isZoomActive?u(e):d(e),1==m.isZoomActive?m.isPanActive=!1:1==a(m.objImage,e)&&1==m.isZoomedOnce&&s(e)}function b(e){if(0==c.isCurrentSlideType("image"))return!0;if(1==jQuery(e.target).data("ug-button"))return!1;r();if(null==m.objImage||0==m.objImage.length)return!0;var t=m.isPanActive,i=m.isZoomActive;if(0==c.isInnerInPlace())return m.isZoomActive=!1,!(m.isPanActive=!1);if(1==m.isZoomActive?u(e):d(e),1==m.isZoomActive)m.isPanActive=!1;else{var n=a(m.objImage,e,!0);1==m.isPanActive?m.isPanActive=!1:1==n&&s(e)}(t||i)&&0==m.isZoomActive&&0==m.isPanActive&&_()}function v(e){if(0==c.isCurrentSlideType("image"))return!0;1==m.isZoomActive?function(e){var t=h.getArrTouches(e),i=h.getDistance(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY)/m.startDistance,n=h.getMiddlePoint(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY),r=m.objImageSize.width*i,o=m.objImageSize.height*i,a=h.getImageOriginalSize(m.objImage),s=1;if(0<a.width&&(s=r/a.width),s>p.slider_zoom_max_ratio)return;panX=-(m.imageOrientPoint.x*i-m.imageOrientPoint.x),panY=-(m.imageOrientPoint.y*i-m.imageOrientPoint.y);var l=n.x-m.startMiddlePoint.x,u=n.y-m.startMiddlePoint.y,d=m.startImageX+panX+l,_=m.startImageY+panY+u;h.setElementSizeAndPosition(m.objImage,d,_,r,o),g.trigger(c.events.ZOOMING),g.trigger(c.events.ZOOM_CHANGE)}(e):1==m.isPanActive&&function(e){if(null==m.objImage||0==m.objImage.length)return;var t=h.getMousePosition(e),i=(t.pageX,m.startMouseX,t.pageY,m.startMouseY,t.pageX-m.lastMouseX),n=t.pageY-m.lastMouseY,r=i<0?"left":"right",o=n<0?"up":"down";m.lastMouseX=t.pageX,m.lastMouseY=t.pageY;var a=h.getElementSize(m.objImage);0==m.panYActive?n=0:"down"==o&&0<a.top?n/=3:"up"==o&&a.bottom<m.objParentSize.height&&(n/=3),0==m.panXActive||0==c.isInnerInPlace()?i=0:"right"==r&&0<a.left?i/=3:"left"==r&&a.right<m.objParentSize.width&&(i/=3);var s=a.left+i,l=a.top+n;h.placeElement(m.objImage,s,l)}(e)}function y(e,t,i,n){return 0==p.slider_zoom_mousewheel||(0==c.isCurrentSlideType("image")||(e.preventDefault(),void o(1==0<t?"in":"out",h.getMousePosition(e))))}this.________EXTERNAL_____________=function(){},this.isPanEnabled=function(e,t){if(r(),null==m.objImage||0==m.objImage.length)return!1;if(0==m.isZoomedOnce)return!1;if(0==a(m.objImage,e))return!1;if(0==c.isInnerInPlace())return!1;if("left"==t){if(m.objImageSize.right<=m.objParentSize.width)return!1}else if(0<=m.objImageSize.left)return!1;return!0},this.init=function(e,t){n(e,t)},this.zoomIn=function(){o("in")},this.zoomOut=function(){o("out")},this.zoomBack=function(){o("back")}}function UGWistiaAPI(){this.isAPILoaded=!1;var o,s,l=this,u=jQuery(this),d=!1;function a(){return"undefined"!=typeof Wistia}function _(e,t,i,n,r){s=null,d=!1;var o=e+"_video",a="<div id='"+o+"' class='wistia_embed' style='width:"+i+";height:"+n+";' data-video-width='"+i+"' data-video-height='"+n+"'>&nbsp;</div>";jQuery("#"+e).html(a),s=Wistia.embed(t,{version:"v1",videoWidth:i,videoHeight:n,container:o,autoPlay:r}),d=!0,s.bind("play",function(){u.trigger(l.events.START_PLAYING)}),s.bind("pause",function(){u.trigger(l.events.STOP_PLAYING)}),s.bind("end",function(){u.trigger(l.events.STOP_PLAYING),u.trigger(l.events.VIDEO_ENDED)})}this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugWistiaAPI.isAPILoaded||(a()?g_ugWistiaAPI.isAPILoaded=!0:(g_ugFunctions.loadJs("fast.wistia.com/assets/external/E-v1.js",!0),void(g_ugWistiaAPI.isAPILoaded=!0)))},this.doCommand=function(e){if(null==s)return!1;if(0==d)return!1;switch(e){case"play":s.play();break;case"pause":s.pause()}},this.pause=function(){l.doCommand("pause")},this.play=function(){l.doCommand("play")},this.putVideo=function(e,t,i,n,r){if(a())return _(e,t,i,n,r),!0;this.loadAPI(),o=setInterval(function(){a()&&(_(e,t,i,n,r),clearInterval(o))},500)},this.isPlayerReady=function(){return!(!d||!s)}}function UGSoundCloudAPI(){this.isAPILoaded=!1;var o,l,u,d=this,_=jQuery(this);function a(){return"undefined"!=typeof SC}function s(e,t,i,n,r){l=null,g_isPlayerReady=!1;var o=e+"_iframe",a=location.protocol+"//w.soundcloud.com/player/?url=http://api.soundcloud.com/tracks/"+t;a+="&amp;buying=false&amp;liking=false&amp;download=false&amp;sharing=false&amp;show_artwork=true&show_comments=false&amp;show_playcount=true&amp;show_user=false&amp;hide_related=true&amp;visual=true&amp;start_track=0&amp;callback=true";var s="<iframe id='"+o+"' src="+(a+=!0===r?"&amp;auto_play=true":"&amp;auto_play=false")+" width='"+i+"' height='"+n+"' frameborder='0' scrolling='no' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>";jQuery("#"+e).html(s),(l=SC.Widget(o)).bind(SC.Widget.Events.READY,function(){l&&(g_isPlayerReady=!0,l.bind(SC.Widget.Events.PLAY,function(){_.trigger(d.events.START_PLAYING)}),l.bind(SC.Widget.Events.PAUSE,function(){_.trigger(d.events.STOP_PLAYING)}),l.bind(SC.Widget.Events.FINISH,function(){_.trigger(d.events.STOP_PLAYING),_.trigger(d.events.VIDEO_ENDED)}))}),u=e}this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugSoundCloudAPI.isAPILoaded||(a()?g_ugSoundCloudAPI.isAPILoaded=!0:(g_ugFunctions.loadJs("w.soundcloud.com/player/api.js",!0),void(g_ugSoundCloudAPI.isAPILoaded=!0)))},this.putSound=function(e,t,i,n,r){if(a())return s(e,t,i,n,r),!0;this.loadAPI(),o=setInterval(function(){a()&&(s(e,t,i,n,r),clearInterval(o))},500)},this.doCommand=function(e){if(null==l)return!1;if(0==g_isPlayerReady)return!1;switch(e){case"play":l.play();break;case"pause":l.pause()}},this.pause=function(){d.doCommand("pause")},this.play=function(){d.doCommand("play")},this.destroy=function(){g_isPlayerReady=!1,l=null,u&&(jQuery("#"+u).html(""),u=null)}}function UGHtml5MediaAPI(){this.isAPILoaded=!1;var o,_,g=this,c=jQuery(this);function a(){return"undefined"!=typeof mejs}function s(e,t,i,n,r){_=null,g_isPlayerReady=!1;var o=location.protocol+"//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/flashmediaelement-cdn.swf",a=location.protocol+"//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/silverlightmediaelement.xap",s=e+"_video",l="";r&&!0===r&&(l="autoplay='autoplay'");var u="";t.posterImage&&(u="poster='"+t.posterImage+"'");var d="<video id='"+s+"' width='"+i+"' height='"+n+"'  controls='controls' preload='none' "+l+" "+u+">";""!=t.mp4&&(d+="<source type='video/mp4' src='"+t.mp4+"' />"),""!=t.webm&&(d+="<source type='video/webm' src='"+t.webm+"' />"),""!=t.ogv&&(d+="<source type='video/ogg' src='"+t.ogv+"' />"),d+="<object width='"+i+"' height='"+n+"' type='application/x-shockwave-flash' data='"+o+"'>",d+="<param name='movie' value='"+o+"' />",d+="<param name='flashvars' value='controls=true&file="+t.mp4+"' />",d+="</object>",d+="</video>",jQuery("#"+e).html(d),new MediaElement(s,{enablePluginDebug:!1,flashName:o,silverlightName:a,success:function(e,t){g_isPlayerReady=!0,_=e,0==r&&_.pause(),g_ugFunctions.addEvent(_,"play",function(){c.trigger(g.events.START_PLAYING)}),g_ugFunctions.addEvent(_,"pause",function(){c.trigger(g.events.STOP_PLAYING)}),g_ugFunctions.addEvent(_,"ended",function(){c.trigger(g.events.STOP_PLAYING),c.trigger(g.events.VIDEO_ENDED)})},error:function(e){trace(e)}})}this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugHtml5MediaAPI.isAPILoaded||(a()?g_ugHtml5MediaAPI.isAPILoaded=!0:(g_ugFunctions.loadJs("cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/mediaelement.min.js",!0),g_ugFunctions.loadCss("cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/mediaelementplayer.min.css",!0),void(g_ugHtml5MediaAPI.isAPILoaded=!0)))},this.putVideo=function(e,t,i,n,r){if(a())return s(e,t,i,n,r),!0;this.loadAPI(),o=setInterval(function(){a()&&(s(e,t,i,n,r),clearInterval(o))},500)},this.doCommand=function(e){if(null==_)return!1;if(0==g_isPlayerReady)return!1;switch(e){case"play":_.play();break;case"pause":_.pause()}},this.pause=function(){g.doCommand("pause")},this.play=function(){g.doCommand("play")}}function UGVimeoAPI(){this.isAPILoaded=!1;var o,l,u=this,d=jQuery(this),_=null,g=!1,c=!1;function a(){return"undefined"!=typeof Froogaloop}function s(e,t,i,n,r){_=null,g=!1;var o=location.protocol+"//player.vimeo.com/video/"+t+"?api=1";!0===r&&(o+="&amp;byline=0&amp;autoplay=1&amp;title=0&amp;portrait=0");var a="<iframe src="+o+" width='"+i+"' height='"+n+"' frameborder='0' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>";jQuery("#"+e).html(a);var s=jQuery("#"+e+" iframe")[0];(_=Froogaloop(s)).addEvent("ready",function(){_&&(g=!0,function(){if(!_)return;_.addEvent("cuechange",function(){1==c&&u.play()}),_.addEvent("play",function(){d.trigger(u.events.START_PLAYING)}),_.addEvent("pause",function(){d.trigger(u.events.STOP_PLAYING)}),_.addEvent("finish",function(){d.trigger(u.events.STOP_PLAYING),d.trigger(u.events.VIDEO_ENDED)})}())}),l=e}this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugVimeoAPI.isAPILoaded||(a()?g_ugVimeoAPI.isAPILoaded=!0:(g_ugFunctions.loadJs("f.vimeocdn.com/js/froogaloop2.min.js",!0),void(g_ugVimeoAPI.isAPILoaded=!0)))},this.doCommand=function(e){return null!=_&&(0!=g&&void _.api(e))},this.pause=function(){u.doCommand("pause")},this.play=function(){u.doCommand("play")},this.destroy=function(){_&&(_.api("unload"),_=null,g=!1),l&&jQuery("#"+l).html("")},this.putVideo=function(e,t,i,n,r){if(a())return s(e,t,i,n,r),!0;this.loadAPI(),o=setInterval(function(){a()&&(s(e,t,i,n,r),clearInterval(o))},500)},this.isPlayerReady=function(){return!(!g||!_)},this.changeVideo=function(e,t){if(0==u.isPlayerReady())return!1;c=t,_.api("loadVideo",e)},this.getVideoImages=function(e,i,n){var t=location.protocol+"//vimeo.com/api/v2/video/"+e+".json";jQuery.get(t,{},function(e){var t={};t.preview=e[0].thumbnail_large,t.thumb=e[0].thumbnail_medium,n(i,t)})}}function UGYoutubeAPI(){this.isAPILoaded=!1;var o,a,i=this,s=null,l=!1,t=jQuery(this),n=-1,u={video_youtube_showinfo:!0};function d(e,t,i,n,r){s&&l&&s.destroy();var o={controls:2,showinfo:u.video_youtube_showinfo,rel:0};!0===r&&(o.autoplay=1),l=!1,s=new YT.Player(e,{height:n,width:i,videoId:t,playerVars:o,events:{onReady:g,onStateChange:c}}),a=e}function _(){return"undefined"!=typeof YT&&void 0!==YT.Player}function g(){l=!0}function c(){if("function"!=typeof s.getPlayerState)return trace("Youtube API error: can't get player state"),!1;var e=s.getPlayerState();switch(e){case YT.PlayerState.PLAYING:t.trigger(i.events.START_PLAYING);break;case YT.PlayerState.ENDED:t.trigger(i.events.STOP_PLAYING),t.trigger(i.events.VIDEO_ENDED);break;default:n==YT.PlayerState.PLAYING&&t.trigger(i.events.STOP_PLAYING)}n=e}this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.setOptions=function(e){u=jQuery.extend(u,e)},this.putVideo=function(e,t,i,n,r){if(_())return d(e,t,i,n,r),!0;this.loadAPI(),o=setInterval(function(){_()&&(d(e,t,i,n,r),clearInterval(o))},500)},this.loadAPI=function(){return 1==g_ugYoutubeAPI.isAPILoaded||("undefined"!=typeof YT?g_ugYoutubeAPI.isAPILoaded=!0:(g_ugFunctions.loadJs("https://www.youtube.com/player_api",!1),void(g_ugYoutubeAPI.isAPILoaded=!0)))},this.doCommand=function(e,t){if(!s)return!0;if(0==l)return!1;switch(e){case"play":if("function"!=typeof s.playVideo)return!1;s.playVideo();break;case"pause":if("function"!=typeof s.pauseVideo)return!1;s.pauseVideo();break;case"seek":if("function"!=typeof s.seekTo)return!1;s.seekTo(t);break;case"stopToBeginning":var i=s.getPlayerState();switch(s.pauseVideo(),i){case YT.PlayerState.PLAYING:case YT.PlayerState.ENDED:case YT.PlayerState.PAUSED:s.seekTo(0)}}},this.play=function(){i.doCommand("play")},this.pause=function(){i.doCommand("pause")},this.destroy=function(){try{s&&(l=!1,s.clearVideo(),s.destroy())}catch(e){jQuery("#"+a).html("")}},this.stopToBeginning=function(){i.doCommand("stopToBeginning")},this.changeVideo=function(e,t){if(0==i.isPlayerReady())return!1;t&&1==t?s.loadVideoById(e,0,"large"):s.cueVideoById(e,0,"large")},this.isPlayerReady=function(){return!(!l||!s)},this.getVideoImages=function(e){var t={};return t.preview="https://i.ytimg.com/vi/"+e+"/sddefault.jpg",t.thumb="https://i.ytimg.com/vi/"+e+"/default.jpg",t}}function UGVideoPlayer(){var n,i,r,o,a,s,l,u,t=this,e=jQuery(this),d=new UGFunctions,_=new UGYoutubeAPI,g=new UGVimeoAPI,c=new UGHtml5MediaAPI,h=new UGSoundCloudAPI,p=new UGWistiaAPI,m=null,f={video_enable_closebutton:!0},b={standAloneMode:!(this.events={SHOW:"video_show",HIDE:"video_hide",PLAY_START:"video_play_start",PLAY_STOP:"video_play_stop",VIDEO_ENDED:"video_ended"}),youtubeInnerID:"",vimeoPlayerID:"",html5PlayerID:"",wistiaPlayerID:"",soundCloudPlayerID:""};function v(){t.hide()}function y(){e.trigger(t.events.PLAY_START),s&&s.hide()}function I(){e.trigger(t.events.PLAY_STOP),s&&s.show()}function w(){e.trigger(t.events.VIDEO_ENDED)}function E(e){var t=["youtube","vimeo","html5","soundcloud","wistia"];for(var i in t){var n=t[i];if(n!=e)switch(n){case"youtube":_.pause(),_.destroy(),r.hide();break;case"vimeo":g.pause(),g.destroy(),o.hide();break;case"html5":c.pause(),a.hide();break;case"soundcloud":h.pause(),h.destroy(),l.hide();break;case"wistia":p.pause(),u.hide()}}}this.init=function(e,t,i){if(!(n=i))throw new Error("missing gallery ID for video player, it's a must!");f=jQuery.extend(f,e),_.setOptions(f),t&&1==t&&(b.standAloneMode=!0)},this.setHtml=function(e){b.youtubeInnerID=n+"_youtube_inner",b.vimeoPlayerID=n+"_videoplayer_vimeo",b.html5PlayerID=n+"_videoplayer_html5",b.wistiaPlayerID=n+"_videoplayer_wistia",b.soundCloudPlayerID=n+"_videoplayer_soundcloud";var t="<div class='ug-videoplayer' style='display:none'>";t+="<div class='ug-videoplayer-wrapper ug-videoplayer-youtube' style='display:none'><div id='"+b.youtubeInnerID+"'></div></div>",t+="<div id='"+b.vimeoPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-vimeo' style='display:none'></div>",t+="<div id='"+b.html5PlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-html5'></div>",t+="<div id='"+b.soundCloudPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-soundcloud'></div>",t+="<div id='"+b.wistiaPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-wistia'></div>",0==b.standAloneMode&&1==f.video_enable_closebutton&&(t+="<div class='ug-videoplayer-button-close'></div>"),t+="</div>",e.append(t),i=e.children(".ug-videoplayer"),r=i.children(".ug-videoplayer-youtube"),o=i.children(".ug-videoplayer-vimeo"),a=i.children(".ug-videoplayer-html5"),l=i.children(".ug-videoplayer-soundcloud"),u=i.children(".ug-videoplayer-wistia"),0==b.standAloneMode&&1==f.video_enable_closebutton&&(s=i.children(".ug-videoplayer-button-close"))},this.destroy=function(){s&&(s.off("click"),s.off("touchend")),jQuery(_).off(_.events.START_PLAYING),jQuery(_).off(_.events.STOP_PLAYING),jQuery(g).off(g.events.START_PLAYING),jQuery(g).off(g.events.STOP_PLAYING),jQuery(c).off(c.events.START_PLAYING),jQuery(c).off(c.events.STOP_PLAYING),jQuery(h).off(h.events.START_PLAYING,y),jQuery(h).off(h.events.STOP_PLAYING,I),jQuery(p).off(p.events.START_PLAYING,y),jQuery(p).off(p.events.STOP_PLAYING,I),m=null},this.initEvents=function(){s&&(d.setButtonMobileReady(s),d.setButtonOnClick(s,v)),jQuery(_).on(_.events.START_PLAYING,y),jQuery(_).on(_.events.STOP_PLAYING,I),jQuery(_).on(_.events.VIDEO_ENDED,w),jQuery(g).on(g.events.START_PLAYING,y),jQuery(g).on(g.events.STOP_PLAYING,I),jQuery(g).on(g.events.VIDEO_ENDED,w),jQuery(c).on(c.events.START_PLAYING,y),jQuery(c).on(c.events.STOP_PLAYING,I),jQuery(c).on(c.events.VIDEO_ENDED,w),jQuery(h).on(h.events.START_PLAYING,y),jQuery(h).on(h.events.STOP_PLAYING,I),jQuery(h).on(h.events.VIDEO_ENDED,w),jQuery(p).on(p.events.START_PLAYING,y),jQuery(p).on(p.events.STOP_PLAYING,I),jQuery(p).on(p.events.VIDEO_ENDED,w)},this.setSize=function(e,t){d.setElementSize(i,e,t),s&&d.placeElement(s,"right","top")},this.setPosition=function(e,t){d.placeElement(i,e,t)},this.getObject=function(){return i},this.show=function(){if(1==t.isVisible())return!0;i.show(),i.fadeTo(0,1),s&&s.show(),e.trigger(t.events.SHOW)},this.hide=function(){if(0==t.isVisible())return!0;E(),m=null,i.hide(),e.trigger(t.events.HIDE)},this.getActiveAPI=function(){switch(m){case"youtube":return _;case"vimeo":return g;case"wistia":return p;case"soundcloud":return h;case"html5":return c;default:return null}},this.pause=function(){var e=t.getActiveAPI();if(null==e)return!1;"function"==typeof e.pause&&e.pause()},this.isVisible=function(){return i.is(":visible")},this.playYoutube=function(e,t){if(void 0===t)t=!0;E("youtube"),r.show(),0==r.children("#"+b.youtubeInnerID).length&&r.append("<div id='"+b.youtubeInnerID+"'></div>"),1==_.isPlayerReady()&&1==b.standAloneMode?_.changeVideo(e,t):_.putVideo(b.youtubeInnerID,e,"100%","100%",t),m="youtube"},this.playVimeo=function(e,t){if(void 0===t)t=!0;E("vimeo"),o.show(),g.putVideo(b.vimeoPlayerID,e,"100%","100%",t),m="vimeo"},this.playHtml5Video=function(e,t,i,n,r){if(void 0===r)r=!0;E("html5"),a.show();var o={ogv:e,webm:t,mp4:i,posterImage:n};c.putVideo(b.html5PlayerID,o,"100%","100%",r),m="html5"},this.playSoundCloud=function(e,t){if(void 0===t)t=!0;E("soundcloud"),l.show(),h.putSound(b.soundCloudPlayerID,e,"100%","100%",t),m="soundcloud"},this.playWistia=function(e,t){if(void 0===t)t=!0;E("wistia"),u.show(),p.putVideo(b.wistiaPlayerID,e,"100%","100%",t),m="wistia"}}!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(u){function t(e){var t=e||window.event,i=h.call(arguments,1),n=0,r=0,o=0,a=0;if((e=u.event.fix(t)).type="mousewheel","detail"in t&&(o=-1*t.detail),"wheelDelta"in t&&(o=t.wheelDelta),"wheelDeltaY"in t&&(o=t.wheelDeltaY),"wheelDeltaX"in t&&(r=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(r=-1*o,o=0),n=0===o?r:o,"deltaY"in t&&(n=o=-1*t.deltaY),"deltaX"in t&&(r=t.deltaX,0===o&&(n=-1*r)),0!==o||0!==r){if(1===t.deltaMode){var s=u.data(this,"mousewheel-line-height");n*=s,o*=s,r*=s}else if(2===t.deltaMode){var l=u.data(this,"mousewheel-page-height");n*=l,o*=l,r*=l}return a=Math.max(Math.abs(o),Math.abs(r)),(!c||a<c)&&(_(t,c=a)&&(c/=40)),_(t,a)&&(n/=40,r/=40,o/=40),n=Math[1<=n?"floor":"ceil"](n/c),r=Math[1<=r?"floor":"ceil"](r/c),o=Math[1<=o?"floor":"ceil"](o/c),e.deltaX=r,e.deltaY=o,e.deltaFactor=c,e.deltaMode=0,i.unshift(e,n,r,o),g&&clearTimeout(g),g=setTimeout(d,200),(u.event.dispatch||u.event.handle).apply(this,i)}}function d(){c=null}function _(e,t){return r.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var g,c,e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],h=Array.prototype.slice;if(u.event.fixHooks)for(var n=e.length;n;)u.event.fixHooks[e[--n]]=u.event.mouseHooks;var r=u.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var e=i.length;e;)this.addEventListener(i[--e],t,!1);else this.onmousewheel=t;u.data(this,"mousewheel-line-height",r.getLineHeight(this)),u.data(this,"mousewheel-page-height",r.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=i.length;e;)this.removeEventListener(i[--e],t,!1);else this.onmousewheel=null},getLineHeight:function(e){return parseInt(u(e)["offsetParent"in u.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(e){return u(e).height()},settings:{adjustOldDeltas:!0}};u.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof module&&"object"==typeof module.exports?exports=t(require("jquery")):t(jQuery)}(function(t){t.easing.jswing=t.easing.swing;var i=Math.pow,n=Math.sqrt,r=Math.sin,o=Math.cos,a=Math.PI,s=1.70158,l=1.525*s,u=2*a/3,d=2*a/4.5;function _(e){var t=7.5625,i=2.75;return e<1/i?t*e*e:e<2/i?t*(e-=1.5/i)*e+.75:e<2.5/i?t*(e-=2.25/i)*e+.9375:t*(e-=2.625/i)*e+.984375}t.extend(t.easing,{def:"easeOutQuad",swing:function(e){return t.easing[t.easing.def](e)},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return 1-(1-e)*(1-e)},easeInOutQuad:function(e){return e<.5?2*e*e:1-i(-2*e+2,2)/2},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1-i(1-e,3)},easeInOutCubic:function(e){return e<.5?4*e*e*e:1-i(-2*e+2,3)/2},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1-i(1-e,4)},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-i(-2*e+2,4)/2},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1-i(1-e,5)},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1-i(-2*e+2,5)/2},easeInSine:function(e){return 1-o(e*a/2)},easeOutSine:function(e){return r(e*a/2)},easeInOutSine:function(e){return-(o(a*e)-1)/2},easeInExpo:function(e){return 0===e?0:i(2,10*e-10)},easeOutExpo:function(e){return 1===e?1:1-i(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:e<.5?i(2,20*e-10)/2:(2-i(2,-20*e+10))/2},easeInCirc:function(e){return 1-n(1-i(e,2))},easeOutCirc:function(e){return n(1-i(e-1,2))},easeInOutCirc:function(e){return e<.5?(1-n(1-i(2*e,2)))/2:(n(1-i(-2*e+2,2))+1)/2},easeInElastic:function(e){return 0===e?0:1===e?1:-i(2,10*e-10)*r((10*e-10.75)*u)},easeOutElastic:function(e){return 0===e?0:1===e?1:i(2,-10*e)*r((10*e-.75)*u)+1},easeInOutElastic:function(e){return 0===e?0:1===e?1:e<.5?-i(2,20*e-10)*r((20*e-11.125)*d)/2:i(2,-20*e+10)*r((20*e-11.125)*d)/2+1},easeInBack:function(e){return 2.70158*e*e*e-s*e*e},easeOutBack:function(e){return 1+2.70158*i(e-1,3)+s*i(e-1,2)},easeInOutBack:function(e){return e<.5?i(2*e,2)*(7.189819*e-l)/2:(i(2*e-2,2)*((l+1)*(2*e-2)+l)+2)/2},easeInBounce:function(e){return 1-_(1-e)},easeOutBounce:_,easeInOutBounce:function(e){return e<.5?(1-_(1-2*e))/2:(1+_(2*e-1))/2}})}),function(d,_){if(void 0===d.cssHooks)return;function g(e,t,i){var n=m[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:e<0?0:n.max<e?n.max:e)}function s(a){var s=h(),l=s._rgba=[];return a=a.toLowerCase(),f(e,function(e,t){var i,n=t.re.exec(a),r=n&&t.parse(n),o=t.space||"rgba";return r?(i=s[o](r),s[p[o].cache]=i[p[o].cache],l=s._rgba=i._rgba,!1):void 0}),l.length?("0,0,0,0"===l.join()&&d.extend(l,u.transparent),s):u[a]}function l(e,t,i){return 6*(i=(i+1)%1)<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}var u,c=/^([\-+])=\s*(\d+\.?\d*)/,e=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],h=d.Color=function(e,t,i,n){return new d.Color.fn.parse(e,t,i,n)},p={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},m={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},a=h.support={},t=d("<p>")[0],f=d.each;t.style.cssText="background-color:rgba(1,1,1,.5)",a.rgba=-1<t.style.backgroundColor.indexOf("rgba"),f(p,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),h.fn=d.extend(h.prototype,{parse:function(r,e,t,i){if(r===_)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=d(r).css(e),e=_);var o=this,n=d.type(r),a=this._rgba=[];return e!==_&&(r=[r,e,t,i],n="array"),"string"===n?this.parse(s(r)||u._default):"array"===n?(f(p.rgba.props,function(e,t){a[t.idx]=g(r[t.idx],t)}),this):"object"===n?(f(p,r instanceof h?function(e,t){r[t.cache]&&(o[t.cache]=r[t.cache].slice())}:function(e,i){var n=i.cache;f(i.props,function(e,t){if(!o[n]&&i.to){if("alpha"===e||null==r[e])return;o[n]=i.to(o._rgba)}o[n][t.idx]=g(r[e],t,!0)}),o[n]&&d.inArray(null,o[n].slice(0,3))<0&&(o[n][3]=1,i.from&&(o._rgba=i.from(o[n])))}),this):void 0},is:function(e){var r=h(e),o=!0,a=this;return f(p,function(e,t){var i,n=r[t.cache];return n&&(i=a[t.cache]||t.to&&t.to(a._rgba)||[],f(t.props,function(e,t){return null!=n[t.idx]?o=n[t.idx]===i[t.idx]:void 0})),o}),o},_space:function(){var i=[],n=this;return f(p,function(e,t){n[t.cache]&&i.push(e)}),i.pop()},transition:function(e,a){var s=h(e),t=s._space(),i=p[t],n=0===this.alpha()?h("transparent"):this,l=n[i.cache]||i.to(n._rgba),u=l.slice();return s=s[i.cache],f(i.props,function(e,t){var i=t.idx,n=l[i],r=s[i],o=m[t.type]||{};null!==r&&(u[i]=null===n?r:(o.mod&&(r-n>o.mod/2?n+=o.mod:n-r>o.mod/2&&(n-=o.mod)),g((r-n)*a+n,t)))}),this[t](u)},blend:function(e){if(1===this._rgba[3])return this;var t=this._rgba.slice(),i=t.pop(),n=h(e)._rgba;return h(d.map(t,function(e,t){return(1-i)*n[t]+i*e}))},toRgbaString:function(){var e="rgba(",t=d.map(this._rgba,function(e,t){return null==e?2<t?1:0:e});return 1===t[3]&&(t.pop(),e="rgb("),e+t.join()+")"},toHslaString:function(){var e="hsla(",t=d.map(this.hsla(),function(e,t){return null==e&&(e=2<t?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e});return 1===t[3]&&(t.pop(),e="hsl("),e+t.join()+")"},toHexString:function(e){var t=this._rgba.slice(),i=t.pop();return e&&t.push(~~(255*i)),"#"+d.map(t,function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),h.fn.parse.prototype=h.fn,p.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,r=e[1]/255,o=e[2]/255,a=e[3],s=Math.max(n,r,o),l=Math.min(n,r,o),u=s-l,d=s+l,_=.5*d;return t=l===s?0:n===s?60*(r-o)/u+360:r===s?60*(o-n)/u+120:60*(n-r)/u+240,i=0===u?0:_<=.5?u/d:u/(2-d),[Math.round(t)%360,i,_,null==a?1:a]},p.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],r=e[3],o=n<=.5?n*(1+i):n+i-n*i,a=2*n-o;return[Math.round(255*l(a,o,t+1/3)),Math.round(255*l(a,o,t)),Math.round(255*l(a,o,t-1/3)),r]},f(p,function(l,e){var i=e.props,a=e.cache,s=e.to,u=e.from;h.fn[l]=function(e){if(s&&!this[a]&&(this[a]=s(this._rgba)),e===_)return this[a].slice();var t,n=d.type(e),r="array"===n||"object"===n?e:arguments,o=this[a].slice();return f(i,function(e,t){var i=r["object"===n?e:t.idx];null==i&&(i=o[t.idx]),o[t.idx]=g(i,t)}),u?((t=h(u(o)))[a]=o,t):h(o)},f(i,function(a,s){h.fn[a]||(h.fn[a]=function(e){var t,i=d.type(e),n="alpha"===a?this._hsla?"hsla":"rgba":l,r=this[n](),o=r[s.idx];return"undefined"===i?o:("function"===i&&(e=e.call(this,o),i=d.type(e)),null==e&&s.empty?this:("string"===i&&((t=c.exec(e))&&(e=o+parseFloat(t[2])*("+"===t[1]?1:-1))),r[s.idx]=e,this[n](r)))})})}),h.hook=function(e){var t=e.split(" ");f(t,function(e,o){d.cssHooks[o]={set:function(e,t){var i,n,r="";if("transparent"!==t&&("string"!==d.type(t)||(i=s(t)))){if(t=h(i||t),!a.rgba&&1!==t._rgba[3]){for(n="backgroundColor"===o?e.parentNode:e;(""===r||"transparent"===r)&&n&&n.style;)try{r=d.css(n,"backgroundColor"),n=n.parentNode}catch(e){}t=t.blend(r&&"transparent"!==r?r:"_default")}t=t.toRgbaString()}try{e.style[o]=t}catch(e){}}},d.fx.step[o]=function(e){e.colorInit||(e.start=h(e.elem,o),e.end=h(e.end),e.colorInit=!0),d.cssHooks[o].set(e.elem,e.start.transition(e.end,e.pos))}})},h.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),d.cssHooks.borderColor={expand:function(i){var n={};return f(["Top","Right","Bottom","Left"],function(e,t){n["border"+t+"Color"]=i}),n}},u=d.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(n){n.mlp={x:0,y:0},n(function e(){try{var t=this===document?n(this):n(this).contents()}catch(e){return!1}t.mousemove(function(e){n.mlp={x:e.pageX,y:e.pageY}}),t.find("iframe").on("load",e)}),n.fn.ismouseover=function(){var i=!1;return this.eq(0).each(function(){var e=n(this).is("iframe")?n(this).contents().find("body"):n(this),t=e.offset();i=t.left<=n.mlp.x&&t.left+e.outerWidth()>n.mlp.x&&t.top<=n.mlp.y&&t.top+e.outerHeight()>n.mlp.y}),i}}(jQuery);var g_ugYoutubeAPI=new UGYoutubeAPI,g_ugVimeoAPI=new UGVimeoAPI,g_ugHtml5MediaAPI=new UGHtml5MediaAPI,g_ugSoundCloudAPI=new UGSoundCloudAPI,g_ugWistiaAPI=new UGWistiaAPI;function ugCheckForMinJQueryVersion(){if(0==g_ugFunctions.checkMinJqueryVersion("1.8.0"))throw new Error("The gallery can run from jquery 1.8 You have jQuery "+jQuery.fn.jquery+" Please update your jQuery library.")}function ugCheckForErrors(t,i){try{"jquery"==i?(!function(){if("undefined"==typeof jQuery)throw new Error("jQuery library not included")}(),ugCheckForMinJQueryVersion()):(ugCheckForMinJQueryVersion(),function(){if("function"==typeof jQuery.fn.unitegallery)return;var e="You have some jquery.js library include that comes after the gallery files js include.";throw e+="<br> This include eliminates the gallery libraries, and make it not work.","cms"==i?(e+="<br><br> To fix it you can:<br>&nbsp;&nbsp;&nbsp; 1. In the Gallery Settings -> Troubleshooting set option:  <strong><b>Put JS Includes To Body</b></strong> option to true.",e+="<br>&nbsp;&nbsp;&nbsp; 2. Find the double jquery.js include and remove it."):e+="<br><br> Please find and remove this jquery.js include and the gallery will work. <br> * There should be only one jquery.js include before all other js includes in the page.",new Error(e)}())}catch(e){var n=e.message;if(n="<div style='font-size:16px;color:#BC0C06;max-width:900px;border:1px solid red;padding:10px;'>"+(n="Unite Gallery Error: "+n)+"</div>","jquery"==i){var r=document.getElementById(t);r.innerHTML=n,r.style.display="block"}else jQuery(t).show().html(n);return!1}return!0}function UniteGalleryMain(){var t=this,g_galleryID,g_objGallery=jQuery(t),g_objWrapper,g_objParent,g_objThumbs,g_objSlider,g_functions=new UGFunctions,g_objTabs,g_objLoadMore,g_arrItems=[],g_numItems,g_selectedItem=null,g_selectedItemIndex=-1,g_objTheme,g_objCache={};this.events={ITEM_CHANGE:"item_change",SIZE_CHANGE:"size_change",ENTER_FULLSCREEN:"enter_fullscreen",EXIT_FULLSCREEN:"exit_fullscreen",START_PLAY:"start_play",STOP_PLAY:"stop_play",PAUSE_PLAYING:"pause_playing",CONTINUE_PLAYING:"continue_playing",SLIDER_ACTION_START:"slider_action_start",SLIDER_ACTION_END:"slider_action_end",ITEM_IMAGE_UPDATED:"item_image_updated",GALLERY_KEYPRESS:"gallery_keypress",GALLERY_BEFORE_REQUEST_ITEMS:"gallery_before_request_items",OPEN_LIGHTBOX:"open_lightbox",CLOSE_LIGHTBOX:"close_lightbox"};var g_options={gallery_width:900,gallery_height:500,gallery_min_width:150,gallery_min_height:100,gallery_theme:"default",gallery_skin:"default",gallery_images_preload_type:"minimal",gallery_autoplay:!1,gallery_play_interval:3e3,gallery_pause_on_mouseover:!0,gallery_mousewheel_role:"zoom",gallery_control_keyboard:!0,gallery_carousel:!0,gallery_preserve_ratio:!0,gallery_background_color:"",gallery_debug_errors:!1,gallery_shuffle:!1,gallery_urlajax:null,gallery_enable_tabs:!1,gallery_enable_loadmore:!1,gallery_enable_cache:!0,gallery_initial_catid:""},g_temp={objCustomOptions:{},isAllItemsPreloaded:!1,isFreestyleMode:!1,lastWidth:0,lastHeigh:0,handleResize:null,isInited:!1,isPlayMode:!1,isPlayModePaused:!1,playTimePassed:0,playTimeLastStep:0,playHandle:"",playStepInterval:33,objProgress:null,isFakeFullscreen:!1,thumbsType:null,isYoutubePresent:!1,isVimeoPresent:!1,isHtml5VideoPresent:!1,isSoundCloudPresent:!1,isWistiaPresent:!1,resizeDelay:100,isRunFirstTime:!0,originalOptions:{},funcCustomHeight:null};function __________INIT_GALLERY_______(){}function getThemeFunction(e){var t=e;return-1==t.indexOf("UGTheme_")&&(t="UGTheme_"+t),t}function initTheme(objCustomOptions){if(objCustomOptions.hasOwnProperty("gallery_theme"))g_options.gallery_theme=objCustomOptions.gallery_theme;else{var defaultTheme=g_options.gallery_theme;0==g_ugFunctions.isThemeRegistered(defaultTheme)&&(g_options.gallery_theme=g_ugFunctions.getFirstRegisteredTheme())}var themeFunction=getThemeFunction(g_options.gallery_theme);try{g_options.gallery_theme=eval(themeFunction)}catch(e){}g_options.gallery_theme=eval(themeFunction),g_objTheme=new g_options.gallery_theme,g_objTheme.init(t,objCustomOptions)}function resetOptions(){g_options=jQuery.extend({},g_temp.originalOptions),g_selectedItemIndex=-1,g_selectedItem=null,g_objSlider=g_objThumbs=g_objSlider=void 0}function checkForStartupErrors(){try{ugCheckForMinJQueryVersion()}catch(e){throwErrorShowMessage(e.message)}"object"==typeof g_objWrapper.outerWidth()&&throwErrorShowMessage("You have some buggy script. most chances jquery-ui.js that destroy jquery outerWidth, outerHeight functions. The gallery can't run. Please update jquery-ui.js to latest version."),setTimeout(function(){ugCheckForErrors(g_galleryID,"cms")},5e3)}function runGallery(e,i,n,r){var o="object"==typeof i;if(o&&(g_temp.objCustomOptions=i),1==g_temp.isRunFirstTime){if(g_galleryID=e,0==(g_objWrapper=jQuery(g_galleryID)).length)return trace("div with id: "+g_galleryID+" not found"),!1;g_objParent=g_objWrapper.parent(),checkForStartupErrors(),g_temp.originalOptions=jQuery.extend({},g_options),o&&(g_options=jQuery.extend(g_options,i)),1==g_options.gallery_enable_cache&&g_options.gallery_initial_catid&&cacheItems(g_options.gallery_initial_catid),t.setSizeClass(),fillItemsArray(g_objWrapper.children()),loadAPIs(),g_objWrapper.find("img").fadeTo(0,0).hide(),g_objWrapper.show(),clearInitData()}else if(t.destroy(),resetOptions(),g_options=jQuery.extend(g_options,g_temp.objCustomOptions),n){if(r&&1==g_options.gallery_enable_cache&&cacheItems(r,n),"noitems"==n)return showErrorMessage("No items in this category",""),!1;g_objWrapper.html(n),fillItemsArray(g_objWrapper.children()),loadAPIs(),g_objWrapper.children().fadeTo(0,0).hide(),g_objWrapper.show(),clearInitData()}1==g_temp.isRunFirstTime&&1==g_options.gallery_enable_tabs&&(g_objTabs=new UGTabs).init(t,g_options),1==g_temp.isRunFirstTime&&1==g_options.gallery_enable_loadmore&&(g_objLoadMore=new UGLoadMore).init(t,g_options),o&&modifyInitParams(g_temp.objCustomOptions),validateParams(),1==g_options.gallery_shuffle&&t.shuffleItems(),initTheme(g_temp.objCustomOptions),setGalleryHtml(),setHtmlObjectsProperties(),0==g_objWrapper.width()?g_functions.waitForWidth(g_objWrapper,runGalleryActually):runGalleryActually()}function runGalleryActually(){t.setSizeClass(),0==g_temp.isFreestyleMode&&1==g_options.gallery_preserve_ratio&&setHeightByOriginalRatio(),g_objTheme.run(),g_objTabs&&g_temp.isRunFirstTime&&g_objTabs.run(),preloadBigImages(),initEvents(),0<g_numItems&&t.selectItem(0),1==g_options.gallery_autoplay&&t.startPlayMode(),g_temp.isRunFirstTime=!1}function showErrorMessage(e,t){if(void 0===t)t="<b>Unite Gallery Error: </b>";else t="<b>"+t+": </b>";var i="<div class='ug-error-message-wrapper'><div class='ug-error-message'>"+(e=t+e)+"</div></div>";g_objWrapper.children().remove(),g_objWrapper.html(i),g_objWrapper.show()}function throwErrorShowMessage(e){throw showErrorMessage(e),new Error(e)}function modifyInitParams(){g_options.gallery_images_preload_type||(g_options.gallery_images_preload_type="minimal"),(null==g_options.gallery_min_height||g_options.gallery_height<g_options.gallery_min_height)&&(g_options.gallery_min_height=0),(null==g_options.gallery_min_width||g_options.gallery_width<g_options.gallery_min_width)&&(g_options.gallery_min_width=0)}function validateParams(){if(!g_options.gallery_theme)throw new Error("The gallery can't run without theme");if(jQuery.isNumeric(g_options.gallery_height)&&g_options.gallery_height<g_options.gallery_min_height)throw new Error("The <b>gallery_height</b> option must be bigger then <b>gallery_min_height option</b>");if(g_options.gallery_width<g_options.gallery_min_width)throw new Error("The <b>gallery_width</b> option must be bigger then <b>gallery_min_width option</b>")}function setGalleryHtml(){g_objWrapper.addClass("ug-gallery-wrapper"),g_objWrapper.append("<div class='ug-overlay-disabled' style='display:none'></div>"),t.setSizeClass()}function clearInitData(){g_objWrapper.children().remove()}function storeLastSize(){var e=t.getSize();g_temp.lastWidth=e.width,g_temp.lastHeight=e.height}function setHeightByOriginalRatio(){var e=t.getSize();if(e.width/e.height!=e.orig_ratio){var i=e.width/e.orig_ratio;(i=Math.round(i))<g_options.gallery_min_height&&(i=g_options.gallery_min_height),g_objWrapper.height(i)}}function setHtmlObjectsProperties(){var e={"max-width":g_functions.getCssSizeParam(g_options.gallery_width),"min-width":g_functions.getCssSizeParam(g_options.gallery_min_width)};if(0==g_temp.isFreestyleMode){var t=g_functions.getCssSizeParam(g_options.gallery_height);e.height=t}else e.overflow="visible";g_options.gallery_background_color&&(e["background-color"]=g_options.gallery_background_color),g_objWrapper.css(e)}function fillItemByChild(e){var i=t.isMobileMode(),n="";if("a"==(r=e.prop("tagName").toLowerCase())){n=e.attr("href");var r=(e=e.children()).prop("tagName").toLowerCase()}var o=e.data("type");null==o&&(o="image");var a={};if(a.type=o,"img"==r){var s=e.data("lazyload-src");s&&""!=s&&(e.attr("src",s),jQuery.removeData(e,"lazyload-src"));var l=e.data("image"),u=e.data("thumb");void 0===l&&(l=null),void 0===u&&(u=null);var d=e.attr("src");l||(l=d),u||(u=d),u||(u=l),l||(l=u),a.urlThumb=u,a.urlImage=l,a.title=e.attr("alt"),a.objThumbImage=e,a.objThumbImage.attr("src",a.urlThumb)}else{if("image"==o)throw trace("Problematic gallery item found:"),trace(e),trace("Please look for some third party js script that could add this item to the gallery"),new Error("The item should not be image type");a.urlThumb=e.data("thumb"),a.title=e.data("title"),a.objThumbImage=null,a.urlImage=e.data("image")}if(1==i){var _=e.data("thumb-mobile");void 0!==_&&""!=_&&(a.urlThumb=_,"img"==r&&e.attr("src",a.urlThumb));var g=e.data("image-mobile");void 0!==g&&""!=g&&(a.urlImage=g)}a.link=n,a.description=e.attr("title"),a.description||(a.description=e.data("description")),a.description||(a.description=""),a.isNewAdded=!1,a.isLoaded=!1,a.isThumbImageLoaded=!1,a.objPreloadImage=null,a.isBigImageLoadStarted=!1,a.isBigImageLoaded=!1,a.isBigImageLoadError=!1,a.imageWidth=0,a.imageHeight=0,a.thumbWidth=0,a.thumbHeight=0,a.thumbRatioByWidth=0,a.thumbRatioByHeight=0;var c=e.data("width"),h=e.data("height");c&&"number"==typeof c&&h&&"number"==typeof h&&(a.thumbWidth=c,a.thumbHeight=h,a.thumbRatioByWidth=c/h,a.thumbRatioByHeight=h/c);var p=(a.addHtml=null)==a.urlImage||""==a.urlImage,m=null==a.urlThumb||""==a.urlThumb;switch(a.type){case"youtube":if(a.videoid=e.data("videoid"),p||m){var f=g_ugYoutubeAPI.getVideoImages(a.videoid);p&&(a.urlImage=f.preview),m&&(a.urlThumb=f.thumb,"img"==r&&e.attr("src",a.urlThumb))}g_temp.isYoutubePresent=!0;break;case"vimeo":a.videoid=e.data("videoid"),g_temp.isVimeoPresent=!0;break;case"html5video":a.videoogv=e.data("videoogv"),a.videowebm=e.data("videowebm"),a.videomp4=e.data("videomp4"),g_temp.isHtml5VideoPresent=!0;break;case"soundcloud":a.trackid=e.data("trackid"),g_temp.isSoundCloudPresent=!0;break;case"wistia":a.videoid=e.data("videoid"),g_temp.isWistiaPresent=!0;break;case"custom":var b=e.children("img");b.length&&(b=jQuery(b[0]),a.urlThumb=b.attr("src"),a.title=b.attr("alt"),a.objThumbImage=b);var v=e.children().not("img:first-child");v.length&&(a.addHtml=v.clone())}return a.objThumbImage&&(a.objThumbImage.removeAttr("data-description",""),a.objThumbImage.removeAttr("data-image",""),a.objThumbImage.removeAttr("data-thumb",""),a.objThumbImage.removeAttr("title","")),a}function fillItemsArray(e,t){if(!0!==t)g_arrItems=[];else for(var i=0;i<g_numItems;i++)g_arrItems[i].isNewAdded=!1;for(i=0;i<e.length;i++){var n=fillItemByChild(jQuery(e[i]));numIndex=g_arrItems.length,n.index=numIndex,!0===t&&(n.isNewAdded=!0),g_arrItems.push(n)}g_numItems=g_arrItems.length}function loadAPIs(){g_temp.isYoutubePresent&&g_ugYoutubeAPI.loadAPI(),g_temp.isVimeoPresent&&g_ugVimeoAPI.loadAPI(),g_temp.isHtml5VideoPresent&&g_ugHtml5MediaAPI.loadAPI(),g_temp.isSoundCloudPresent&&g_ugSoundCloudAPI.loadAPI(),g_temp.isWistiaPresent&&g_ugWistiaAPI.loadAPI()}function preloadBigImages(){if("visible"!=g_options.gallery_images_preload_type||g_objThumbs||(g_options.gallery_images_preload_type="minimal"),1==g_temp.isAllItemsPreloaded)return!0;switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":jQuery(g_arrItems).each(function(){preloadItemImage(this)});break;case"visible":jQuery(g_arrItems).each(function(){1==g_objThumbs.isItemThumbVisible(this)&&preloadItemImage(this)})}}function checkPreloadItemImage(e){if(1==e.isBigImageLoadStarted||1==e.isBigImageLoaded||1==e.isBigImageLoadError)return!1;switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":preloadItemImage(e);break;case"visible":1==g_objThumbs.isItemThumbVisible(e)&&preloadItemImage(e)}}function preloadItemImage(e){if(1==e.isBigImageLoadStarted||1==e.isBigImageLoaded||1==e.isBigImageLoadError)return!0;var i=e.urlImage;if(""==i||null==i)return!(e.isBigImageLoadError=!0);e.isBigImageLoadStarted=!0,e.objPreloadImage=jQuery("<img/>").attr("src",i),e.objPreloadImage.data("itemIndex",e.index),e.objPreloadImage.on("load",t.onItemBigImageLoaded),e.objPreloadImage.on("error",function(){var e=jQuery(this).data("itemIndex"),i=g_arrItems[e];i.isBigImageLoadError=!0,i.isBigImageLoaded=!1;var n=jQuery(this).attr("src");console.log("Can't load image: "+n),g_objGallery.trigger(t.events.ITEM_IMAGE_UPDATED,[e,i.urlImage]),i.objThumbImage.attr("src",i.urlThumb)}),checkAllItemsStartedPreloading()}function preloadNearBigImages(e){if(1==g_temp.isAllItemsPreloaded)return!1;if(!e)e=g_selectedItem;if(!e)return!0;var t=e.index,i=t-1,n=t+1;0<i&&preloadItemImage(g_arrItems[i]),n<g_numItems&&preloadItemImage(g_arrItems[n])}function checkAllItemsStartedPreloading(){if(1==g_temp.isAllItemsPreloaded)return!1;for(var e in g_arrItems)if(0==g_arrItems[e].isBigImageLoadStarted)return!1;g_temp.isAllItemsPreloaded=!0}function __________END_INIT_GALLERY_______(){}function __________EVENTS_____________(){}function onSliderMouseEnter(e){1==g_options.gallery_pause_on_mouseover&&0==t.isFullScreen()&&1==g_temp.isPlayMode&&g_objSlider&&0==g_objSlider.isSlideActionActive()&&t.pausePlaying()}function onSliderMouseLeave(e){1==g_options.gallery_pause_on_mouseover&&1==g_temp.isPlayMode&&g_objSlider&&0==g_objSlider.isSlideActionActive()&&(0==g_objSlider.isCurrentSlideLoadingImage()&&t.continuePlaying())}function onKeyPress(e){var i=jQuery(e.target);if(i.is("textarea")||i.is("select")||i.is("input"))return!0;var n=e.charCode?e.charCode:e.keyCode?e.keyCode:e.which?e.which:0,r=!0;switch(n){case 39:t.nextItem();break;case 37:t.prevItem();break;default:r=!1}1==r&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()),g_objGallery.trigger(t.events.GALLERY_KEYPRESS,[n,e])}function onGalleryResized(){var e;if(0==(e=t.getSize()).width)return!0;if(t.setSizeClass(),(e=t.getSize()).width!=g_temp.lastWidth||0==g_temp.isFreestyleMode&&e.height!=g_temp.lastHeight){var i=!1;if(g_temp.funcCustomHeight){var n=g_temp.funcCustomHeight(e);n&&(g_objWrapper.height(n),i=!0)}0==i&&1==g_options.gallery_preserve_ratio&&0==g_temp.isFreestyleMode&&setHeightByOriginalRatio(),storeLastSize(),g_objGallery.trigger(t.events.SIZE_CHANGE)}}function onThumbsChange(e){"visible"==g_options.gallery_images_preload_type&&0==g_temp.isAllItemsPreloaded&&preloadBigImages()}function onFullScreenChange(){var e=g_functions.isFullScreen(),i=e?t.events.ENTER_FULLSCREEN:t.events.EXIT_FULLSCREEN,n=g_functions.getGlobalData("fullscreenID");if(g_galleryID!==n)return!0;e?g_objWrapper.addClass("ug-fullscreen"):g_objWrapper.removeClass("ug-fullscreen"),g_objGallery.trigger(i),onGalleryResized()}function onItemImageUpdated(e,i){checkPreloadItemImage(t.getItem(i))}function onCurrentSlideImageLoadEnd(){1==t.isPlayMode()&&t.continuePlaying()}function initEvents(){if(g_objWrapper.on("dragstart",function(e){e.preventDefault()}),g_objGallery.on(t.events.ITEM_IMAGE_UPDATED,onItemImageUpdated),g_objThumbs)switch(g_temp.thumbsType){case"strip":jQuery(g_objThumbs).on(g_objThumbs.events.STRIP_MOVE,onThumbsChange);break;case"grid":jQuery(g_objThumbs).on(g_objThumbs.events.PANE_CHANGE,onThumbsChange)}if("advance"==g_options.gallery_mousewheel_role&&0==g_temp.isFreestyleMode&&g_objWrapper.on("mousewheel",t.onGalleryMouseWheel),storeLastSize(),jQuery(window).resize(function(){g_objWrapper.css("width","auto"),g_functions.whenContiniousEventOver("gallery_resize",onGalleryResized,g_temp.resizeDelay)}),setTimeout(function(){setInterval(onGalleryResized,2e3)},1e4),g_functions.addFullScreenChangeEvent(onFullScreenChange),g_objSlider){if(jQuery(g_objSlider).on(g_objSlider.events.ITEM_CHANGED,function(){var e=g_objSlider.getCurrentItemIndex();-1!=e&&t.selectItem(e)}),1==g_options.gallery_pause_on_mouseover)g_objSlider.getElement().hover(onSliderMouseEnter,onSliderMouseLeave),g_objGallery.on(t.events.ENTER_FULLSCREEN,function(){onSliderMouseLeave()});retriggerEvent(g_objSlider,g_objSlider.events.ACTION_START,t.events.SLIDER_ACTION_START),retriggerEvent(g_objSlider,g_objSlider.events.ACTION_END,t.events.SLIDER_ACTION_END),jQuery(g_objSlider).on(g_objSlider.events.CURRENTSLIDE_LOAD_END,onCurrentSlideImageLoadEnd)}1==g_options.gallery_control_keyboard&&jQuery(document).keydown(onKeyPress)}function __________GENERAL_______(){}function cacheItems(e,t){if(t)"noitems"!=(i=t)&&(i=jQuery(t).clone());else var i=g_objWrapper.children().clone();g_objCache[e]=i}function removeAllSizeClasses(e){e||(e=g_objWrapper),e.removeClass("ug-under-480"),e.removeClass("ug-under-780"),e.removeClass("ug-under-960")}function retriggerEvent(e,t,i){jQuery(e).on(t,function(e){g_objGallery.trigger(i,[this])})}function advanceNextStep(){var e=jQuery.now(),i=e-g_temp.playTimeLastStep;if(g_temp.playTimeLastStep=e,0==t.isGalleryVisible())return!1;if(g_temp.playTimePassed+=i,g_temp.objProgress){var n=g_temp.playTimePassed/g_options.gallery_play_interval;g_temp.objProgress.setProgress(n)}g_temp.playTimePassed>=g_options.gallery_play_interval&&(t.nextItem(),g_temp.playTimePassed=0)}function unselectSeletedItem(){if(null==g_selectedItem)return!0;g_objThumbs&&g_objThumbs.setThumbUnselected(g_selectedItem.objThumbWrapper),g_selectedItem=null,g_selectedItemIndex=-1}function toFakeFullScreen(){jQuery("body").addClass("ug-body-fullscreen"),g_objWrapper.addClass("ug-fake-fullscreen"),g_temp.isFakeFullscreen=!0,g_objGallery.trigger(t.events.ENTER_FULLSCREEN),g_objGallery.trigger(t.events.SIZE_CHANGE)}function exitFakeFullscreen(){jQuery("body").removeClass("ug-body-fullscreen"),g_objWrapper.removeClass("ug-fake-fullscreen"),g_temp.isFakeFullscreen=!1,g_objGallery.trigger(t.events.EXIT_FULLSCREEN),g_objGallery.trigger(t.events.SIZE_CHANGE)}this.onItemBigImageLoaded=function(e,t){if(!t)t=jQuery(this);var i=t.data("itemIndex"),n=g_arrItems[i];n.isBigImageLoaded=!0;var r=g_functions.getImageOriginalSize(t);n.imageWidth=r.width,n.imageHeight=r.height},this.checkFillImageSize=function(e,t){if(!t){var i=e.data("itemIndex");if(void 0===i)throw new Error("Wrong image given to gallery.checkFillImageSize");t=g_arrItems[i]}var n=g_functions.getImageOriginalSize(e);t.imageWidth=n.width,t.imageHeight=n.height},this.setFreestyleMode=function(){g_temp.isFreestyleMode=!0},this.attachThumbsPanel=function(e,t){g_temp.thumbsType=e,g_objThumbs=t},this.initSlider=function(e,i){if(!e)e={};e=jQuery.extend(g_temp.objCustomOptions,e),(g_objSlider=new UGSlider).init(t,e,i)},this.onGalleryMouseWheel=function(e,i,n,r){e.preventDefault(),0<i?t.prevItem():t.nextItem()},this.destroy=function(){if(g_objWrapper.off("dragstart"),g_objGallery.off(t.events.ITEM_IMAGE_UPDATED),g_objThumbs)switch(g_temp.thumbsType){case"strip":jQuery(g_objThumbs).off(g_objThumbs.events.STRIP_MOVE);break;case"grid":jQuery(g_objThumbs).off(g_objThumbs.events.PANE_CHANGE)}if(g_objWrapper.off("mousewheel"),jQuery(window).off("resize"),g_functions.destroyFullScreenChangeEvent(),g_objSlider){jQuery(g_objSlider).off(g_objSlider.events.ITEM_CHANGED);var e=g_objSlider.getElement();e.off("mouseenter"),e.off("mouseleave"),g_objGallery.off(t.events.ENTER_FULLSCREEN),jQuery(g_objSlider).off(g_objSlider.events.ACTION_START),jQuery(g_objSlider).off(g_objSlider.events.ACTION_END),jQuery(g_objSlider).off(g_objSlider.events.CURRENTSLIDE_LOAD_END)}1==g_options.gallery_control_keyboard&&jQuery(document).off("keydown"),g_objTheme&&"function"==typeof g_objTheme.destroy&&g_objTheme.destroy(),g_objWrapper.html("")},this.getArrItems=function(){return g_arrItems},this.getObjects=function(){return{g_galleryID:g_galleryID,g_objWrapper:g_objWrapper,g_objThumbs:g_objThumbs,g_objSlider:g_objSlider,g_options:g_options,g_arrItems:g_arrItems,g_numItems:g_numItems}},this.getObjSlider=function(){return g_objSlider},this.getItem=function(e){if(e<0)throw new Error("item with index: "+e+" not found");if(g_numItems<=e)throw new Error("item with index: "+e+" not found");return g_arrItems[e]},this.getWidth=function(){return t.getSize().width},this.getHeight=function(){return t.getSize().height},this.getSize=function(){var e=g_functions.getElementSize(g_objWrapper);return e.orig_width=g_options.gallery_width,e.orig_height=g_options.gallery_height,e.orig_ratio=e.orig_width/e.orig_height,e},this.getGalleryID=function(){return g_galleryID.replace("#","")},this.getNextItem=function(e,t){"object"==typeof e&&(e=e.index);var i=e+1;if(!0!==t&&1==g_numItems)return null;if(g_numItems<=i){if(1!=g_options.gallery_carousel&&!0!==t)return null;i=0}return g_arrItems[i]},this.getPrevItem=function(e,t){"object"==typeof e&&(e=e.index);var i=e-1;if(i<0){if(1!=g_options.gallery_carousel&&!0!==t)return null;i=g_numItems-1}return g_arrItems[i]},this.getSelectedItem=function(){return g_selectedItem},this.getSelectedItemIndex=function(){return g_selectedItemIndex},this.getNumItems=function(){return g_numItems},this.isLastItem=function(){return g_selectedItemIndex==g_numItems-1},this.isFirstItem=function(){return 0==g_selectedItemIndex},this.getOptions=function(){return g_options},this.getElement=function(){return g_objWrapper},this.___________SET_CONTROLS___________=function(){},this.setNextButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.nextItem)},this.setPrevButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.prevItem)},this.setFullScreenToggleButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnTap(e,t.toggleFullscreen),g_objGallery.on(t.events.ENTER_FULLSCREEN,function(){e.addClass("ug-fullscreenmode")}),g_objGallery.on(t.events.EXIT_FULLSCREEN,function(){e.removeClass("ug-fullscreenmode")})},this.destroyFullscreenButton=function(e){g_functions.destroyButton(e),g_objGallery.off(t.events.ENTER_FULLSCREEN),g_objGallery.off(t.events.EXIT_FULLSCREEN)},this.setPlayButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.togglePlayMode),g_objGallery.on(t.events.START_PLAY,function(){e.addClass("ug-stop-mode")}),g_objGallery.on(t.events.STOP_PLAY,function(){e.removeClass("ug-stop-mode")})},this.destroyPlayButton=function(e){g_functions.destroyButton(e),g_objGallery.off(t.events.START_PLAY),g_objGallery.off(t.events.STOP_PLAY)},this.setProgressIndicator=function(e){g_temp.objProgress=e},this.setTextContainers=function(i,n){g_objGallery.on(t.events.ITEM_CHANGE,function(){var e=t.getSelectedItem();i.html(e.title),n.html(e.description)})},this.showDisabledOverlay=function(){g_objWrapper.children(".ug-overlay-disabled").show()},this.hideDisabledOverlay=function(){g_objWrapper.children(".ug-overlay-disabled").hide()},this.___________END_SET_CONTROLS___________=function(){},this.___________PLAY_MODE___________=function(){},this.startPlayMode=function(){if(g_temp.isPlayMode=!0,g_temp.isPlayModePaused=!1,g_temp.playTimePassed=0,g_temp.playTimeLastStep=jQuery.now(),g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval),g_temp.objProgress){var e=g_temp.objProgress.getElement();g_temp.objProgress.setProgress(0),e.show()}g_objGallery.trigger(t.events.START_PLAY),g_objSlider&&1==g_objSlider.isCurrentSlideLoadingImage()&&t.pausePlaying()},this.resetPlaying=function(){if(0==g_temp.isPlayMode)return!0;g_temp.playTimePassed=0,g_temp.playTimeLastStep=jQuery.now()},this.pausePlaying=function(){if(1==g_temp.isPlayModePaused)return!0;g_temp.isPlayModePaused=!0,clearInterval(g_temp.playHandle),g_objGallery.trigger(t.events.PAUSE_PLAYING)},this.continuePlaying=function(){if(0==g_temp.isPlayModePaused)return!0;g_temp.isPlayModePaused=!1,g_temp.playTimeLastStep=jQuery.now(),g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval)},this.stopPlayMode=function(){(g_temp.isPlayMode=!1,clearInterval(g_temp.playHandle),g_temp.playTimePassed=0,g_temp.objProgress)&&g_temp.objProgress.getElement().hide();g_objGallery.trigger(t.events.STOP_PLAY)},this.isPlayMode=function(){return g_temp.isPlayMode},this.togglePlayMode=function(){0==t.isPlayMode()?t.startPlayMode():t.stopPlayMode()},this.___________GENERAL_EXTERNAL___________=function(){},this.shuffleItems=function(){for(var e in g_arrItems=g_functions.arrayShuffle(g_arrItems))g_arrItems[e].index=parseInt(e)},this.setOptions=function(e){g_options=jQuery.extend(g_options,e)},this.selectItem=function(e,i){"number"==typeof e&&(e=t.getItem(e));var n=e.index;if(n==g_selectedItemIndex)return!0;(unselectSeletedItem(),g_selectedItem=e,g_selectedItemIndex=n,g_objGallery.trigger(t.events.ITEM_CHANGE,[e,i]),1==g_temp.isPlayMode)&&(t.resetPlaying(),1==g_objSlider.isCurrentSlideLoadingImage()&&t.pausePlaying())},this.nextItem=function(){var e=g_selectedItemIndex+1;return 0==g_numItems||(0==g_options.gallery_carousel&&g_numItems<=e||(g_numItems<=e&&(e=0),void t.selectItem(e,"next")))},this.prevItem=function(){var e=g_selectedItemIndex-1;return-1==g_selectedItemIndex&&(e=0),0==g_numItems||(0==g_options.gallery_carousel&&e<0||(e<0&&(e=g_numItems-1),void t.selectItem(e,"prev")))},this.isFullScreen=function(){return 1==g_temp.isFakeFullscreen||1==g_functions.isFullScreen()},this.isFakeFullscreen=function(){return g_temp.isFakeFullscreen},this.toFullScreen=function(){g_functions.setGlobalData("fullscreenID",g_galleryID);var e=g_objWrapper.get(0);0==g_functions.toFullscreen(e)&&toFakeFullScreen()},this.exitFullScreen=function(){1==g_temp.isFakeFullscreen?exitFakeFullscreen():g_functions.exitFullscreen()},this.toggleFullscreen=function(){0==t.isFullScreen()?t.toFullScreen():t.exitFullScreen()},this.resize=function(e,t,i){g_objWrapper.css("width","auto"),g_objWrapper.css("max-width",e+"px"),t&&g_objWrapper.height(t),i||!0===i||onGalleryResized()},this.setSizeClass=function(e,i){if(!e)e=g_objWrapper;if(!i)i=t.getSize().width;if(0==i)i=jQuery(window).width();var n="";if(i<=480?n="ug-under-480":i<=780?n="ug-under-780":i<960&&(n="ug-under-960"),1==e.hasClass(n))return!0;removeAllSizeClasses(e),""!=n&&e.addClass(n)},this.isMobileMode=function(){return!!g_objWrapper.hasClass("ug-under-480")},this.isSmallWindow=function(){var e=jQuery(window).width();return!e||e<=480},this.isGalleryVisible=function(){return g_objWrapper.is(":visible")},this.changeItems=function(e,t){if(!e)e="noitems";runGallery(g_galleryID,"nochange",e,t)},this.addItems=function(e){if(!e||0==e.length)return!1;var t=g_objWrapper.children(".ug-newitems-wrapper");if(0==t.length&&g_objWrapper.append("<div class='ug-newitems-wrapper' style='display:none'></div>"),(t=g_objWrapper.children(".ug-newitems-wrapper")).append(e),fillItemsArray(jQuery(t.children()),!0),loadAPIs(),!g_objTheme||"function"!=typeof g_objTheme.addItems)throw new Error("addItems function not found in the theme");t.remove(),g_objTheme.addItems()},this.getNewAddedItemsIndexes=function(){var i=[];return jQuery.each(g_arrItems,function(e,t){1==t.isNewAdded&&i.push(e)}),i},this.showErrorMessageReplaceGallery=function(e){showErrorMessage(e)},this.setFuncCustomHeight=function(e){g_temp.funcCustomHeight=e},this.__________EXTERNAL_EVENTS_______=function(){},this.triggerEvent=function(e,t){t?("array"!=jQuery.type(t)&&(t=[t]),g_objGallery.trigger(e,t)):g_objGallery.trigger(e)},this.onEvent=function(e,t){g_objGallery.on(e,t)},this.destroyEvent=function(e){g_objGallery.off(e)},this.__________AJAX_REQUEST_______=function(){},this.ajaxRequest=function(e,t,i,n){if(!i||"function"!=typeof i)throw new Error("ajaxRequest error: success function should be passed");var r=g_options.gallery_urlajax;if(!r||""==r)throw new Error("ajaxRequest error: Ajax url don't passed");if(void 0===t)t={};var o={action:"unitegallery_ajax_action",client_action:e,galleryID:g_galleryID,data:t};jQuery.ajax({type:"post",url:g_options.gallery_urlajax,dataType:"json",data:o,success:function(e){if(!e)throw new Error("Empty ajax response!");if(-1==e||0===e)throw new Error("ajax error!!!");if(void 0===e.success)throw new Error("ajax error!!!");if(0==e.success)return showErrorMessage(e.message,"ajax error"),!1;i(e)},error:function(e,t,i){console.log("Ajax Error!!! "+t),responseText=e.responseText,n&&"function"==typeof n?n(responseText):trace(responseText)}})},this.requestNewItems=function(e,i,n){var r=g_options.gallery_enable_cache;if(n||(n=e),1==i&&(r=!1),1==r&&g_objCache.hasOwnProperty(n)){var o=g_objCache[n];t.changeItems(o,n)}else g_objGallery.trigger(t.events.GALLERY_BEFORE_REQUEST_ITEMS),t.ajaxRequest("front_get_cat_items",{catid:e},function(e){var i=e.html;t.changeItems(i,n)})},this.run=function(e,t){g_options.gallery_debug_errors;if(t&&t.hasOwnProperty("gallery_debug_errors")&&(g_options.gallery_debug_errors=t.gallery_debug_errors),1==g_options.gallery_debug_errors)try{runGallery(e,t)}catch(e){if("object"==typeof e){var i=e.message,n=e.lineNumber,r=e.fileName;e.stack;i+=" <br><br> in file: "+r,i+=" <b> line "+n+"</b>",trace(e)}else i=e;showErrorMessage(i=i.replace("Error:",""))}else runGallery(e,t)}}function UGLightbox(){var r,_,i,g,c,h,a,s,o=this,n=jQuery(this),l=new UniteGalleryMain,p=new UGSlider,m=new UGFunctions,u=new UGTextPanel,f={lightbox_type:"wide",lightbox_show_textpanel:!0,lightbox_textpanel_width:550,lightbox_hide_arrows_onvideoplay:!0,lightbox_arrows_position:"sides",lightbox_arrows_offset:10,lightbox_arrows_inside_offset:10,lightbox_arrows_inside_alwayson:!1,lightbox_overlay_color:null,lightbox_overlay_opacity:1,lightbox_top_panel_opacity:null,lightbox_show_numbers:!0,lightbox_numbers_size:null,lightbox_numbers_color:null,lightbox_numbers_padding_top:null,lightbox_numbers_padding_right:null,lightbox_compact_closebutton_offsetx:1,lightbox_compact_closebutton_offsety:1,lightbox_close_on_emptyspace:!0},b={topPanelHeight:44,initTextPanelHeight:26,isOpened:!(this.events={LIGHTBOX_INIT:"lightbox_init"}),isRightNowOpened:!1,putSlider:!0,isCompact:!1,fadeDuration:300,positionFrom:null,textPanelTop:null,textPanelLeft:null,isArrowsInside:!1,isArrowsOnHoverMode:!1,lastMouseX:null,lastMouseY:null,originalOptions:null,isSliderChangedOnce:!1,isTopPanelEnabled:!0},d={lightbox_slider_controls_always_on:!0,lightbox_slider_enable_bullets:!1,lightbox_slider_enable_arrows:!1,lightbox_slider_enable_progress_indicator:!1,lightbox_slider_enable_play_button:!1,lightbox_slider_enable_fullscreen_button:!1,lightbox_slider_enable_zoom_panel:!1,lightbox_slider_enable_text_panel:!1,lightbox_slider_scale_mode_media:"down",lightbox_slider_scale_mode:"down",lightbox_slider_loader_type:3,lightbox_slider_loader_color:"black",lightbox_slider_transition:"fade",lightbox_slider_image_padding_top:b.topPanelHeight,lightbox_slider_image_padding_bottom:0,lightbox_slider_video_padding_top:0,lightbox_slider_video_padding_bottom:0,lightbox_textpanel_align:"middle",lightbox_textpanel_padding_top:5,lightbox_textpanel_padding_bottom:5,slider_video_constantsize:!1,lightbox_slider_image_border:!1,lightbox_textpanel_enable_title:!0,lightbox_textpanel_enable_description:!1,lightbox_textpanel_desc_style_as_title:!0,lightbox_textpanel_enable_bg:!1,video_enable_closebutton:!1,lightbox_slider_video_enable_closebutton:!1,video_youtube_showinfo:!1,lightbox_slider_enable_links:!1},v={lightbox_overlay_opacity:.6,lightbox_slider_image_border:!0,lightbox_slider_image_shadow:!0,lightbox_slider_image_padding_top:30,lightbox_slider_image_padding_bottom:30,slider_video_constantsize:!0,lightbox_textpanel_align:"bottom",lightbox_textpanel_title_text_align:"left",lightbox_textpanel_desc_text_align:"left",lightbox_textpanel_padding_left:10,lightbox_textpanel_padding_right:10};function y(){1==b.isCompact&&1==f.lightbox_show_textpanel&&(f.lightbox_slider_image_padding_bottom=b.initTextPanelHeight),1==b.isCompact&&"inside"==f.lightbox_arrows_position&&(b.isArrowsInside=!0),1==b.isArrowsInside&&0==f.lightbox_arrows_inside_alwayson&&(b.isArrowsOnHoverMode=!0),0==f.lightbox_show_textpanel&&(b.isTopPanelEnabled=!1,b.topPanelHeight=0,f.lightbox_slider_image_padding_top=0)}function I(e){if(!p)return!0;var t={slider_image_padding_top:e};p.setOptions(t),p.refreshSlideItems()}function w(e){if(!s)return!1;if(!u)return!1;var t=s.height();if(0==t)return!1;if(0==s.is(":visible"))return!1;var i=t,n=u.getSize().height;t!=b.topPanelHeight&&(i=b.topPanelHeight),i<n&&(i=n),t!=i&&(s.height(i),p&&0==p.isAnimating()&&I(i))}function E(e){if(0==b.isOpened)return!1;if(!u)return!1;if(!p)return!1;var t=m.getElementSize(_),i=u.getSize();if(0==i.width||120<i.height)return!1;if(!e){var n=p.getSlideImage();e=m.getElementSize(n)}if(0==e.height||0==e.width)return!1;if(e.bottom+i.height<t.height)return!1;var r=p.getOptions(),o=i.height;if(o!=r.slider_image_padding_bottom){var a={slider_image_padding_bottom:o};if(0==p.isAnimating())return p.setOptions(a),p.refreshSlideItems(),!0}return!1}function T(e){m.getElementSize(_);var t=p.getSlideImage(),i=m.getElementSize(t);if(0==i.width)return!1;b.textPanelLeft=i.left,b.textPanelTop=i.bottom;var n=i.width;if(a){var r=m.getElementSize(a);n-=r.width;var o=i.right-r.width;m.placeElement(a,o,b.textPanelTop)}u&&(u.show(),u.refresh(!0,!0,n),function(e,t){if(!e){var i=p.getSlideImage();e=m.getElementSize(i)}b.textPanelTop=e.bottom,!0===t&&u.positionPanel(b.textPanelTop,b.textPanelLeft)}(i)),0==E(i)&&(b.positionFrom="handleCompactTextpanelSizes",u&&(u.positionPanel(b.textPanelTop,b.textPanelLeft),!0===e&&(e(),N())))}function S(){return 0==p.isCurrentSlideType("image")||1==p.isCurrentImageInPlace()}function P(e,t){if(0==b.isArrowsInside)return!1;if(!g)return!1;var i=S();if(g.show(),c.show(),b.positionFrom="positionArrowsInside",1==b.isArrowsOnHoverMode&&1==i&&0==A()&&M(!0),0==i)var n=m.getElementRelativePos(g,"left",f.lightbox_arrows_offset),r=m.getElementRelativePos(g,"middle"),o=m.getElementRelativePos(c,"right",f.lightbox_arrows_offset),a=r;else{var s=p.getSlideImage(),l=m.getElementSize(s);m.getElementSize(p.getElement()),n=m.getElementRelativePos(g,"left",0,s)+l.left+f.lightbox_arrows_inside_offset,r=m.getElementRelativePos(g,"middle",0,s)+l.top,o=m.getElementRelativePos(g,"right",0,s)+l.left-f.lightbox_arrows_inside_offset,a=r}if(!0===t){var u={left:n,top:r},d={left:o,top:a};g.stop().animate(u,{duration:b.fadeDuration}),c.stop().animate(d,{duration:b.fadeDuration})}else g.stop(),c.stop(),m.placeElement(g,n,r),m.placeElement(c,o,a);1==e&&O(t)}function x(e,t){b.positionFrom=null;var i=S(),n=m.getElementRelativePos(h,"right",2,_);if(0==i)var r=2,o=n;else{var a=p.getSlideImage(),s=m.getElementSize(a),l=m.getElementSize(p.getElement()),u=m.getElementSize(h);l.top==l.height&&(l.top=0);o=l.left+s.right-u.width/2+f.lightbox_compact_closebutton_offsetx;(r=l.top+s.top-u.height/2-f.lightbox_compact_closebutton_offsety)<2&&(r=2),n<o&&(o=n)}if(!0===t){var d={left:o,top:r};h.stop().animate(d,{duration:b.fadeDuration})}else h.stop(),m.placeElement(h,o,r);!0===e&&function(e){!0!==e&&h.stop();h.fadeTo(b.fadeDuration,1)}(t)}function t(){h&&h.stop().fadeTo(b.fadeDuration,0),e(),C(),b.positionFrom="hideCompactElements",1==b.isArrowsInside&&M()}function j(){var e,t,i,n=m.getElementSize(_);s&&m.setElementSizeAndPosition(s,0,0,n.width,b.topPanelHeight),g&&0==b.isArrowsInside&&(1==f.lightbox_hide_arrows_onvideoplay&&(g.show(),c.show()),m.placeElement(g,"left","middle",f.lightbox_arrows_offset),m.placeElement(c,"right","middle",f.lightbox_arrows_offset)),0==b.isCompact&&m.placeElement(h,"right","top",2,2),u&&(b.positionFrom="positionElements",0==b.isCompact?(e=n,t={},i=f.lightbox_textpanel_width,e.width-47-40<i?(t.textpanel_padding_left=47,t.textpanel_padding_right=40,t.textpanel_title_text_align="center",t.textpanel_desc_text_align="center"):(t.textpanel_padding_left=Math.floor((e.width-i)/2),t.textpanel_padding_right=t.textpanel_padding_left,t.textpanel_title_text_align="left",t.textpanel_desc_text_align="left",f.lightbox_textpanel_title_text_align&&(t.textpanel_title_text_align=f.lightbox_textpanel_desc_text_align),f.lightbox_textpanel_desc_text_align&&(t.textpanel_desc_text_align=f.lightbox_textpanel_desc_text_align)),u.setOptions(t),u.refresh(!0,!0),w(),u.positionPanel()):(H(),N()));var r=n.width,o=n.height;if(p){if(s){var a={slider_image_padding_top:s.height()};p.setOptions(a)}p.setSize(r,o),p.setPosition(0,0)}}function e(){u&&u.getElement().stop().fadeTo(b.fadeDuration,0)}function C(){a&&a.stop().fadeTo(b.fadeDuration,0)}function A(){if(!b.lastMouseX)return!0;var e={pageX:b.lastMouseX,pageY:b.lastMouseY};return p.isMouseInsideSlideImage(e)}function M(e,t){return!!g&&(1==b.isArrowsOnHoverMode&&!1===t?(A(),!0):void(!0===e?(g.stop().fadeTo(0,0),c.stop().fadeTo(0,0)):(g.stop().fadeTo(b.fadeDuration,0),c.stop().fadeTo(b.fadeDuration,0))))}function O(e,t){return!!g&&(1==b.isArrowsOnHoverMode&&!0!==t&&1==S()||(1==p.isSwiping()||(!0!==e&&(g.stop(),c.stop()),g.fadeTo(b.fadeDuration,1),void c.fadeTo(b.fadeDuration,1))))}function z(e){if(!u)return!1;if(!e)e=p.getCurrentItem();u.setTextPlain(e.title,e.description)}function L(e){if(!a)return!1;if(!e)e=p.getCurrentItem();var t=l.getNumItems(),i=e.index+1;a.html(i+" / "+t)}function H(){if(!u)return!1;u.getElement().show().stop().fadeTo(b.fadeDuration,1)}function N(){a&&a.stop().fadeTo(b.fadeDuration,1)}function k(){if(0==b.isCompact)return!0;t()}function R(){if(0==b.isCompact)return!0;(x(!(b.positionFrom="onZoomChange"),!0),P(!1,!0),1==b.isCompact)&&(0==(p.isCurrentSlideType("image")&&1==p.isCurrentImageInPlace())?(e(),C()):(b.positionFrom="onZoomChange",H(),N()))}function G(){if(0==b.isCompact)return!0;b.positionFrom="onSliderAfterReturn",x(!0),P(!0),0==E()&&T(),H(),N()}function D(e,t){return t=jQuery(t),0==b.isCompact||(0==p.isSlideCurrent(t)||(b.positionFrom="onSliderAfterPutImage",x(!0),P(!0),void T()))}function Q(){var e=p.getOptions().slider_image_padding_top;if(s){var t=s.height();t!=e&&I(t)}if(1==b.isCompact){if(z(),L(),b.positionFrom="onSliderTransitionEnd",x(!0),P(!0),0==p.isSlideActionActive())0==E()&&T();H(),N()}}function W(e,t){0==b.isCompact?(a&&L(t),u&&(z(t),0==b.isRightNowOpened&&(u.positionElements(!1),w(),u.positionPanel()))):0==p.isAnimating()&&(u&&z(t),a&&L(t)),0==b.isSliderChangedOnce&&(b.isSliderChangedOnce=!0,n.trigger(o.events.LIGHTBOX_INIT))}function B(e,t){if("image"!=p.getSlideType()&&0==b.isCompact&&p.isSlideActionActive())return!0;if(1==p.isPreloading())return o.close("slider"),!0;1==f.lightbox_close_on_emptyspace&&(0==p.isMouseInsideSlideImage(t)&&o.close("slider_inside"))}function F(){j()}function Y(){s?function(){if(!s)return;s.hide()}():a&&a.hide(),g&&1==f.lightbox_hide_arrows_onvideoplay&&(g.hide(),c.hide())}function U(){s?(!function(){if(!s)return;s.show()}(),w()):a&&a.show(),g&&1==f.lightbox_hide_arrows_onvideoplay&&(g.show(),c.show())}function V(e,t,i){var n=!1;switch(t){case 27:1==b.isOpened&&o.close("keypress");break;case 38:case 40:case 33:case 34:n=!0}1==b.isOpened&&1==n&&i.preventDefault()}function X(){1==b.isArrowsOnHoverMode&&O(!1,!0)}function Z(e){b.positionFrom="hideCompactElements",1==b.isArrowsOnHoverMode&&1==S()&&M(!1,!0)}function q(e){b.lastMouseX=e.pageX,b.lastMouseY=e.pageY,1==(!g||0==g.is(":visible")||1!=g.css("opacity"))&&A()&&0==p.isAnimating()&&(b.positionFrom="onMouseMove",g&&0==g.is(":animated")&&O(!1,!0))}function K(e,t,i,n){if(0==b.isOpened)return!0;switch(f.gallery_mousewheel_role){default:case"zoom":"image"!=p.getSlideType()&&e.preventDefault();break;case"none":e.preventDefault();break;case"advance":l.onGalleryMouseWheel(e,t,i,n)}}this.destroy=function(){if(jQuery(document).unbind("mousemove"),i.off("touchstart"),i.off("touchend"),h.off("click"),r.off(l.events.ITEM_CHANGE),p){jQuery(p).off(p.events.TRANSITION_END),jQuery(p).off(p.events.CLICK),jQuery(p).off(p.events.START_DRAG),jQuery(p).off(p.events.TRANSITION_START),jQuery(p).off(p.events.AFTER_DRAG_CHANGE),jQuery(p).off(p.events.AFTER_RETURN);var e=p.getVideoObject();jQuery(e).off(e.events.PLAY_START),jQuery(e).off(e.events.PLAY_STOP),jQuery(p).on(p.events.IMAGE_MOUSEENTER,X),jQuery(p).on(p.events.IMAGE_MOUSELEAVE,Z),p.destroy()}jQuery(window).unbind("resize"),r.off(l.events.GALLERY_KEYPRESS,V),_.off("mousewheel"),_.remove()},this.open=function(e){var t=l.getItem(e);(b.isOpened=!0,b.isRightNowOpened=!0,setTimeout(function(){b.isRightNowOpened=!1},100),p&&p.setItem(t,"lightbox_open"),u&&u.setTextPlain(t.title,t.description),i.stop().fadeTo(0,0),_.show(),_.fadeTo(0,1),i.stop().fadeTo(b.fadeDuration,f.lightbox_overlay_opacity),j(),1==b.isCompact)&&(1==p.isPreloading()?(h&&h.hide(),g&&1==b.isArrowsInside&&(g.hide(),c.hide()),a&&a.hide(),u&&u.hide()):1==b.isArrowsInside&&(g.hide(),c.hide()));p&&p.startSlideAction(),r.trigger(l.events.OPEN_LIGHTBOX,t)},this.close=function(e){b.isOpened=!1,1==b.isCompact&&t(),p&&p.stopSlideAction(),"image"!=p.getSlideType()?_.hide():_.fadeTo(b.fadeDuration,0,function(){_.hide()}),r.trigger(l.events.CLOSE_LIGHTBOX)},this.init=function(e,t){var i,n;n=t,l=i=e,r=jQuery(i),f=jQuery.extend(f,d),f=jQuery.extend(f,n),b.originalOptions=jQuery.extend({},f),"compact"==f.lightbox_type&&(b.isCompact=!0,f=jQuery.extend(f,v),f=jQuery.extend(f,n)),y(),p=1==b.putSlider?(l.initSlider(f,"lightbox"),g_objects=i.getObjects(),g_objects.g_objSlider):null,1==f.lightbox_show_textpanel?u.init(l,f,"lightbox"):u=null},this.putHtml=function(){var e,t;l.isSmallWindow()&&1==b.isCompact&&(b.isCompact=!1,y(),b.isArrowsInside=!1,b.isArrowsOnHoverMode=!1,(f=jQuery.extend({},b.originalOptions)).lightbox_arrows_position="sides",p.setOptions(f)),t=e="",1==b.isCompact&&(t=" ug-lightbox-compact"),e+="<div class='ug-gallery-wrapper ug-lightbox"+t+"'>",e+="<div class='ug-lightbox-overlay'></div>",0==b.isCompact&&b.isTopPanelEnabled?(e+="<div class='ug-lightbox-top-panel'>",e+="<div class='ug-lightbox-top-panel-overlay'></div>",f.lightbox_show_numbers&&(e+="<div class='ug-lightbox-numbers'></div>"),e+="</div>"):f.lightbox_show_numbers&&(e+="<div class='ug-lightbox-numbers'></div>"),e+="<div class='ug-lightbox-button-close'></div>",e+="<div class='ug-lightbox-arrow-left'></div>",e+="<div class='ug-lightbox-arrow-right'></div>",e+="</div>",_=jQuery(e),jQuery("body").append(_),p&&p.setHtml(_),i=_.children(".ug-lightbox-overlay"),0==b.isCompact&&1==b.isTopPanelEnabled&&0==(s=_.children(".ug-lightbox-top-panel")).length&&(s=null),h=_.find(".ug-lightbox-button-close"),f.lightbox_show_numbers&&(a=_.find(".ug-lightbox-numbers")),g=_.children(".ug-lightbox-arrow-left"),c=_.children(".ug-lightbox-arrow-right"),u&&(s?u.appendHTML(s):u.appendHTML(_))},this.run=function(){!function(){if(null!==f.lightbox_overlay_color&&i.css("background-color",f.lightbox_overlay_color),null!==f.lightbox_overlay_opacity&&i.fadeTo(0,f.lightbox_overlay_opacity),s&&null!==f.lightbox_top_panel_opacity&&s.children(".ug-lightbox-top-panel-overlay").fadeTo(0,f.lightbox_top_panel_opacity),a){var e={};null!==f.lightbox_numbers_size&&(e["font-size"]=f.lightbox_numbers_size+"px"),f.lightbox_numbers_color&&(e.color=f.lightbox_numbers_color),null!==f.lightbox_numbers_padding_right&&(e["padding-right"]=f.lightbox_numbers_padding_right+"px"),null!==f.lightbox_numbers_padding_top&&(e["padding-top"]=f.lightbox_numbers_padding_top+"px"),a.css(e)}}(),p&&p.run(),function(){if(i.on("touchstart",function(e){e.preventDefault()}),i.on("touchend",function(e){o.close("overlay")}),m.addClassOnHover(c,"ug-arrow-hover"),m.addClassOnHover(g,"ug-arrow-hover"),m.addClassOnHover(h),l.setNextButton(c),l.setPrevButton(g),h.click(function(){o.close("button")}),r.on(l.events.ITEM_CHANGE,W),p){jQuery(p).on(p.events.TRANSITION_END,Q),jQuery(p).on(p.events.CLICK,B);var e=p.getVideoObject();jQuery(e).on(e.events.PLAY_START,Y),jQuery(e).on(e.events.PLAY_STOP,U),jQuery(p).on(p.events.START_DRAG,k),jQuery(p).on(p.events.TRANSITION_START,k),jQuery(p).on(p.events.AFTER_DRAG_CHANGE,G),jQuery(p).on(p.events.AFTER_RETURN,G),jQuery(p).on(p.events.AFTER_PUT_IMAGE,D),jQuery(p).on(p.events.ZOOM_CHANGE,R),jQuery(p).on(p.events.IMAGE_MOUSEENTER,X),jQuery(p).on(p.events.IMAGE_MOUSELEAVE,Z)}jQuery(window).resize(function(){if(0==b.isOpened)return!0;m.whenContiniousEventOver("lightbox_resize",F,100)}),r.on(l.events.GALLERY_KEYPRESS,V),1==b.isArrowsOnHoverMode&&jQuery(document).bind("mousemove",q),_.on("mousewheel",K)}()}}function UGCarousel(){var o,a,g,c,n=this,t=jQuery(this),l=new UniteGalleryMain,h=new UGFunctions,s=new UGTileDesign,u=new UGThumbsGeneral,d={carousel_padding:8,carousel_space_between_tiles:20,carousel_navigation_numtiles:3,carousel_scroll_duration:500,carousel_scroll_easing:"easeOutCubic",carousel_autoplay:!0,carousel_autoplay_timeout:3e3,carousel_autoplay_direction:"right",carousel_autoplay_pause_onhover:!0,carousel_vertical_scroll_ondrag:!1},p={eventSizeChange:"thumb_size_change",isFirstTimeRun:!0,carouselMaxWidth:null,tileWidth:0,initTileWidth:0,initTileHeight:0,sideSpace:1500,spaceActionSize:500,numCurrent:0,touchActive:!(this.events={START_PLAY:"carousel_start_play",PAUSE_PLAY:"carousel_pause_play",STOP_PLAY:"carousel_stop_play"}),startInnerPos:0,lastTime:0,startTime:0,startMousePos:0,lastMousePos:0,scrollShortDuration:200,scrollShortEasing:"easeOutQuad",handle:null,isPlayMode:!1,isPaused:!1,storedEventID:"carousel"};function r(e,t){if(!t)t=p.initTileHeight/p.initTileWidth*e;var i={tile_width:p.tileWidth=e,tile_height:t};s.setOptions(i),d.tile_width=e,d.tile_height=t,s.resizeAllTiles(e),w(!0)}function e(){if(null===p.carouselMaxWidth)throw new Error("The carousel width not set");if(p.tileWidth<p.initTileWidth){(t=p.carouselMaxWidth-2*d.carousel_padding)>p.initTileWidth&&(t=p.initTileWidth),r(t);var e=h.getNumItemsInSpace(p.carouselMaxWidth,t,d.carousel_space_between_tiles)}else{var t;if((e=h.getNumItemsInSpace(p.carouselMaxWidth,p.tileWidth,d.carousel_space_between_tiles))<=0)e=1,r(t=p.carouselMaxWidth-2*d.carousel_padding)}var i=h.getSpaceByNumItems(e,p.tileWidth,d.carousel_space_between_tiles);i+=2*d.carousel_padding,g.width(i),1==p.isFirstTimeRun?(s.initEvents(),g.bind("mousedown touchstart",C),jQuery("body").bind("mousemove touchmove",A),jQuery(window).add("body").bind("mouseup touchend",M),g.hover(O,z),s.run(),jQuery.each(a,function(e,t){t.objThumbWrapper.data("index",e),o.trigger(p.eventSizeChange,[t.objThumbWrapper,!0]),t.objTileOriginal=t.objThumbWrapper.clone(!0,!0)}),w(!0)):(1==d.carousel_autoplay&&n.pauseAutoplay(),P(0,!1)),1==d.carousel_autoplay&&n.startAutoplay(),h.placeElement(c,0,d.carousel_padding),x(),p.isFirstTimeRun=!1}function m(){return h.getElementSize(c).left}function _(e){return h.getMousePosition(e).pageX}function f(){return c.children(".ug-thumb-wrapper")}function b(e){return h.getNumItemsInSpace(e,p.tileWidth,d.carousel_space_between_tiles)}function v(){return f().length}function y(e){E(e);var t=f();return jQuery(t[e])}function I(){return b(h.getElementSize(g).width)}function w(e){if(!e)e=!1;var n,r=f(),o=0,a=0;return jQuery.each(r,function(e,t){t=jQuery(t),h.placeElement(t,o,0);var i=h.getElementSize(t);o+=i.width+d.carousel_space_between_tiles,a=Math.max(a,i.height),e==r.length-1&&(n=i.right)}),c.width(n),a+=2*d.carousel_padding,!0===e&&(c.height(a),g.height(a)),P(p.numCurrent,!1),n}function E(e){if(e>f().length-1)throw new Error("Wrogn tile number: "+e)}function T(e,i){if("left"==i)var t=c.children(".ug-thumb-wrapper").first();else t=c.children(".ug-thumb-wrapper").last();var n=function(e,t,i){var n=e.data("index");if(null==n)throw new Error("every tile should have index!");for(var r=[],o=0;o<t;o++){if("prev"==i)var a=l.getPrevItem(n,!0);else a=l.getNextItem(n,!0);if(!a)throw new Error("the item to add is empty");var s=a.objTileOriginal.clone(!0,!0);n=a.index,s.addClass("cloned"),r.push(s)}return r}(t,e,"left"==i?"prev":"next");jQuery.each(n,function(e,t){"left"==i?c.prepend(t):c.append(t),o.trigger(p.eventSizeChange,t),s.loadTileImage(t)})}function S(e,t){E(n);for(var i=f(),n=i.length,r=0;r<e;r++)"left"==t?jQuery(i[r]).remove():jQuery(i[n-1-r]).remove()}function P(e,t,i){if(void 0===t){t=!0;if(c.is(":animated"))return!0}var n=y(e),r={left:-h.getElementSize(n).left+d.carousel_padding+"px"};if(!0===t){var o=d.carousel_scroll_duration,a=d.carousel_scroll_easing;!0===i&&(o=p.scrollShortDuration,a=p.scrollShortEasing),c.stop(!0).animate(r,{duration:o,easing:a,queue:!1,complete:function(){p.numCurrent=e,x()}})}else p.numCurrent=e,c.css(r)}function i(){var e,t,i,n;P((e=-m(),t=b(e),i=h.getElementSize(y(t)).left,n=h.getElementSize(y(t+1)).left,Math.abs(i-e)<Math.abs(n-e)?t:t+1),!0,!0)}function x(){var e,t,i,n,r=(e=-m(),p.sideSpace-e),o=(t=h.getElementSize(g),i=h.getElementSize(c),n=i.width-t.width+i.left,p.sideSpace-n),a=0,s=0,l=0,u=0,d=v();if(r>p.spaceActionSize)T(a=b(r),"left"),p.numCurrent+=a;else if(r<-p.spaceActionSize){S(l=b(Math.abs(r)),"left"),p.numCurrent-=l}if(o>p.spaceActionSize?T(s=b(o),"right"):o<-p.spaceActionSize&&S(u=b(Math.abs(o)),"right"),d<u)throw new Error("Can't remove more then num tiles");var _=!1;return(a||s||l||u)&&(w(),_=!0),_}function j(){"left"==d.carousel_autoplay_direction?n.scrollRight(1):n.scrollLeft(1)}function C(e){if(1==p.touchActive)return!0;p.touchActive=!0,n.pauseAutoplay(),p.startTime=jQuery.now(),p.startMousePos=_(e),p.startInnerPos=m(),p.lastTime=p.startTime,p.lastMousePos=p.startMousePos,h.storeEventData(e,p.storedEventID)}function A(e){if(0==p.touchActive)return!0;h.updateStoredEventData(e,p.storedEventID),e.preventDefault();var t=null;if(1==d.carousel_vertical_scroll_ondrag&&(t=h.handleScrollTop(p.storedEventID)),"vert"===t)return!0;p.lastMousePos=_(e);var i,n=p.lastMousePos-p.startMousePos,r=p.startInnerPos+n,o=0<n?"prev":"next";0<r&&"prev"==o&&(r/=3),r<-h.getElementSize(c).width&&"next"==o&&(r=p.startInnerPos+n/3),i={left:r+"px"},c.css(i)}function M(e){if(0==p.touchActive)return!0;p.touchActive=!1,i(),n.unpauseAutoplay()}function O(e){if(0==d.carousel_autoplay_pause_onhover)return!0;1==p.isPlayMode&&0==p.isPaused&&n.pauseAutoplay()}function z(e){if(0==d.carousel_autoplay_pause_onhover)return!0;n.unpauseAutoplay()}function L(){var e=p.lastTime-p.startTime,t=Math.abs(p.lastMousePos-p.startMousePos);return!(300<e)&&!(30<t)}this.startAutoplay=function(){p.isPlayMode=!0,p.isPaused=!1,t.trigger(n.events.START_PLAY),p.handle&&clearInterval(p.handle),p.handle=setInterval(j,d.carousel_autoplay_timeout)},this.unpauseAutoplay=function(){return 0==p.isPlayMode||(0==p.isPaused||void n.startAutoplay())},this.pauseAutoplay=function(){if(0==p.isPlayMode)return!0;p.isPaused=!0,p.handle&&clearInterval(p.handle),t.trigger(n.events.PAUSE_PLAY)},this.stopAutoplay=function(){if(0==p.isPlayMode)return!0;p.isPaused=!1,p.isPlayMode=!1,p.handle&&clearInterval(p.handle),t.trigger(n.events.STOP_PLAY)},this.destroy=function(){p.handle&&clearInterval(p.handle),t.off(n.events.START_PLAY),t.off(n.events.STOP_PLAY),g.unbind("mousedown"),g.unbind("touchstart"),jQuery("body").unbind("mousemove"),jQuery("body").unbind("touchmove"),jQuery(window).add("body").unbind("mouseup").unbind("touchend"),g.off("mouseenter").off("mouseleave"),s.destroy()},this.init=function(e,t,i){var n,r;i&&this.setMaxWidth(i),n=e,r=t,g_objects=n.getObjects(),l=n,jQuery(n),o=g_objects.g_objWrapper,a=g_objects.g_arrItems,d=jQuery.extend(d,r),s.setFixedMode(),s.setApproveClickFunction(L),s.init(n,d),u=s.getObjThumbs(),d=s.getOptions(),p.initTileWidth=d.tile_width,p.initTileHeight=d.tile_height,p.tileWidth=d.tile_width},this.setMaxWidth=function(e){p.carouselMaxWidth=e},this.setHtml=function(e){!function(e){e||(e=o);o.append("<div class='ug-carousel-wrapper'><div class='ug-carousel-inner'></div></div>"),g=o.children(".ug-carousel-wrapper"),c=g.children(".ug-carousel-inner"),s.setHtml(c),u.getThumbs().fadeTo(0,1)}(e)},this.getElement=function(){return g},this.getObjTileDesign=function(){return s},this.getEstimatedHeight=function(){return d.tile_height+2*d.carousel_padding},this.run=function(){e()},this.scrollRight=function(e){if(!e||"object"==typeof e)e=d.carousel_navigation_numtiles;var t=I();t<e&&(e=t);var i=p.numCurrent-e;i<=0&&(i=0),P(i)},this.scrollLeft=function(e){if(!e||"object"==typeof e)e=d.carousel_navigation_numtiles;var t=I();t<e&&(e=t);var i=v(),n=p.numCurrent+e;i<=n&&(n=i-1),P(n)},this.setScrollLeftButton=function(e){h.setButtonMobileReady(e),h.setButtonOnClick(e,n.scrollLeft)},this.setScrollRightButton=function(e){h.setButtonMobileReady(e),h.setButtonOnClick(e,n.scrollRight)},this.setPlayPauseButton=function(e){h.setButtonMobileReady(e),1==p.isPlayMode&&0==p.isPaused&&e.addClass("ug-pause-icon"),t.on(n.events.START_PLAY,function(){e.addClass("ug-pause-icon")}),t.on(n.events.STOP_PLAY,function(){e.removeClass("ug-pause-icon")}),h.setButtonOnClick(e,function(){0==p.isPlayMode||1==p.isPaused?n.startAutoplay():n.stopAutoplay()})}}function UGTabs(){jQuery(this);var n,r,o=new UniteGalleryMain,a=(new UGFunctions,{tabs_type:"tabs",tabs_container:"#ug_tabs",tabs_class_selected:"ug-tab-selected"});function e(){"select"==a.tabs_type?r.change(i):n.click(t)}function s(e){o.requestNewItems(e)}function t(){var e=a.tabs_class_selected,t=jQuery(this);if(t.hasClass(e))return!0;n.not(t).removeClass(e),t.addClass(e);var i=t.data("catid");if(!i)return!0;s(i)}function i(){var e=jQuery(this).val();if(!e)return!0;s(e)}this.events={},this.destroy=function(){r&&r.off("change"),n&&n.off("click")},this.init=function(e,t){var i;i=t,o=e,jQuery(o),"select"==(a=jQuery.extend(a,i)).tabs_type?r=jQuery(a.tabs_container):n=jQuery(a.tabs_container+" .ug-tab")},this.run=function(){e()}}function UG_API(e){var n,r=this,o=(jQuery(r),new UniteGalleryMain),a=[];function s(e){var t={index:e.index,title:e.title,description:e.description,urlImage:e.urlImage,urlThumb:e.urlThumb},i=e.objThumbImage.data();for(var n in i){switch(n){case"image":case"description":continue}t[n]=i[n]}return t}o=e,n=jQuery(e),this.events={API_INIT_FUNCTIONS:"api_init",API_ON_EVENT:"api_on_event"},this.on=function(e,t,i){switch(!0!==i&&a.push({event:e,func:t}),e){case"item_change":n.on(o.events.ITEM_CHANGE,function(){var e=s(o.getSelectedItem());t(e.index,e)});break;case"resize":n.on(o.events.SIZE_CHANGE,t);break;case"enter_fullscreen":n.on(o.events.ENTER_FULLSCREEN,t);break;case"exit_fullscreen":n.on(o.events.EXIT_FULLSCREEN,t);break;case"play":n.on(o.events.START_PLAY,t);break;case"stop":n.on(o.events.STOP_PLAY,t);break;case"pause":n.on(o.events.PAUSE_PLAYING,t);break;case"continue":n.on(o.events.CONTINUE_PLAYING,t);break;case"open_lightbox":n.on(o.events.OPEN_LIGHTBOX,t);break;case"close_lightbox":n.on(o.events.CLOSE_LIGHTBOX,t);break;default:console&&console.log("wrong api event: "+e)}n.trigger(r.events.API_ON_EVENT,[e,t])},this.play=function(){o.startPlayMode()},this.stop=function(){o.stopPlayMode()},this.togglePlay=function(){o.togglePlayMode()},this.enterFullscreen=function(){o.toFullScreen()},this.exitFullscreen=function(){o.exitFullScreen()},this.toggleFullscreen=function(){o.toggleFullscreen()},this.resetZoom=function(){var e=o.getObjSlider();if(!e)return!1;e.zoomBack()},this.zoomIn=function(){var e=o.getObjSlider();if(!e)return!1;e.zoomIn()},this.zoomOut=function(){var e=o.getObjSlider();if(!e)return!1;e.zoomOut()},this.nextItem=function(){o.nextItem()},this.prevItem=function(){o.prevItem()},this.selectItem=function(e){o.selectItem(e)},this.resize=function(e,t){t?o.resize(e,t):o.resize(e)},this.getItem=function(e){return s(o.getItem(e))},this.getNumItems=function(){return o.getNumItems()},this.reloadGallery=function(e){if(!e)e={};o.run(null,e),a.map(function(e){r.on(e.event,e.func,!0)})},this.destroy=function(){o.destroy()},n.trigger(r.events.API_INIT_FUNCTIONS,r)}function UGLoadMore(){jQuery(this);var i,n,r,o,a=new UniteGalleryMain,s=(new UGFunctions,{isInited:!1}),l={loadmore_container:"ug_loadmore_wrapper"};function u(){i.show()}function d(){n.hide(),r.show();var e={numitems:a.getNumItems()};a.ajaxRequest("front_loadmore",e,function(e){r.hide();var t=e.html_items;1==e.show_loadmore?(n.blur().show(),r.hide()):i.hide(),a.addItems(t)},function(e){e="Ajax Error!"+e,r.hide(),o.show(),o.html(e)})}this.events={},this.destroy=function(){if(0==s.isInited)return!1},this.init=function(e,t){if(a=e,jQuery(a),l=jQuery.extend(l,t),0!=(i=jQuery("#"+l.loadmore_container)).length&&0!=(n=i.find(".ug-loadmore-button")).length&&0!=(r=i.find(".ug-loadmore-loader")).length&&0!=(o=i.find(".ug-loadmore-error")).length&&(s.isInited=!0),0==s.isInited)return trace("load more not inited, something is wrong"),!1;a.onEvent("tiles_first_placed",u),n.click(d)}}jQuery.fn.unitegallery=function(e){var t="#"+jQuery(this).attr("id");if(!e)e={};var i=new UniteGalleryMain;return i.run(t,e),new UG_API(i)};