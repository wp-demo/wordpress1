{"version":3,"sources":["galleria.classic.js"],"names":["$","Galleria","addTheme","name","version","author","css","defaults","transition","thumbCrop","_toggleInfo","init","options","requires","this","addElement","append","info","touch","TOUCH","show","addIdleState","get","left","right","opacity","bind","toggle","hide","e","thumbTarget","parent","hover","not","children","stop","fadeTo","index","getIndex","siblings","activate","cached","window","setTimeout","hasInfo","fadeOut","jQuery"],"mappings":"CAUC,SAASA;IAIVC,SAASC,SAAS;QACdC,MAAM;QACNC,SAAS;QACTC,QAAQ;QACRC,KAAK;QACLC,UAAU;YACNC,YAAY;YACZC,WAAY;YAGZC,aAAa;;QAEjBC,MAAM,SAASC;YAEXX,SAASY,SAAS,KAAK;YAGvBC,KAAKC,WAAW,aAAY;YAC5BD,KAAKE,OAAO;gBACRC,MAAS,EAAC,aAAY;;YAI1B,IAAIA,OAAOH,KAAKd,EAAE,mCACdkB,QAAQjB,SAASkB;YAGrBL,KAAKd,EAAE,kBAAkBoB,OAAOd,IAAI,WAAW;YAG/C,KAAMY,OAAQ;gBACVJ,KAAKO,aAAcP,KAAKQ,IAAI,mBAAmB;oBAAEC,OAAM;;gBACvDT,KAAKO,aAAcP,KAAKQ,IAAI,oBAAoB;oBAAEE,QAAO;;gBACzDV,KAAKO,aAAcP,KAAKQ,IAAI,YAAY;oBAAEG,SAAQ;;;YAItD,IAAKb,QAAQF,gBAAgB,MAAO;gBAChCO,KAAKS,KAAM,cAAc;oBACrBT,KAAKU;;mBAEN;gBACHV,KAAKG;gBACLN,KAAKd,EAAE,yBAAyB4B;;YAIpCd,KAAKY,KAAK,aAAa,SAASG;gBAE5B,KAAMX,OAAQ;oBAEVlB,EAAE6B,EAAEC,aAAaxB,IAAI,WAAW,IAAKyB,SAASC,MAAM;wBAChDhC,EAAEc,MAAMmB,IAAI,WAAWC,WAAWC,OAAOC,OAAO,KAAK;uBACtD;wBACCpC,EAAEc,MAAMmB,IAAI,WAAWC,WAAWC,OAAOC,OAAO,KAAK;;oBAGzD,IAAKP,EAAEQ,UAAUvB,KAAKwB,YAAa;wBAC/BtC,EAAE6B,EAAEC,aAAaxB,IAAI,WAAU;;uBAEhC;oBACHN,EAAE6B,EAAEC,aAAaxB,IAAI,WAAWQ,KAAKwB,aAAa,IAAI,IAAKZ,KAAK,cAAc;wBAC1E1B,EAAEc,MAAMR,IAAK,WAAW,GAAIyB,SAASQ,WAAWL,WAAW5B,IAAI,WAAW;;;;YAKtF,IAAIkC,WAAW,SAASX;gBACpB7B,EAAE6B,EAAEC,aAAaxB,IAAI,WAAU,GAAGyB,SAASQ,WAAWL,WAAW5B,IAAI,WAAW;;YAGpFQ,KAAKY,KAAK,aAAa,SAASG;gBAC5B,KAAKA,EAAEY,QAAQ;oBACX3B,KAAKd,EAAE,UAAUoB,OAAOgB,OAAO,KAAK;;gBAExCM,OAAOC,WAAW;oBACdH,SAASX;mBACVX,QAAQ,MAAM;gBACjBJ,KAAKd,EAAE,QAAQ2B,OAAQb,KAAK8B;;YAGhC9B,KAAKY,KAAK,cAAc,SAASG;gBAC7Bf,KAAKd,EAAE,UAAU6C,QAAQ;;;;EAtFrC,CA2FEC","file":"galleria.classic.js","sourcesContent":["/**\n * Galleria Classic Theme 2017-02-13\n * http://galleria.io\n *\n * Copyright (c) 2010 - 2017 worse is better UG\n * Licensed under the MIT license\n * https://raw.github.com/worseisbetter/galleria/master/LICENSE\n *\n */\n\n(function($) {\n\n/*global window, jQuery, Galleria */\n\nGalleria.addTheme({\n    name: 'classic',\n    version: 1.5,\n    author: 'Galleria',\n    css: 'galleria.classic.css',\n    defaults: {\n        transition: 'slide',\n        thumbCrop:  'height',\n\n        // set this to false if you want to show the caption all the time:\n        _toggleInfo: true\n    },\n    init: function(options) {\n\n        Galleria.requires(1.4, 'This version of Classic theme requires Galleria 1.4 or later');\n\n        // add some elements\n        this.addElement('info-link','info-close');\n        this.append({\n            'info' : ['info-link','info-close']\n        });\n\n        // cache some stuff\n        var info = this.$('info-link,info-close,info-text'),\n            touch = Galleria.TOUCH;\n\n        // show loader & counter with opacity\n        this.$('loader,counter').show().css('opacity', 0.4);\n\n        // some stuff for non-touch browsers\n        if (! touch ) {\n            this.addIdleState( this.get('image-nav-left'), { left:-50 });\n            this.addIdleState( this.get('image-nav-right'), { right:-50 });\n            this.addIdleState( this.get('counter'), { opacity:0 });\n        }\n\n        // toggle info\n        if ( options._toggleInfo === true ) {\n            info.bind( 'click:fast', function() {\n                info.toggle();\n            });\n        } else {\n            info.show();\n            this.$('info-link, info-close').hide();\n        }\n\n        // bind some stuff\n        this.bind('thumbnail', function(e) {\n\n            if (! touch ) {\n                // fade thumbnails\n                $(e.thumbTarget).css('opacity', 0.6).parent().hover(function() {\n                    $(this).not('.active').children().stop().fadeTo(100, 1);\n                }, function() {\n                    $(this).not('.active').children().stop().fadeTo(400, 0.6);\n                });\n\n                if ( e.index === this.getIndex() ) {\n                    $(e.thumbTarget).css('opacity',1);\n                }\n            } else {\n                $(e.thumbTarget).css('opacity', this.getIndex() ? 1 : 0.6).bind('click:fast', function() {\n                    $(this).css( 'opacity', 1 ).parent().siblings().children().css('opacity', 0.6);\n                });\n            }\n        });\n\n        var activate = function(e) {\n            $(e.thumbTarget).css('opacity',1).parent().siblings().children().css('opacity', 0.6);\n        };\n\n        this.bind('loadstart', function(e) {\n            if (!e.cached) {\n                this.$('loader').show().fadeTo(200, 0.4);\n            }\n            window.setTimeout(function() {\n                activate(e);\n            }, touch ? 300 : 0);\n            this.$('info').toggle( this.hasInfo() );\n        });\n\n        this.bind('loadfinish', function(e) {\n            this.$('loader').fadeOut(200);\n        });\n    }\n});\n\n}(jQuery));\n"],"sourceRoot":"scripts/"}