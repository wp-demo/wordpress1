function UGTheme_tiles(){var n,i,r,t,o,s=new UniteGalleryMain,a=new UGTiles,l=new UGLightbox,d=new UGFunctions,u=new UGTileDesign,_={theme_enable_preloader:!0,theme_preloading_height:200,theme_preloader_vertpos:100,theme_gallery_padding:0,theme_appearance_order:"normal",theme_auto_open:null},h={gallery_width:"100%"},p={showPreloader:!1};function g(e,t){s=e,_=jQuery.extend(_,h),_=jQuery.extend(_,t),function(){1==_.theme_enable_preloader&&(p.showPreloader=!0);switch(_.theme_appearance_order){default:case"normal":break;case"shuffle":s.shuffleItems();break;case"keep":_.tiles_keep_order=!0}}(),s.setOptions(_),s.setFreestyleMode(),i=e.getObjects(),n=jQuery(e),r=i.g_objWrapper,a.init(e,_),l.init(e,_),u=a.getObjTileDesign()}function e(){t&&(t.fadeTo(0,1),r.height(_.theme_preloading_height),d.placeElement(t,"center",_.theme_preloader_vertpos)),function(){t&&s.onEvent(a.events.TILES_FIRST_PLACED,function(){r.height("auto"),t.hide()});jQuery(u).on(u.events.TILE_CLICK,f),n.on(s.events.GALLERY_BEFORE_REQUEST_ITEMS,m),jQuery(l).on(l.events.LIGHTBOX_INIT,y)}(),a.run(),l.run()}function c(){r.addClass("ug-theme-tiles"),r.append("<div class='ug-tiles-wrapper' style='position:relative'></div>"),1==p.showPreloader&&(r.append("<div class='ug-tiles-preloader ug-preloader-trans'></div>"),(t=r.children(".ug-tiles-preloader")).fadeTo(0,0)),o=r.children(".ug-tiles-wrapper"),_.theme_gallery_padding&&r.css({"padding-left":_.theme_gallery_padding+"px","padding-right":_.theme_gallery_padding+"px"}),a.setHtml(o),l.putHtml(),e()}function f(e,t){t=jQuery(t);var n=u.getItemByTile(t).index;l.open(n)}function m(){if(o.hide(),t){t.show();var e=d.getElementSize(t).bottom+30;r.height(e)}}function y(){null!==_.theme_auto_open&&(l.open(_.theme_auto_open),_.theme_auto_open=null)}this.destroy=function(){jQuery(u).off(u.events.TILE_CLICK),s.destroyEvent(a.events.TILES_FIRST_PLACED),n.off(s.events.GALLERY_BEFORE_REQUEST_ITEMS),jQuery(l).off(l.events.LIGHTBOX_INIT),a.destroy(),l.destroy()},this.run=function(){c()},this.addItems=function(){a.runNewItems()},this.init=function(e,t){g(e,t)}}"undefined"!=typeof g_ugFunctions?g_ugFunctions.registerTheme("tiles"):jQuery(document).ready(function(){g_ugFunctions.registerTheme("tiles")});