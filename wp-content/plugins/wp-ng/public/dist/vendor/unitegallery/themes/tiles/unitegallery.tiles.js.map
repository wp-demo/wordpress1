{"version":3,"sources":["ug-theme-tiles.js"],"names":["g_ugFunctions","registerTheme","jQuery","document","ready","UGTheme_tiles","t","this","g_gallery","UniteGalleryMain","g_objGallery","g_objects","g_objWrapper","g_tiles","UGTiles","g_lightbox","UGLightbox","g_objPreloader","g_objTilesWrapper","g_functions","UGFunctions","g_objTileDesign","UGTileDesign","g_options","theme_enable_preloader","theme_preloading_height","theme_preloader_vertpos","theme_gallery_padding","theme_appearance_order","theme_auto_open","g_defaults","gallery_width","g_temp","showPreloader","initTheme","gallery","customOptions","extend","modifyOptions","setOptions","setFreestyleMode","getObjects","init","getObjTileDesign","shuffleItems","tiles_keep_order","setHtml","addClass","append","children","fadeTo","css","padding-left","padding-right","putHtml","actualRun","height","placeElement","initEvents","run","runTheme","initThumbsPanel","objGallerySize","getSize","isVertical","g_objPanel","setWidth","width","setHeight","onTileClick","data","objTile","objItem","getItemByTile","index","open","onBeforeReqestItems","hide","show","preloaderSize","getElementSize","galleryHeight","bottom","onLightboxInit","onEvent","events","TILES_FIRST_PLACED","on","TILE_CLICK","GALLERY_BEFORE_REQUEST_ITEMS","LIGHTBOX_INIT","destroy","off","destroyEvent","addItems","runNewItems"],"mappings":"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","file":"unitegallery.tiles.js","sourcesContent":["\nif(typeof g_ugFunctions != \"undefined\")\n\tg_ugFunctions.registerTheme(\"tiles\");\nelse \n\tjQuery(document).ready(function(){g_ugFunctions.registerTheme(\"tiles\")});\n\n\n/**\n * Grid gallery theme\n */\nfunction UGTheme_tiles(){\n\n\tvar t = this;\n\tvar g_gallery = new UniteGalleryMain(), g_objGallery, g_objects, g_objWrapper; \n\tvar g_tiles = new UGTiles(), g_lightbox = new UGLightbox(), g_objPreloader, g_objTilesWrapper;\n\tvar g_functions = new UGFunctions(), g_objTileDesign = new UGTileDesign();\n\t\n\tvar g_options = {\n\t\t\ttheme_enable_preloader: true,\t\t//enable preloader circle\n\t\t\ttheme_preloading_height: 200,\t\t//the height of the preloading div, it show before the gallery\n\t\t\ttheme_preloader_vertpos: 100,\t\t//the vertical position of the preloader\n\t\t\ttheme_gallery_padding: 0,\t\t\t//the horizontal padding of the gallery from the sides\n\t\t\ttheme_appearance_order: \"normal\",\t//normal, shuffle, keep - the appearance order of the tiles. applying only to columns type\n\t\t\ttheme_auto_open:null\t\t\t\t//auto open lightbox at start\n\t};\n\t\n\tvar g_defaults = {\n\t\t\tgallery_width: \"100%\"\n\t};\n\t\n\t//temp variables\n\tvar g_temp = {\n\t\t\tshowPreloader: false\n\t};\n\t\n\t\n\t/**\n\t * Init the theme\n\t */\n\tfunction initTheme(gallery, customOptions){\n\t\t\n\t\tg_gallery = gallery;\n\t\t\n\t\t//set default options\n\t\tg_options = jQuery.extend(g_options, g_defaults);\n\t\t\n\t\t//set custom options\n\t\tg_options = jQuery.extend(g_options, customOptions);\n\t\t\n\t\tmodifyOptions();\n\t\t\n\t\t//set gallery options\n\t\tg_gallery.setOptions(g_options);\n\t\t\n\t\tg_gallery.setFreestyleMode();\n\t\t\n\t\tg_objects = gallery.getObjects();\n\t\t\n\t\t//get some objects for local use\n\t\tg_objGallery = jQuery(gallery);\t\t\n\t\tg_objWrapper = g_objects.g_objWrapper;\n\t\t\n\t\t//init objects\n\t\tg_tiles.init(gallery, g_options);\n\t\tg_lightbox.init(gallery, g_options);\n\t\t\n\t\tg_objTileDesign = g_tiles.getObjTileDesign();\n\n\t\t\n\t}\n\t\n\t\n\t/**\n\t * modift options\n\t */\n\tfunction modifyOptions(){\n\t\t\n\t\tif(g_options.theme_enable_preloader == true)\n\t\t\tg_temp.showPreloader = true;\n\t\t\n\t\tswitch(g_options.theme_appearance_order){\n\t\t\tdefault:\n\t\t\tcase \"normal\":\n\t\t\tbreak;\n\t\t\tcase \"shuffle\":\n\t\t\t\tg_gallery.shuffleItems();\n\t\t\tbreak;\n\t\t\tcase \"keep\":\n\t\t\t\tg_options.tiles_keep_order = true;\n\t\t\tbreak;\n\t\t}\n\t\t\n\t}\n\n\t\n\t/**\n\t * set gallery html elements\n\t */\n\tfunction setHtml(){\n\t\t\n\t\t//add html elements\n\t\tg_objWrapper.addClass(\"ug-theme-tiles\");\n\t\t\n\t\tg_objWrapper.append(\"<div class='ug-tiles-wrapper' style='position:relative'></div>\");\n\t\t\n\t\t//add preloader\n\t\tif(g_temp.showPreloader == true){\n\t\t\tg_objWrapper.append(\"<div class='ug-tiles-preloader ug-preloader-trans'></div>\");\n\t\t\tg_objPreloader = g_objWrapper.children(\".ug-tiles-preloader\");\n\t\t\tg_objPreloader.fadeTo(0,0);\n\t\t}\n\t\t\n\t\tg_objTilesWrapper = g_objWrapper.children(\".ug-tiles-wrapper\");\n\t\t\n\t\t//set padding\n\t\tif(g_options.theme_gallery_padding)\n\t\t\tg_objWrapper.css({\n\t\t\t\t\"padding-left\":g_options.theme_gallery_padding+\"px\",\n\t\t\t\t\"padding-right\":g_options.theme_gallery_padding+\"px\"\n\t\t\t});\n\t\t\n\t\tg_tiles.setHtml(g_objTilesWrapper);\n\t\tg_lightbox.putHtml();\n\t}\n\t\n\t/**\n\t * actually run the theme\n\t */\n\tfunction actualRun(){\n\t\t\n\t\t//set preloader mode\n\t\tif(g_objPreloader){\n\t\t\tg_objPreloader.fadeTo(0,1);\n\t\t\tg_objWrapper.height(g_options.theme_preloading_height);\n\t\t\tg_functions.placeElement(g_objPreloader, \"center\", g_options.theme_preloader_vertpos);\n\t\t}\n\t\t\n\t\tinitEvents();\n\t\t\n\t\tg_tiles.run();\n\t\tg_lightbox.run();\n\t\t\n\t}\n\n\t\n\t/**\n\t * run the theme\n\t */\n\tfunction runTheme(){\n\t\t\n\t\tsetHtml();\n\t\t\n\t\tactualRun();\n\t\t\n\t}\n\t\n\t\n\t\n\t/**\n\t * init size of the thumbs panel\n\t */\n\tfunction initThumbsPanel(){\n\t\t\n\t\t//set size:\n\t\tvar objGallerySize = g_gallery.getSize();\n\t\t\t\n\t\tif(g_temp.isVertical == false)\t\t\t\n\t\t\tg_objPanel.setWidth(objGallerySize.width);\n\t\telse\n\t\t\tg_objPanel.setHeight(objGallerySize.height);\n\t\t\n\t\tg_objPanel.run();\n\t}\n\t\n\t\n\t/**\n\t * on tile click - open lightbox\n\t */\n\tfunction onTileClick(data, objTile){\n\t\t\n\t\tobjTile = jQuery(objTile);\t\t\n\t\t\n\t\tvar objItem = g_objTileDesign.getItemByTile(objTile);\n\t\tvar index = objItem.index;\t\t\n\t\t\n\t\tg_lightbox.open(index);\n\t}\n\t\n\t\n\t/**\n\t * before items request: hide items, show preloader\n\t */\n\tfunction onBeforeReqestItems(){\n\t\t\t\t\n\t\tg_objTilesWrapper.hide();\n\t\t\n\t\tif(g_objPreloader){\n\t\t\tg_objPreloader.show();\n\t\t\n\t\t\tvar preloaderSize = g_functions.getElementSize(g_objPreloader);\n\t\t\tvar galleryHeight = preloaderSize.bottom + 30;\n\t\t\t\n\t\t\tg_objWrapper.height(galleryHeight);\n\t\t}\n\t\t\n\t}\n\n\t/**\n\t * open lightbox at start if needed\n\t */\n\tfunction onLightboxInit(){\n\n\t\tif(g_options.theme_auto_open !== null){\n\t\t\tg_lightbox.open(g_options.theme_auto_open);\n\t\t\tg_options.theme_auto_open = null;\n\t\t}\n\t\t\n\t}\n\t\n\t\n\t/**\n\t * init buttons functionality and events\n\t */\n\tfunction initEvents(){\n\t\t\n\t\t//remove preloader on tiles first placed\n\t\tif(g_objPreloader){\n\t\t\t\n\t\t\tg_gallery.onEvent(g_tiles.events.TILES_FIRST_PLACED, function(){\n\t\t\t\t\n\t\t\t\tg_objWrapper.height(\"auto\");\n\t\t\t\tg_objPreloader.hide();\n\t\t\t});\t\t\t\n\t\t}\n\t\t\n\t\tjQuery(g_objTileDesign).on(g_objTileDesign.events.TILE_CLICK, onTileClick);\n\t\t\n\t\tg_objGallery.on(g_gallery.events.GALLERY_BEFORE_REQUEST_ITEMS, onBeforeReqestItems);\n\n\t\tjQuery(g_lightbox).on(g_lightbox.events.LIGHTBOX_INIT, onLightboxInit);\n\n\t}\n\t\n\t\n\t/**\n\t * destroy the theme\n\t */\n\tthis.destroy = function(){\n\t\t\t\t\n\t\tjQuery(g_objTileDesign).off(g_objTileDesign.events.TILE_CLICK);\n\t\t\n\t\tg_gallery.destroyEvent(g_tiles.events.TILES_FIRST_PLACED);\n\t\t\t\t\n\t\tg_objGallery.off(g_gallery.events.GALLERY_BEFORE_REQUEST_ITEMS);\n\n\t\tjQuery(g_lightbox).off(g_lightbox.events.LIGHTBOX_INIT);\n\t\t\n\t\tg_tiles.destroy();\n\t\tg_lightbox.destroy();\n\t}\n\t\n\t\n\t/**\n\t * run the theme setting\n\t */\n\tthis.run = function(){\n\t\t\n\t\trunTheme();\n\t}\n\t\n\t\n\t/**\n\t * add items\n\t */\n\tthis.addItems = function(){\n\t\t\n\t\tg_tiles.runNewItems();\n\t}\n\t\n\t\n\t/**\n\t * init \n\t */\n\tthis.init = function(gallery, customOptions){\n\t\t\t\t\n\t\tinitTheme(gallery, customOptions);\n\t\t\n\t}\n\t\n\t\n}\n"],"sourceRoot":"scripts/"}