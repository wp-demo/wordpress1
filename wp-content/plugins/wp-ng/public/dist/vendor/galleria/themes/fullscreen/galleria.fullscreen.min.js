!function(d){Galleria.addTheme({name:"fullscreen",version:"1.5.4",author:"Galleria",css:"galleria.fullscreen.css",defaults:{transition:"none",imageCrop:!0,thumbCrop:"height",easing:"galleriaOut",trueFullscreen:!1,_hideDock:!Galleria.TOUCH,_closeOnClick:!1},init:function(t){Galleria.requires(1.5,"This version of Fullscreen theme requires Galleria version 1.5 or later"),this.addElement("thumbnails-tab"),this.appendChild("thumbnails-container","thumbnails-tab");var e=this.$("thumbnails-tab"),a=this.$("loader"),n=this.$("thumbnails-container"),s=this.$("thumbnails-list"),h=this.$("info-text"),o=this.$("info"),l=!t._hideDock,r=0;Galleria.IE&&(this.addElement("iefix"),this.appendChild("container","iefix"),this.$("iefix").css({zIndex:3,position:"absolute",backgroundColor:this.hasVariation("light")?"#fff":"#000",opacity:.4,top:0})),!1===t.thumbnails&&n.hide();var c=this.proxy(function(i){var t=i.width||d(i).width();(i||t)&&(t=Math.min(t,d(window).width()),h.width(t-40),Galleria.IE&&this.getOptions("showInfo")&&this.$("iefix").width(o.outerWidth()).height(o.outerHeight()))});this.bind("rescale",function(){r=this.getStageHeight()-e.height()-2,n.css("top",l?r-s.outerHeight()+2:r);var i=this.getActiveImage();i&&c(i)}),this.bind("loadstart",function(i){i.cached||a.show().fadeTo(100,1),d(i.thumbTarget).css("opacity",1).parent().siblings().children().css("opacity",.6)}),this.bind("loadfinish",function(i){a.fadeOut(300),this.$("info, iefix").toggle(this.hasInfo())}),this.bind("image",function(i){i.imageTarget&&c(i.imageTarget)}),this.bind("thumbnail",function(i){d(i.thumbTarget).parent(":not(.active)").children().css("opacity",.6),d(i.thumbTarget).on("click:fast",function(){l&&t._closeOnClick&&e.trigger("click:fast")})}),this.trigger("rescale"),Galleria.TOUCH||(this.addIdleState(n,{opacity:0}),this.addIdleState(this.get("info"),{opacity:0}),this.$("image-nav-left, image-nav-right").css("opacity",.01).hover(function(){d(this).animate({opacity:1},100)},function(){d(this).animate({opacity:0})}).show()),Galleria.IE&&this.addIdleState(this.get("iefix"),{opacity:0}),t._hideDock?e.on("click:fast",this.proxy(function(){e.toggleClass("open",!l),l?n.animate({top:r},400,t.easing):n.animate({top:r-s.outerHeight()+2},400,t.easing),l=!l})):(this.bind("thumbnail",function(){n.css("top",r-s.outerHeight()+2)}),e.css("visibility","hidden")),this.$("thumbnails").children().hover(function(){d(this).not(".active").children().stop().fadeTo(100,1)},function(){d(this).not(".active").children().stop().fadeTo(400,.6)}),this.enterFullscreen(),this.attachKeyboard({escape:function(i){return!1},up:function(i){l||e.trigger("click:fast"),i.preventDefault()},down:function(i){l&&e.trigger("click:fast"),i.preventDefault()}})}})}(jQuery);