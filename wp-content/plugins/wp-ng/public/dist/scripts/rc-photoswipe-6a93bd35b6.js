!function(){"use strict";function t(p,t){function e(l,i){return{restrict:"AE",replace:!0,scope:{open:"=",options:"=",slides:"=",slideSelector:"@",templateUrl:"@",onClose:"&"},link:function(s,n,t){var o=function(){var t=document.querySelectorAll(".pswp")[0];p.isUndefined(s.options.getThumbBoundsFn)&&p.isDefined(s.slideSelector)&&(s.options=p.merge({},{getThumbBoundsFn:function(t){var e=document.querySelectorAll(s.slideSelector)[t],n=window.pageYOffset||document.documentElement.scrollTop,o=e.getBoundingClientRect();return{x:o.left,y:o.top+n,w:o.width}}},s.options)),s.gallery=new PhotoSwipe(t,PhotoSwipeUI_Default||!1,s.slides,s.options),s.gallery.init(),s.item=s.gallery.currItem,console.log(s.gallery),s.gallery.listen("destroy",function(){s.safeApply(function(){(s.onClose||p.noop)()})}),s.gallery.listen("afterChange",function(){s.safeApply(function(){s.item=s.gallery.currItem})})};function e(t){p.isDefined(t)&&"$NONE"!==t&&i(t).then(function(t){var e=p.element(t);n.append(l(e)(s))}),s.$broadcast("rcPhotoswipe.templateRendered")}e(s.templateUrl||"rc-photoswipe.tpl.html"),s.$watch("templateUrl",function(){e(s.templateUrl)}),s.start=function(){s.open=!0,o()},s.$watch("open",function(t,e){console.log(t),console.log(e),t!==e?t&&o():!t&&s.gallery&&(s.gallery.close(),s.gallery=null)}),s.safeApply=function(t){var e=this.$root.$$phase;"$apply"===e||"$digest"===e?t&&"function"==typeof t&&t():this.$apply(t)},s.$on("destroy",function(){s.gallery=null})}}}return e.$inject=["$compile","$templateRequest"],p.module("rcPhotoswipe",[]).directive("rcPhotoswipe",e)}"function"==typeof define&&define.amd?define(["angular","photoswipe"],t):"undefined"!=typeof module&&module&&module.exports?(t(angular,require("photoswipe")),module.exports="rcPhotoswipe"):t(angular,("undefined"!=typeof global?global:window).Photoswipe)}(),angular.module("rcPhotoswipe").run(["$templateCache",function(t){t.put("rc-photoswipe.tpl.html",'<div>\n  <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">\n    <div class="pswp__bg"></div>\n    <div class="pswp__scroll-wrap">\n\n        <div class="pswp__container">\n            <div class="pswp__item"></div>\n            <div class="pswp__item"></div>\n            <div class="pswp__item"></div>\n        </div>\n\n        <div class="pswp__ui pswp__ui--hidden">\n            <div class="pswp__top-bar">\n\n                <div class="pswp__counter"></div>\n\n                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>\n\n                <button class="pswp__button pswp__button--share" title="Share"></button>\n\n                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>\n\n                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>\n\n                <div class="pswp__preloader">\n                    <div class="pswp__preloader__icn">\n                      <div class="pswp__preloader__cut">\n                        <div class="pswp__preloader__donut"></div>\n                      </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">\n                <div class="pswp__share-tooltip"></div>\n            </div>\n\n            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">\n            </button>\n\n            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">\n            </button>\n\n            <div class="pswp__caption">\n                <div class="pswp__caption__center"></div>\n            </div>\n        </div>\n    </div>\n  </div>\n</div>\n')}]);