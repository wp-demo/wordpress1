!function(){"use strict";angular.module("ngTinyScrollbar",[]).provider("scrollbar",function(){this.defaults={axis:"y",wheel:!0,wheelSpeed:40,wheelLock:!0,scrollInvert:!1,trackSize:!1,thumbSize:!1,alwaysVisible:!0,autoUpdate:!1},this.$get=function(){return this}}).directive("scrollbar",["$window","$timeout","$parse","$animate","scrollbar",function(M,$,E,V,X){return{restrict:"A",transclude:!0,template:'<div class="scroll-bar"><div class="scroll-thumb"></div></div><div class="scroll-viewport"><div class="scroll-overview" ng-transclude></div></div>',controller:["$scope","$element","$attrs",function(t,a,e){function l(){v.contentRatio<=1&&v.contentPosition>v.contentSize-v.viewportSize?v.contentPosition=v.contentSize-v.viewportSize:1<v.contentRatio&&0<v.contentPosition&&(v.contentPosition=0)}function i(){v.update()}function n(t){var e=t&&t.originalEvent||t||M.event;1===e.touches.length&&(t.stopPropagation(),s(e.touches[0]))}function s(t){f.addClass("scroll-no-select"),a.addClass("scroll-no-select"),v.options.alwaysVisible||w.addClass("visible"),z=g?t.pageX:t.pageY,v.thumbPosition=parseInt(b.css(C),10)||0,P&&(d.on("touchmove",o),d.on("touchend",u)),d.on("mousemove",r),d.on("mouseup",u),b.on("mouseup",u)}function c(t){if(!(1<=v.contentRatio)){v.options.alwaysVisible||(p&&$.cancel(p),w.addClass("visible"),p=$(function(){w.removeClass("visible")},100));var e=t&&t.originalEvent||t||M.event,o=v.options.axis.toUpperCase(),i={X:e.deltaX,Y:e.deltaY},n=0==e.deltaMode?v.options.wheelSpeed:1;v.options.scrollInvert&&(n*=-1),"mousewheel"===y&&(i.Y=-1*e.wheelDelta/40,e.wheelDeltaX&&(i.X=-1*e.wheelDeltaX/40)),i.X*=-1/n,i.Y*=-1/n;var s=i[o];v.contentPosition-=s*v.options.wheelSpeed,v.contentPosition=Math.min(v.contentSize-v.viewportSize,Math.max(0,v.contentPosition)),a[0].dispatchEvent(R),l(),b.css(C,v.contentPosition/v.trackRatio+"px"),S.css(C,-v.contentPosition+"px"),(v.options.wheelLock||v.contentPosition!==v.contentSize-v.viewportSize&&0!==v.contentPosition)&&e.preventDefault(),e.stopPropagation()}}function o(t){var e=t&&t.originalEvent||t||M.event;1===e.touches.length&&(t.preventDefault(),r(e.touches[0]))}function r(t){if(!(1<=v.contentRatio)){var e=g?t.pageX:t.pageY,o=e-z;(v.options.scrollInvert&&"mousemove"===t.type||"mousemove"!==t.type&&!v.options.scrollInvert)&&(o=z-e);var i=Math.min(v.trackSize-v.thumbSize,Math.max(0,v.thumbPosition+o));v.contentPosition=i*v.trackRatio,a[0].dispatchEvent(R),l(),b.css(C,i+"px"),S.css(C,-v.contentPosition+"px")}}function u(){f.removeClass("scroll-no-select"),a.removeClass("scroll-no-select"),v.options.alwaysVisible||w.removeClass("visible"),d.off("mousemove",r),d.off("mouseup",u),b.off("mouseup",u),d.off("touchmove",o),d.off("ontouchend",u)}var h=e.scrollbar;h=h?E(h)(t):{},this.options=angular.extend({},X.defaults,h),this._defaults=X.defaults;var p,v=this,f=angular.element(document.querySelectorAll("body")[0]),d=angular.element(document),m=angular.element(a[0].querySelectorAll(".scroll-viewport")[0]),S=angular.element(a[0].querySelectorAll(".scroll-overview")[0]),w=angular.element(a[0].querySelectorAll(".scroll-bar")[0]),b=angular.element(a[0].querySelectorAll(".scroll-thumb")[0]),z=0,g="x"===this.options.axis,P="ontouchstart"in M,y="onwheel"in document?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",k=g?"width":"height",x=k.charAt(0).toUpperCase()+k.slice(1).toLowerCase(),C=g?"left":"top",R=document.createEvent("HTMLEvents");R.initEvent("move",!0,!0),this.contentPosition=0,this.viewportSize=0,this.contentSize=0,this.contentRatio=0,this.trackSize=0,this.trackRatio=0,this.thumbSize=0,this.thumbPosition=0,this.initialize=function(){return this.options.alwaysVisible||w.css("opacity",0),v.update(),P&&m.on("touchstart",n),b.on("mousedown",s),w.on("mousedown",r),angular.element(M).on("resize",i),v.options.wheel&&a.on(y,c),v.options.autoUpdate&&"function"==typeof MutationObserver&&(e=S[0].offsetWidth,o=S[0].offsetHeight,new MutationObserver(function(){(e!==S[0].offsetWidth||o!==S[0].offsetHeight)&&($.cancel(t),t=$(function(){e=S[0].offsetWidth,o=S[0].offsetHeight,v.update()}))}).observe(a[0],{childList:!0,subtree:!0,characterData:!0,attributes:!0})),v;var t,e,o},this.update=function(t){if(this.viewportSize=m.prop("offset"+x),this.contentSize=S.prop("scroll"+x),this.contentRatio=this.viewportSize/this.contentSize,this.trackSize=this.options.trackSize||this.viewportSize,this.thumbSize=Math.min(this.trackSize,Math.max(0,this.options.thumbSize||this.trackSize*this.contentRatio)),this.trackRatio=this.options.thumbSize?(this.contentSize-this.viewportSize)/(this.trackSize-this.thumbSize):this.contentSize/this.trackSize,z=w.prop("offsetTop"),w.toggleClass("disable",1<=this.contentRatio||isNaN(this.contentRatio)),!this.options.alwaysVisible&&this.contentRatio<1&&0<this.viewportSize&&V.addClass(w,"visible").then(function(){V.removeClass(w,"visible")}),null!=t)switch(t){case"bottom":this.contentPosition=this.contentSize-this.viewportSize;break;default:this.contentPosition=parseInt(t,10)||0}return l(),b.css(C,v.contentPosition/v.trackRatio+"px"),w.css(k,v.trackSize+"px"),b.css(k,v.thumbSize+"px"),S.css(C,-v.contentPosition+"px"),this},this.cleanup=function(){m.off("touchstart",n),b.off("mousedown",s),w.off("mousedown",r),angular.element(M).off("resize",i),a.off(y,c),v.options.alwaysVisible=!0,u()}}],link:function(t,e,o,i){var n=M.getComputedStyle(e[0]).getPropertyValue("position");"relative"!==n&&"absolute"!==n&&e.css("position","relative"),i.initialize(),e.on("$destroy",function(){i.cleanup()})}}}])}();