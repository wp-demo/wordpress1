"object"==typeof exports&&(module.exports="scrollie"),angular.module("scrollie",[]),function(){var t=function(n,e){for(var o,r=["webkit","moz"],a=0;a<r.length&&!o;++a){o=e[r[a]+n]}return o},i=function(n){return/iP(ad|hone|od).*OS 6/.test(n.navigator.userAgent)};Date.now||(Date.now=function(){return(new Date).getTime()}),angular.module("scrollie").factory("requestAnimation",["$timeout","$window",function(r,n){var a,e=n.requestAnimationFrame||t("RequestAnimationFrame",n);return e&&!i(n)||(e=function(n){var e=Date.now(),o=Math.max(a+16,e);return r(function(){n(a=o)},o-e)}),e}]).factory("cancelAnimation",["$timeout","$window",function(n,e){var o=e.cancelAnimationFrame||t("CancelAnimationFrame",e)||t("CancelRequestAnimationFrame",e);return o&&!i(e)||(o=n.cancel),o}])}(),angular.module("scrollie").factory("scrollie",["$q","requestAnimation","cancelAnimation",function(e,c,r){function p(n,e,o,r){return(n/=r/2)<1?o/2*n*n+e:-o/2*(--n*(n-2)-1)+e}function f(n){n.data("___scrollie_animation___",null),n.data("___scrollie_promise___",null)}function d(n){var e=n.data("___scrollie_animation___");e&&r(e);var o=n.data("___scrollie_promise___");o&&o.reject(),f(n)}return{to:function(o,n,r,a){if(angular.isElement(o)&&angular.isNumber(n)){d(o);var t=e.defer();if((r=parseInt(r,10))<=0||isNaN(r))return o[0].scrollTop=n,t.resolve(),t.promise;"function"!=typeof a&&(a=p);var i=o[0].scrollTop,l=n-i,u=0,s=20;return function n(){if(u+=s,o[0].scrollTop=a(u,i,l,r),u<r){var e=c(n,s);o.data("___scrollie_animation___",e)}else f(o),t.resolve()}(),o.data("___scrollie_promise___",t),t.promise}},stop:function(n){d(n)}}}]),"object"==typeof exports&&(module.exports="wheelie"),angular.module("wheelie",[]),angular.module("wheelie").factory("wheelie",[function(){var a=angular.isDefined,t=angular.isFunction;return{bind:function(n,e,o){if(a((e=e||{}).up)&&!t(e.up))throw new Error("The 'up' callback must be a function");if(a(e.down)&&!t(e.down))throw new Error("The 'down' callback must be a function");if(a(e.left)&&!t(e.left))throw new Error("The 'left' callback must be a function");if(a(e.right)&&!t(e.right))throw new Error("The 'right' callback must be a function");if(!(a(e.up)||a(e.down)||a(e.left)||a(e.right)))throw new Error("At least one callback ('up', 'down', 'left' or 'right') must be provided");function r(n){n.originalEvent&&(n=n.originalEvent),o&&angular.element(n.target).hasClass(o)||(n.deltaX&&(n.deltaX<0&&e.left&&e.left(n),0<n.deltaX&&e.right&&e.right(n)),n.deltaY&&(n.deltaY<0&&e.up&&e.up(n),0<n.deltaY&&e.down&&e.down(n)))}n.data("___wheelie_bindWheel___",r),n.on("wheel",r)},unbind:function(n){var e=n.data("___wheelie_bindWheel___");t(e)&&(n.data("___wheelie_bindWheel___",null),n.off("wheel",e))}}}]),"object"==typeof exports&&(module.exports="snapscroll"),angular.module("snapscroll",["wheelie","scrollie"]).value("defaultSnapscrollScrollEasing",void 0).value("defaultSnapscrollScrollDelay",250).value("defaultSnapscrollSnapDuration",800).value("defaultSnapscrollResizeDelay",400).value("defaultSnapscrollBindScrollTimeout",400).value("defaultSnapscrollPreventDoubleSnapDelay",1e3),angular.module("snapscroll").directive("fitWindowHeight",["$window","$timeout","defaultSnapscrollResizeDelay",function(u,s,c){return{restrict:"A",require:"snapscroll",link:function(n,e,o,r){var a,t,i=o.resizeDelay;function l(){!1===i?r.setSnapHeight(u.innerHeight):(s.cancel(t),t=s(function(){r.setSnapHeight(u.innerHeight)},i))}"false"===i?i=!1:(i=parseInt(i,10),isNaN(i)&&(i=c)),r.setSnapHeight(u.innerHeight),(a=angular.element(u)).on("resize",l),n.$on("$destroy",function(){a.off("resize")})}}}]),angular.module("snapscroll").directive("snapscroll",["$timeout","$document","wheelie","scrollie","defaultSnapscrollScrollEasing","defaultSnapscrollScrollDelay","defaultSnapscrollSnapDuration","defaultSnapscrollBindScrollTimeout","defaultSnapscrollPreventDoubleSnapDelay",function(C,E,H,B,N,P,k,T,W){function q(n){return angular.isNumber(n)&&!isNaN(n)}var F=angular.isDefined,K=angular.isUndefined,M=angular.isFunction,z=angular.forEach;return{restrict:"A",scope:{enabled:"=snapscroll",snapIndex:"=?",snapHeight:"=?",beforeSnap:"&",afterSnap:"&",snapAnimation:"=?"},controller:["$scope",function(e){this.setSnapHeight=function(n){e.snapHeight=n}}],link:function(s,t,a){function d(){return t.children()}function v(n){return n.offsetHeight}function h(){return v(t[0])}function g(n){var e=t[0].scrollHeight-h();return e<n?e:n}function r(n,e){var o=n[0],r=K(e)||o!==e[0];if(r){var a=s.beforeSnap({snapIndex:o,$event:s.sourceEvent});if(!1===a)return void(F(e)&&(s.ignoreCompositeIndexChange=!0,s.compositeIndex=e));if(q(a))return void(s.snapIndex=a)}return function(n){var e;e=s.snapAnimation?K(s.snapEasing)?[t,n,s.snapDuration]:[t,n,s.snapDuration,s.snapEasing]:[t,n];var o=i();s.snapDirection=o<n?"down":n<o?"up":"same";return b(),B.to.apply(B,e).then(function(){s.snapDirection=void 0,y(),function(){function n(){s.preventUp=!1,s.preventDown=!1}(s.preventUp||s.preventDown)&&(!1===s.preventDoubleSnapDelay?n():C(n,s.preventDoubleSnapDelay))}()})}(function(n,e){for(var o=n[0],r=n[1],a=0,t=d(),i=0;i<o;i++)a+=v(t[i]);if(0===r)return g(a);var l,u=h(),s=v(t[o]);if(F(e)&&r<e[1]){l=s;for(var c=r;0<=c;c--)l-=u}else{for(var p=l=0;p<r;p++)l+=u;var f=l+u-s;0<f&&(l-=f)}return g(a+l)}(n,e)).then(function(){r&&s.afterSnap({snapIndex:o,$event:s.sourceEvent}),s.sourceEvent=void 0})}function i(){return t[0].scrollTop}function c(){var n=h();if(!n)return!1;var e=d();if(!e.length)return!1;var o=0;return z(e,function(n){o+=v(n)}),!(o<n)}function p(n){return 0<=n&&n<=d().length-1}function l(n,e){if(c())if(K(n))s.snapIndex=0;else{if(!q(n))return q(e)||(e=0),void(s.snapIndex=e);if(n%1==0){if(!0!==s.ignoreSnapIndexChange)return p(n)?void(s.compositeIndex=[n,0]):(p(e)||(e=0),s.ignoreSnapIndexChange=!0,void(s.snapIndex=e));s.ignoreSnapIndexChange=void 0}else s.snapIndex=Math.round(n)}}function u(n,e){if(!K(n)){var o=n[0];s.snapIndex!==o&&(s.ignoreSnapIndexChange=!0,s.snapIndex=o),!0!==s.ignoreCompositeIndexChange?r(n,e):s.ignoreCompositeIndexChange=void 0}}function f(n){var e,o=h(),r=(e=n,v(d()[e]));if(r<=o)return 0;var a=parseInt(r/o,10);return r%o==0&&(a-=1),a}function m(n){var e=n[0],o=n[1];return o<0?[e-1,f(e-1)]:o>f(e)?[e+1,0]:n}function e(n,e){if(c()){if("up"===n&&(s.preventDown=!1),"down"===n&&(s.preventUp=!1),s.snapDirection===n)return!0;if(s.preventUp||s.preventDown)return!0;var o,r=s.compositeIndex[0],a=s.compositeIndex[1];"up"===n&&(o=a-1),"down"===n&&(o=a+1);var t,i,l,u=[r,o];if(i=(t=u)[0],(l=t[1])<0?p(i-1):!(l>f(i))||p(i+1))return"wheel"===e.type&&("up"===n&&(s.preventUp=!0),"down"===n&&(s.preventDown=!0)),s.$apply(function(){s.sourceEvent=e,s.compositeIndex=m(u)}),!0}}function w(n){return e("up",n)}function _(n){return e("down",n)}function S(){s.wheelBound&&(H.unbind(t),s.wheelBound=!1)}function o(n,e){n.css("height",e+"px")}function x(e,n){K(e)||(q(e)?(o(t,e),z(d(),function(n){o(angular.element(n),e)}),F(s.snapIndex)&&(K(s.compositeIndex)&&(s.compositeIndex=[s.snapIndex,0]),r(s.compositeIndex))):q(n)&&(s.snapHeight=n))}function I(n){var e=0,o=0;if(0<n){e=-1;for(var r,a=d();0<n;)n-=r=v(a[++e]);var t=h();if(t<r){for(t<=(n+=r-t)&&o++;0<n;)o++,n-=t;-n<=t/2&&(o+=1)}else-n<=r/2&&(e+=1)}return m([e,o])}function n(){function n(){var n=I(i());s.compositeIndex[0]===n[0]&&s.compositeIndex[1]===n[1]?r(s.compositeIndex):s.$apply(function(){s.compositeIndex=n})}B.stop(t),!1===s.scrollDelay?n():(C.cancel(s.scrollPromise),s.scrollPromise=C(function(){n(),s.scrollPromise=void 0},s.scrollDelay))}function D(){s.preventSnappingAfterManualScroll||s.scrollBound||(F(s.snapDirection)?y():(t.on("scroll",n),s.scrollBound=!0))}function b(){s.scrollBound&&(t.off("scroll",n),s.scrollBound=!1)}function y(){s.preventSnappingAfterManualScroll||(s.bindScrollPromise&&C.cancel(s.bindScrollPromise),s.bindScrollPromise=C(function(){D(),s.bindScrollPromise=void 0},T))}function A(n){var e;n.originalEvent&&(n=n.originalEvent);var o=n.keyCode;38===o&&(e=w),40===o&&(e=_),e&&(n.preventDefault(),e(n))}function $(){s.arrowKeysBound&&(E.off("keydown",A),s.arrowKeysBound=!1)}!function(){var n=a.scrollDelay;s.scrollDelay="false"!==n&&(n=parseInt(n,10),isNaN(n)&&(n=P),n);var e=a.preventDoubleSnapDelay;s.preventDoubleSnapDelay="false"!==e&&(e=parseInt(e,10),isNaN(e)&&(e=W),e);var o=a.snapEasing;F(o)?s.snapEasing=s.$parent.$eval(o):M(N)&&(s.snapEasing=N);var r=parseInt(a.snapDuration,10);isNaN(r)&&(r=k),s.snapDuration=r,K(s.snapAnimation)&&(s.snapAnimation=!0),s.disableWheelBinding=F(a.disableWheelBinding),s.enableArrowKeys=F(a.enableArrowKeys),s.preventSnappingAfterManualScroll=F(a.preventSnappingAfterManualScroll),s.ignoreWheelClass=a.ignoreWheelClass,"scroll"!==t.css("overflowY")&&t.css("overflowY","auto"),s.$watch("enabled",function(n,e){!1!==n?(!1===e&&(s.preventSnappingAfterManualScroll||(s.compositeIndex=I(i()))),s.unwatchCompositeIndex=s.$watchCollection("compositeIndex",u),s.unwatchSnapIndex=s.$watch("snapIndex",l),s.unwatchSnapHeight=s.$watch("snapHeight",x),D(),s.disableWheelBinding||s.wheelBound||(H.bind(t,{up:function(n){n.preventDefault(),w(n)&&n.stopPropagation()},down:function(n){n.preventDefault(),_(n)&&n.stopPropagation()}},s.ignoreWheelClass),s.wheelBound=!0),s.enableArrowKeys&&!s.arrowKeysBound&&(E.on("keydown",A),s.arrowKeysBound=!0)):(M(s.unwatchCompositeIndex)&&(s.unwatchCompositeIndex(),s.unwatchCompositeIndex=void 0),M(s.unwatchSnapIndex)&&(s.unwatchSnapIndex(),s.unwatchSnapIndex=void 0),M(s.unwatchSnapHeight)&&(s.unwatchSnapHeight(),s.unwatchSnapHeight=void 0),b(),S(),$())}),s.$on("$destroy",function(){!1!==s.enabled&&(b(),S(),$())})}()}}}]);