!function(s,p){"use strict";function e(o,c){return{restrict:"A",require:"ngModel",scope:{value:"=ngModel",trTrustpass:"=trTrustpass"},link:function(t,s,e,n,i){t.isAllValid=!1,t.checklist={},t.options=p.extend({lowercase:!0,uppercase:!0,number:!0,special:!0,minimum:!0,maximum:!1,word:!1,toggle:!1,minlength:8,maxlength:50,keepHeight:!1,messageGuide:"",lowercaseLabel:"One lowercase character",uppercaseLabel:"One uppercase character",numberLabel:"One number",specialLabel:"One special character",minimumLabel:"characters minimum",maximumLabel:"characters maximum",wordLabel:"Alphanumeric characters",messageDone:"Great! Your password is secure."},t.trTrustpass),(e.ngMaxlength||e.maxlength)&&(t.options.maxlength=e.ngMaxlength||e.maxlength);(e.ngMinlength||e.minlength)&&(t.options.minlength=e.ngMinlength||e.minlength);var l={word:function(s){return!(!s||!/[\w]/.test(s))},lowercase:function(s){return!(!s||!/[a-z]/.test(s))},uppercase:function(s){return!(!s||!/[A-Z]/.test(s))},number:function(s){return!(!s||!/\d/.test(s))},special:function(s){return!(!s||!/[_\W]/.test(s))},minimum:function(s){return!!(s&&s.length>=t.options.minlength)},maximum:function(s){return!!(s&&s.length<=t.options.maxlength)}};n.$parsers.unshift(r),t.$watch("value",r),n.$render=function(){n.$viewValue&&s.val(n.$viewValue)},n.$setPristine=function(){n.$setViewValue(""),n.$dirty=!1,n.$pristine=!0},t.isVisible=!t.options.toggle,t.options.toggle&&(t.isVisible=!1,s.bind("focus",function(){t.isVisible=!0,t.$apply()}).bind("blur",function(){t.isVisible=!1,t.$apply()}));var a=p.element('<section class="trustpass" ng-show="isVisible" ng-style="{height: (options.keepHeight ? initialHeight : \'auto\')}"><div class="trustpass-guide" ng-if="isVisible && !isAllValid && options.messageGuide" ng-bind="options.messageGuide"></div><ul class="trustpass-checklist" ng-show="isVisible && !isAllValid"><li ng-class="{ \'trustpass-nope\': !checklist.word,      \'trustpass-yep\': checklist.word      }" ng-if="options.word">{{ ::options.wordLabel }}</li><li ng-class="{ \'trustpass-nope\': !checklist.lowercase, \'trustpass-yep\': checklist.lowercase }" ng-if="options.lowercase">{{ ::options.lowercaseLabel }}</li><li ng-class="{ \'trustpass-nope\': !checklist.uppercase, \'trustpass-yep\': checklist.uppercase }" ng-if="options.uppercase">{{ ::options.uppercaseLabel }}</li><li ng-class="{ \'trustpass-nope\': !checklist.number,    \'trustpass-yep\': checklist.number    }" ng-if="options.number">{{ ::options.numberLabel }}</li><li ng-class="{ \'trustpass-nope\': !checklist.special,   \'trustpass-yep\': checklist.special   }" ng-if="options.special">{{ ::options.specialLabel }}</li><li ng-class="{ \'trustpass-nope\': !checklist.minimum,   \'trustpass-yep\': checklist.minimum   }" ng-if="options.minimum">{{ ::options.minlength }} {{ ::options.minimumLabel }}</li><li ng-class="{ \'trustpass-nope\': !checklist.maximum,   \'trustpass-yep\': checklist.maximum   }" ng-if="options.maximum">{{ ::options.maxlength }} {{ ::options.maximumLabel }}</li></ul><div class="trustpass-done" ng-show="isVisible && isAllValid" ng-bind="options.messageDone"></div></section>');s[0].parentNode.insertBefore(a[0],s[0].nextSibling),o(a)(t),t.options.keepHeight&&c(function(){t.initialHeight=s[0].nextSibling.clientHeight+"px"});function r(s){var e={};for(var i in l)!0===t.options[i]&&(e[i]=!!l.hasOwnProperty(i)&&l[i](s));return t.checklist=e,t.isAllValid=function(s){for(var e in s)if(!1===s[e])return!1;return!0}(e),n.$setValidity("trustpass",t.isAllValid),s}}}}p.module("trTrustpass",[]).directive("trTrustpass",e),e.$inject=["$compile","$timeout"]}(window,window.angular);