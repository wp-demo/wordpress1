"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,M,R){"use strict";var F,N=M.isDefined,d=M.isFunction,D=M.isString,U=M.isObject,T=M.isArray,L=M.forEach,z=M.extend,H=M.copy,$=M.toJson;function J(e,t){return z(new(z(function(){},{prototype:e})),t)}function b(r){return L(arguments,function(e){e!==r&&L(e,function(e,t){r.hasOwnProperty(t)||(r[t]=e)})}),r}function K(e){if(Object.keys)return Object.keys(e);var r=[];return L(e,function(e,t){r.push(t)}),r}function Y(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var r=e.length>>>0,n=Number(arguments[2])||0;for((n=n<0?Math.ceil(n):Math.floor(n))<0&&(n+=r);n<r;n++)if(n in e&&e[n]===t)return n;return-1}function B(e,t,r,n){var a,i=function(e,t){var r=[];for(var n in e.path){if(e.path[n]!==t.path[n])break;r.push(e.path[n])}return r}(r,n),o={},u=[];for(var s in i)if(i[s]&&i[s].params&&(a=K(i[s].params)).length)for(var l in a)0<=Y(u,a[l])||(u.push(a[l]),o[a[l]]=e[a[l]]);return z({},o,t)}function G(e,t){var r={};return L(e,function(e){r[e]=t[e]}),r}function X(t){var r={},e=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return L(e,function(e){e in t&&(r[e]=t[e])}),r}function S(e){var t={},r=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var n in e)-1==Y(r,n)&&(t[n]=e[n]);return t}function x(e,r){var n=T(e),a=n?[]:{};return L(e,function(e,t){r(e,t)&&(a[n?a.length:t]=e)}),a}function Z(e,r){var n=T(e)?[]:{};return L(e,function(e,t){n[t]=r(e,t)}),n}function _(e){return e.then(R,function(){})&&e}function t(m,g){var e={},u=[],y=e,w=z(m.when(e),{$$promises:e,$$values:e});this.study=function(a){if(!U(a))throw new Error("'invocables' must be an object");var $=K(a||{}),v=[],i=[],o={};function d(e){return U(e)&&e.then&&e.$$promises}return L(a,function t(e,r){if(2!==o[r]){if(i.push(r),1===o[r])throw i.splice(0,Y(i,r)),new Error("Cyclic dependency: "+i.join(" -> "));if(o[r]=1,D(e))v.push(r,[function(){return g.get(e)}],u);else{var n=g.annotate(e);L(n,function(e){e!==r&&a.hasOwnProperty(e)&&t(a[e],e)}),v.push(r,e,n)}i.pop(),o[r]=2}}),a=i=o=null,function(u,e,s){if(d(u)&&s===R&&(s=e,e=u,u=null),u){if(!U(u))throw new Error("'locals' must be an object")}else u=y;if(e){if(!d(e))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else e=w;var t=m.defer(),l=_(t.promise),c=l.$$promises={},f=z({},u),r=1+v.length/3,n=!1;function p(){--r||(n||b(f,e.$$values),l.$$values=f,l.$$promises=l.$$promises||!0,delete l.$$inheritedValues,t.resolve(f))}function h(e){l.$$failure=e,t.reject(e)}if(_(l),N(e.$$failure))return h(e.$$failure),l;e.$$inheritedValues&&b(f,S(e.$$inheritedValues,$)),z(c,e.$$promises),e.$$values?(n=b(f,S(e.$$values,$)),l.$$inheritedValues=S(e.$$values,$),p()):(e.$$inheritedValues&&(l.$$inheritedValues=S(e.$$inheritedValues,$)),e.then(p,h));for(var a=0,i=v.length;a<i;a+=3)u.hasOwnProperty(v[a])?p():o(v[a],v[a+1],v[a+2]);function o(t,e,r){var n=m.defer(),a=0;function i(e){n.reject(e),h(e)}function o(){if(!N(l.$$failure))try{n.resolve(g.invoke(e,s,f)),n.promise.then(function(e){f[t]=e,p()},i)}catch(e){i(e)}}L(r,function(t){c.hasOwnProperty(t)&&!u.hasOwnProperty(t)&&(a++,c[t].then(function(e){f[t]=e,--a||o()},i))}),a||o(),c[t]=_(n.promise)}return l}},this.resolve=function(e,t,r,n){return this.study(e)(t,r,n)}}function a(r,n,a,i){this.fromConfig=function(e,t,r){return N(e.template)?this.fromString(e.template,t):N(e.templateUrl)?this.fromUrl(e.templateUrl,t):N(e.templateProvider)?this.fromProvider(e.templateProvider,t,r):null},this.fromString=function(e,t){return d(e)?e(t):e},this.fromUrl=function(e,t){return d(e)&&(e=e(t)),null==e?null:i?r.get(e,{cache:n,headers:{Accept:"text/html"}}).then(function(e){return e.data}):a.get("$templateRequest")(e)},this.fromProvider=function(e,t,r){return a.invoke(e,null,r||{params:t})}}function l(u,s,e){s=z({params:{}},U(s)?s:{});var t,r,n,a,i=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,o=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l="^",c=0,f=this.segments=[],p=e?e.params:{},h=this.params=e?e.params.$$new():new F.ParamSet,$=[];function v(e,t,r,n){if($.push(e),p[e])return p[e];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(e))throw new Error("Invalid parameter name '"+e+"' in pattern '"+u+"'");if(h[e])throw new Error("Duplicate parameter name '"+e+"' in pattern '"+u+"'");return h[e]=new F.Param(e,t,r,n),h[e]}function d(e,t,r,n){var a=["",""],i=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return i;switch(r){case!1:a=["(",")"+(n?"?":"")];break;case!0:i=i.replace(/\/$/,""),a=["(?:/(",")|/)?"];break;default:a=["("+r+"|",")?"]}return i+a[0]+t+a[1]}function m(e,t){var r,n,a,i,o;return r=e[2]||e[3],o=s.params[r],a=u.substring(c,e.index),(n=t?e[4]:e[4]||("*"==e[1]?".*":null))&&(i=F.type(n)||J(F.type("string"),{pattern:new RegExp(n,s.caseInsensitive?"i":R)})),{id:r,regexp:n,segment:a,type:i,cfg:o}}for(this.source=u;(t=i.exec(u))&&!(0<=(r=m(t,!1)).segment.indexOf("?"));)n=v(r.id,r.type,r.cfg,"path"),l+=d(r.segment,n.type.pattern.source,n.squash,n.isOptional),f.push(r.segment),c=i.lastIndex;var g=(a=u.substring(c)).indexOf("?");if(0<=g){var y=this.sourceSearch=a.substring(g);if(a=a.substring(0,g),this.sourcePath=u.substring(0,c+g),0<y.length)for(c=0;t=o.exec(y);)n=v((r=m(t,!0)).id,r.type,r.cfg,"search"),c=i.lastIndex}else this.sourcePath=u,this.sourceSearch="";l+=d(a)+(!1===s.strict?"/?":"")+"$",f.push(a),this.regexp=new RegExp(l,s.caseInsensitive?"i":R),this.prefix=f[0],this.$$paramNames=$}function P(e){z(this,e)}function r(h,u){var s,l=[],$=null,v=!1;function c(e,t,r){if(!r)return!1;var n=e.invoke(t,t,{$match:r});return!N(n)||n}function e(c,e,a,t,f){var i,p=t.baseHref(),r=c.url();function n(e){if(!e||!e.defaultPrevented){i&&c.url();i=R;var t,r=l.length;for(t=0;t<r;t++)if(n(l[t]))return;$&&n($)}function n(e){var t=e(a,c);return!!t&&(D(t)&&c.replace().url(t),!0)}}function o(){return s=s||e.$on("$locationChangeSuccess",n)}return v||o(),{sync:function(){n()},listen:function(){return o()},update:function(e){e?r=c.url():c.url()!==r&&(c.url(r),c.replace())},push:function(e,t,r){var n=e.format(t||{});null!==n&&t&&t["#"]&&(n+="#"+t["#"]),c.url(n),i=r&&r.$$avoidResync?c.url():R,r&&r.replace&&c.replace()},href:function(e,t,r){if(!e.validates(t))return null;var n=h.html5Mode();M.isObject(n)&&(n=n.enabled),n=n&&f.history;var a,i,o,u=e.format(t);if(r=r||{},n||null===u||(u="#"+h.hashPrefix()+u),null!==u&&t&&t["#"]&&(u+="#"+t["#"]),a=u,i=n,o=r.absolute,u="/"===p?a:i?p.slice(0,-1)+a:o?p.slice(1)+a:a,!r.absolute||!u)return u;var s=!n&&u?"/":"",l=c.port();return l=80===l||443===l?"":":"+l,[c.protocol(),"://",c.host(),l,s,u].join("")}}}this.rule=function(e){if(!d(e))throw new Error("'rule' must be a function");return l.push(e),this},this.otherwise=function(e){if(D(e)){var t=e;e=function(){return t}}else if(!d(e))throw new Error("'rule' must be a function");return $=e,this},this.when=function(e,t){var a,i=D(t);if(D(e)&&(e=u.compile(e)),!i&&!d(t)&&!T(t))throw new Error("invalid 'handler' in when()");var r={matcher:function(r,n){return i&&(a=u.compile(n),n=["$match",function(e){return a.format(e)}]),z(function(e,t){return c(e,n,r.exec(t.path(),t.search()))},{prefix:D(r.prefix)?r.prefix:""})},regex:function(r,n){if(r.global||r.sticky)throw new Error("when() RegExp must not be global or sticky");return i&&(a=n,n=["$match",function(e){return r=e,a.replace(/\$(\$|\d{1,2})/,function(e,t){return r["$"===t?0:Number(t)]});var r}]),z(function(e,t){return c(e,n,r.exec(t.path()))},{prefix:(e=r,t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source),null!=t?t[1].replace(/\\(.)/g,"$1"):"")});var e,t}},n={matcher:u.isMatcher(e),regex:e instanceof RegExp};for(var o in n)if(n[o])return this.rule(r[o](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===R&&(e=!0),v=e},(this.$get=e).$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function n(o,n){var O,k,f={},u={},I="abstract",s={parent:function(e){if(N(e.parent)&&e.parent)return V(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?V(t[1]):O},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=J(e.parent.data,e.data)),e.data},url:function(e){var t=e.url,r={params:e.params||{}};if(D(t))return"^"==t.charAt(0)?n.compile(t.substring(1),r):(e.parent.navigable||O).url.concat(t,r);if(!t||n.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var r=e.url&&e.url.params||new F.ParamSet;return L(e.params||{},function(e,t){r[t]||(r[t]=new F.Param(t,null,e,"config"))}),r},params:function(e){var t=X(e.ownParams,e.ownParams.$$keys());return e.parent&&e.parent.params?z(e.parent.params.$$new(),t):new F.ParamSet},views:function(r){var n={};return L(N(r.views)?r.views:{"":r},function(e,t){t.indexOf("@")<0&&(t+="@"+r.parent.name),e.resolveAs=e.resolveAs||r.resolveAs||"$resolve",n[t]=e}),n},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?z({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};function V(e,t){if(!e)return R;var r,n=D(e),a=n?e:e.name;if(0===(r=a).indexOf(".")||0===r.indexOf("^")){if(!t)throw new Error("No reference point given for path '"+a+"'");t=V(t);for(var i=a.split("."),o=0,u=i.length,s=t;o<u;o++)if(""!==i[o]||0!==o){if("^"!==i[o])break;if(!s.parent)throw new Error("Path '"+a+"' not valid for state '"+t.name+"'");s=s.parent}else s=t;i=i.slice(o).join("."),a=s.name+(s.name&&i?".":"")+i}var l=f[a];return!l||!n&&(n||l!==e&&l.self!==e)?R:l}function l(r){var e=(r=J(r,{self:r,resolve:r.resolve||{},toString:function(){return this.name}})).name;if(!D(e)||0<=e.indexOf("@"))throw new Error("State must have a valid name");if(f.hasOwnProperty(e))throw new Error("State '"+e+"' is already defined");var t,n,a=-1!==e.indexOf(".")?e.substring(0,e.lastIndexOf(".")):D(r.parent)?r.parent:U(r.parent)&&D(r.parent.name)?r.parent.name:"";if(a&&!f[a])return t=a,n=r.self,u[t]||(u[t]=[]),void u[t].push(n);for(var i in s)d(s[i])&&(r[i]=s[i](r,s.$delegates[i]));return!(f[e]=r)[I]&&r.url&&o.when(r.url,["$match","$stateParams",function(e,t){k.$current.navigable==r&&function(e,t,r){if(!r)for(var n in r=[],e)r.push(n);for(var a=0;a<r.length;a++){var i=r[a];if(e[i]!=t[i])return!1}return!0}(e,t)||k.transitionTo(r,e,{inherit:!0,location:!1})}]),function(e){for(var t=u[e]||[];t.length;)l(t.shift())}(e),r}function e(y,w,l,b,c,S,E,e,t){var x=new Error("transition superseded"),P=_(w.reject(x)),j=_(w.reject(new Error("transition prevented"))),A=_(w.reject(new Error("transition aborted"))),C=_(w.reject(new Error("transition failed")));function q(i,e,t,r,o,u){var s=t?e:G(i.params.$$keys(),e),n={$stateParams:s};o.resolve=c.resolve(i.resolve,n,o.resolve,i);var a=[o.resolve.then(function(e){o.globals=e})];return r&&a.push(r),w.all(a).then(function(){var e=[];return L(i.views,function(r,n){var a=r.resolve&&r.resolve!==i.resolve?r.resolve:{};a.$template=[function(){return l.load(n,{view:r,locals:o.globals,params:s,notify:u.notify})||""}],e.push(c.resolve(a,o.globals,o.resolve,i).then(function(e){if(d(r.controllerProvider)||T(r.controllerProvider)){var t=M.extend({},a,o.globals);e.$$controller=b.invoke(r.controllerProvider,null,t)}else e.$$controller=r.controller;e.$$state=i,e.$$controllerAs=r.controllerAs,e.$$resolveAs=r.resolveAs,o[n]=e}))}),w.all(e).then(function(){return o.globals})}).then(function(e){return o})}return O.locals={resolve:null,globals:{$stateParams:{}}},(k={params:{},current:O.self,$current:O,transition:null,reload:function(e){return k.transitionTo(k.current,S,{reload:e||!0,inherit:!1,notify:!0})},go:function(e,t,r){return k.transitionTo(e,t,z({inherit:!0,relative:k.$current},r))}}).transitionTo=function(n,a,i){a=a||{},i=z({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},i||{});var o=k.$current,u=k.params,s=o.path,e=V(n,i.relative),t=a["#"];if(!N(e)){var r={to:n,toParams:a,options:i},l=function(e,t,r,n){var a=y.$broadcast("$stateNotFound",e,t,r);if(a.defaultPrevented)return E.update(),A;if(!a.retry)return null;if(n.$retry)return E.update(),C;var i=k.transition=w.when(a.retry);return i.then(function(){return i!==k.transition?(y.$broadcast("$stateChangeCancel",e.to,e.toParams,t,r),P):(e.options.$retry=!0,k.transitionTo(e.to,e.toParams,e.options))},function(){return A}),E.update(),i}(r,o.self,u,i);if(l)return l;if(a=r.toParams,e=V(n=r.to,(i=r.options).relative),!N(e)){if(!i.relative)throw new Error("No such state '"+n+"'");throw new Error("Could not resolve '"+n+"' from state '"+i.relative+"'")}}if(e[I])throw new Error("Cannot transition to abstract state '"+n+"'");if(i.inherit&&(a=B(S,a||{},k.$current,e)),!e.params.$$validates(a))return C;a=e.params.$$values(a);var c=(n=e).path,f=0,p=c[f],h=O.locals,$=[];if(i.reload){if(D(i.reload)||U(i.reload)){if(U(i.reload)&&!i.reload.name)throw new Error("Invalid reload state object");var v=!0===i.reload?s[0]:V(i.reload);if(i.reload&&!v)throw new Error("No such reload state '"+(D(i.reload)?i.reload:i.reload.name)+"'");for(;p&&p===s[f]&&p!==v;)h=$[f]=p.locals,p=c[++f]}}else for(;p&&p===s[f]&&p.ownParams.$$equals(a,u);)h=$[f]=p.locals,p=c[++f];if(function(e,t,r,n,a,i){if(!i.reload&&e===r&&(a===r.locals||!1===e.self.reloadOnSearch&&function(t,e,r){function n(e){return"search"!=t.params[e].location}var a=t.params.$$keys().filter(n),i=X.apply({},[t.params].concat(a));return new F.ParamSet(i).$$equals(e,r)}(r,n,t)))return!0}(n,a,o,u,h,i))return t&&(a["#"]=t),k.params=a,H(k.params,S),H(G(n.params.$$keys(),S),n.locals.globals.$stateParams),i.location&&n.navigable&&n.navigable.url&&(E.push(n.navigable.url,a,{$$avoidResync:!0,replace:"replace"===i.location}),E.update(!0)),k.transition=null,w.when(k.current);if(a=G(n.params.$$keys(),a||{}),t&&(a["#"]=t),i.notify&&y.$broadcast("$stateChangeStart",n.self,a,o.self,u,i).defaultPrevented)return y.$broadcast("$stateChangeCancel",n.self,a,o.self,u),null==k.transition&&E.update(),j;for(var d=w.when(h),m=f;m<c.length;p=c[++m])h=$[m]=J(h),d=q(p,a,p===n,d,h,i);var g=k.transition=d.then(function(){var e,t,r;if(k.transition!==g)return y.$broadcast("$stateChangeCancel",n.self,a,o.self,u),P;for(e=s.length-1;f<=e;e--)(r=s[e]).self.onExit&&b.invoke(r.self.onExit,r.self,r.locals.globals),r.locals=null;for(e=f;e<c.length;e++)(t=c[e]).locals=$[e],t.self.onEnter&&b.invoke(t.self.onEnter,t.self,t.locals.globals);return k.transition!==g?(y.$broadcast("$stateChangeCancel",n.self,a,o.self,u),P):(k.$current=n,k.current=n.self,k.params=a,H(k.params,S),k.transition=null,i.location&&n.navigable&&E.push(n.navigable.url,n.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===i.location}),i.notify&&y.$broadcast("$stateChangeSuccess",n.self,a,o.self,u),E.update(!0),k.current)}).then(null,function(e){return e===x?P:k.transition!==g?(y.$broadcast("$stateChangeCancel",n.self,a,o.self,u),P):(k.transition=null,y.$broadcast("$stateChangeError",n.self,a,o.self,u,e).defaultPrevented||E.update(),w.reject(e))});return _(g),g},k.is=function(e,n,t){var a=V(e,(t=z({relative:k.$current},t||{})).relative);return N(a)?k.$current===a&&(!n||K(n).reduce(function(e,t){var r=a.params[t];return e&&(!r||r.type.equals(S[t],n[t]))},!0)):R},k.includes=function(e,n,t){if(t=z({relative:k.$current},t||{}),D(e)&&-1<e.indexOf("*")){if(!function(e){for(var t=e.split("."),r=k.$current.name.split("."),n=0,a=t.length;n<a;n++)"*"===t[n]&&(r[n]="*");return"**"===t[0]&&(r=r.slice(Y(r,t[1]))).unshift("**"),"**"===t[t.length-1]&&(r.splice(Y(r,t[t.length-2])+1,Number.MAX_VALUE),r.push("**")),t.length==r.length&&r.join("")===t.join("")}(e))return!1;e=k.$current.name}var a=V(e,t.relative);if(!N(a))return R;if(!N(k.$current.includes[a.name]))return!1;if(!n)return!0;for(var r=K(n),i=0;i<r.length;i++){var o=r[i],u=a.params[o];if(u&&!u.type.equals(S[o],n[o]))return!1}return K(n).reduce(function(e,t){var r=a.params[t];return e&&!r||r.type.equals(S[t],n[t])},!0)},k.href=function(e,t,r){var n=V(e,(r=z({lossy:!0,inherit:!0,absolute:!1,relative:k.$current},r||{})).relative);if(!N(n))return null;r.inherit&&(t=B(S,t||{},k.$current,n));var a=n&&r.lossy?n.navigable:n;return a&&a.url!==R&&null!==a.url?E.href(a.url,G(n.params.$$keys().concat("#"),t||{}),{absolute:r.absolute}):null},k.get=function(e,t){if(0===arguments.length)return Z(K(f),function(e){return f[e].self});var r=V(e,t||k.$current);return r&&r.self?r.self:null},k}(O=l({name:"",url:"^",views:null,abstract:!0})).navigable=null,this.decorator=function(e,t){if(D(e)&&!N(t))return s[e];if(!d(t)||!D(e))return this;s[e]&&!s.$delegates[e]&&(s.$delegates[e]=s[e]);return s[e]=t,this},this.state=function(e,t){U(e)?t=e:t.name=e;return l(t),this},(this.$get=e).$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function i(){function e(e,n){return{load:function(e,t){var r;return(t=z({template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}},t)).view&&(r=n.fromConfig(t.view,t.params,t.locals)),r}}}(this.$get=e).$inject=["$rootScope","$templateFactory"]}function o(v,t,d,m,g){var e=t.has?function(e){return t.has(e)?t.get(e):null}:function(e){try{return t.get(e)}catch(e){return null}},r=e("$animator"),y=e("$animate");return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(e,t,$){return function(a,i,o){var u,s,l,c,f=o.onload||"",p=o.autoscroll,h=function(e,t){if(y)return{enter:function(e,t,r){2<M.version.minor?y.enter(e,null,t).then(r):y.enter(e,null,t,r)},leave:function(e,t){2<M.version.minor?y.leave(e).then(t):y.leave(e,t)}};if(r){var n=r&&r(t,e);return{enter:function(e,t,r){n.enter(e,null,t),r()},leave:function(e,t){n.leave(e),t()}}}return{enter:function(e,t,r){t.after(e),r()},leave:function(e,t){e.remove(),t()}}}(o,a);i.inheritedData("$uiView");function e(e){var t,r=w(a,o,i,m),n=r&&v.$current&&v.$current.locals[r];(e||n!==c)&&(t=a.$new(),c=v.$current.locals[r],t.$emit("$viewContentLoading",r),s=$(t,function(e){var t=g.defer(),r=g.defer(),n={$animEnter:t.promise,$animLeave:r.promise,$$animLeave:r};e.data("$uiViewAnim",n),h.enter(e,i,function(){t.resolve(),l&&l.$emit("$viewContentAnimationEnded"),(M.isDefined(p)&&!p||a.$eval(p))&&d(e)}),function(){if(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),s){var e=s.data("$uiViewAnim");h.leave(s,function(){e.$$animLeave.resolve(),u=null}),u=s,s=null}}()}),(l=t).$emit("$viewContentLoaded",r),l.$eval(f))}a.$on("$stateChangeSuccess",function(){e(!1)}),e(!0)}}}}function u(c,f,p,h){return{restrict:"ECA",priority:-400,compile:function(e){var l=e.html();return e.empty?e.empty():e[0].innerHTML=null,function(e,t,r){var n=p.$current,a=w(e,r,t,h),i=n&&n.locals[a];if(!i)return t.html(l),void c(t.contents())(e);t.data("$uiView",{name:a,state:i.$$state}),t.html(i.$template?i.$template:l);var o=M.extend({},i);e[i.$$resolveAs]=o;var u=c(t.contents());if(i.$$controller){i.$scope=e,i.$element=t;var s=f(i.$$controller,i);i.$$controllerAs&&(e[i.$$controllerAs]=s,e[i.$$controllerAs][i.$$resolveAs]=o),d(s.$onInit)&&s.$onInit(),t.data("$ngControllerController",s),t.children().data("$ngControllerController",s)}u(e)}}}}function w(e,t,r,n){var a=n(t.uiView||t.name||"")(e),i=r.inheritedData("$uiView");return 0<=a.indexOf("@")?a:a+"@"+(i?i.state.name:"")}function v(e,t){var r,n=e.match(/^\s*({[^}]*})\s*$/);if(n&&(e=t+"("+n[1]+")"),!(r=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/))||4!==r.length)throw new Error("Invalid state ref '"+e+"'");return{state:r[1],paramExpr:r[3]||null}}function m(e){var t=e.parent().inheritedData("$uiView");if(t&&t.state&&t.state.name)return t.state}function g(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),r="FORM"===e[0].nodeName;return{attr:r?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!r}}function y(i,o,u,s,l){return function(e){var t=e.which||e.button,r=l();if(!(1<t||e.ctrlKey||e.metaKey||e.shiftKey||i.attr("target"))){var n=u(function(){o.go(r.state,r.params,r.options)});e.preventDefault();var a=s.isAnchor&&!r.href?1:0;e.preventDefault=function(){a--<=0&&u.cancel(n)}}}}function s(p,h){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(e,t,r,n){var a,i,o=v(r.uiSref,p.current.name),u={state:o.state,href:null,params:null},s=g(t),l=n[1]||n[0],c=null;u.options=z((i=p,{relative:m(t)||i.$current,inherit:!0}),r.uiSrefOpts?e.$eval(r.uiSrefOpts):{});var f=function(e){e&&(u.params=M.copy(e)),u.href=p.href(o.state,u.params,u.options),c&&c(),l&&(c=l.$$addStateInfo(o.state,u.params)),null!==u.href&&r.$set(s.attr,u.href)};o.paramExpr&&(e.$watch(o.paramExpr,function(e){e!==u.params&&f(e)},!0),u.params=M.copy(e.$eval(o.paramExpr))),f(),s.clickable&&(a=y(t,p,h,s,function(){return u}),t[t.on?"on":"bind"]("click",a),e.$on("$destroy",function(){t[t.off?"off":"unbind"]("click",a)}))}}}function c(f,p){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(e,t,r,n){var a,i=g(t),o=n[1]||n[0],u="["+[r.uiState,r.uiStateParams||null,r.uiStateOpts||null].map(function(e){return e||"null"}).join(", ")+"]",s={state:null,params:null,options:null,href:null},l=null;function c(e){s.state=e[0],s.params=e[1],s.options=e[2],s.href=f.href(s.state,s.params,s.options),l&&l(),o&&(l=o.$$addStateInfo(s.state,s.params)),s.href&&r.$set(i.attr,s.href)}e.$watch(u,c,!0),c(e.$eval(u)),i.clickable&&(a=y(t,f,p,i,function(){return s}),t[t.on?"on":"bind"]("click",a),e.$on("$destroy",function(){t[t.off?"off":"unbind"]("click",a)}))}}}function f(h,e,t){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(o,u,e,r){var i,n,s=[],l={};i=t(e.uiSrefActiveEq||"",!1)(o);try{n=o.$eval(e.uiSrefActive)}catch(e){}function a(e,t,r){var n=h.get(e,m(u)),a=function(e,t){if(!D(e))throw new Error("state should be a string");if(U(t))return e+$(t);if(t=o.$eval(t),U(t))return e+$(t);return e}(e,t),i={state:n||{name:e},params:t,hash:a};return s.push(i),l[a]=r,function(){var e=s.indexOf(i);-1!==e&&s.splice(e,1)}}function c(){for(var e=0;e<s.length;e++)n=s[e].state,a=s[e].params,h.includes(n.name,a)?f(u,l[s[e].hash]):p(u,l[s[e].hash]),t=s[e].state,r=s[e].params,h.is(t.name,r)?f(u,i):p(u,i);var t,r,n,a}function f(e,t){r(function(){e.addClass(t)})}function p(e,t){e.removeClass(t)}n=n||t(e.uiSrefActive||"",!1)(o),U(n)&&L(n,function(e,t){if(D(e)){var r=v(e,h.current.name);a(r.state,o.$eval(r.paramExpr),t)}}),this.$$addStateInfo=function(e,t){if(!(U(n)&&0<s.length)){var r=a(e,t,n);return c(),r}},o.$on("$stateChangeSuccess",c),c()}]}}function p(r){var e=function(e,t){return r.is(e,t)};return e.$stateful=!0,e}function h(n){var e=function(e,t,r){return n.includes(e,t,r)};return e.$stateful=!0,e}M.module("ui.router.util",["ng"]),M.module("ui.router.router",["ui.router.util"]),M.module("ui.router.state",["ui.router.router","ui.router.util"]),M.module("ui.router",["ui.router.state"]),M.module("ui.router.compat",["ui.router"]),t.$inject=["$q","$injector"],M.module("ui.router.util").service("$resolve",t),M.module("ui.router.util").provider("$templateFactory",function(){var n=M.version.minor<3;this.shouldUnsafelyUseHttp=function(e){n=!!e},this.$get=["$http","$templateCache","$injector",function(e,t,r){return new a(e,t,r,n)}]}),l.prototype.concat=function(e,t){var r={caseInsensitive:F.caseInsensitive(),strict:F.strictMode(),squash:F.defaultSquashPolicy()};return new l(this.sourcePath+e+this.sourceSearch,z(r,t),this)},l.prototype.toString=function(){return this.source},l.prototype.exec=function(e,t){var r=this.regexp.exec(e);if(!r)return null;t=t||{};var n,a,i,o,u,s=this.parameters(),l=s.length,c=this.segments.length-1,f={};if(c!==r.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");function p(e){function t(e){return e.split("").reverse().join("")}return Z(Z(t(e).split(/-(?!\\)/),t),function(e){return e.replace(/\\-/g,"-")}).reverse()}for(n=0;n<c;n++){for(i=s[n],o=this.params[i],u=r[n+1],a=0;a<o.replace.length;a++)o.replace[a].from===u&&(u=o.replace[a].to);u&&!0===o.array&&(u=p(u)),N(u)&&(u=o.type.decode(u)),f[i]=o.value(u)}for(;n<l;n++){for(f[i=s[n]]=this.params[i].value(t[i]),o=this.params[i],u=t[i],a=0;a<o.replace.length;a++)o.replace[a].from===u&&(u=o.replace[a].to);N(u)&&(u=o.type.decode(u)),f[i]=o.value(u)}return f},l.prototype.parameters=function(e){return N(e)?this.params[e]||null:this.$$paramNames},l.prototype.validates=function(e){return this.params.$$validates(e)},l.prototype.format=function(e){e=e||{};var t=this.segments,r=this.parameters(),n=this.params;if(!this.validates(e))return null;var a,i=!1,o=t.length-1,u=r.length,s=t[0];function l(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}for(a=0;a<u;a++){var c=a<o,f=r[a],p=n[f],h=p.value(e[f]),$=p.isOptional&&p.type.equals(p.value(),h),v=!!$&&p.squash,d=p.type.encode(h);if(c){var m=t[a+1],g=a+1===o;if(!1===v)null!=d&&(T(d)?s+=Z(d,l).join("-"):s+=encodeURIComponent(d)),s+=m;else if(!0===v){var y=s.match(/\/$/)?/\/?(.*)/:/(.*)/;s+=m.match(y)[1]}else D(v)&&(s+=v+m);g&&!0===p.squash&&"/"===s.slice(-1)&&(s=s.slice(0,-1))}else{if(null==d||$&&!1!==v)continue;if(T(d)||(d=[d]),0===d.length)continue;s+=(i?"&":"?")+f+"="+(d=Z(d,encodeURIComponent).join("&"+f+"=")),i=!0}}return s},P.prototype.is=function(e,t){return!0},P.prototype.encode=function(e,t){return e},P.prototype.decode=function(e,t){return e},P.prototype.equals=function(e,t){return e==t},P.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},P.prototype.pattern=/.*/,P.prototype.toString=function(){return"{Type:"+this.name+"}"},P.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},P.prototype.$asArray=function(e,t){if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new function(e,a){function t(e,t){return function(){return e[t].apply(e,arguments)}}function i(e){return T(e)?e:N(e)?[e]:[]}function o(e){return!e}function r(r,n){return function(e){if(T(e)&&0===e.length)return e;var t=Z(e=i(e),r);return!0===n?0===x(t,o).length:function(e){switch(e.length){case 0:return R;case 1:return"auto"===a?e[0]:e;default:return e}}(t)}}var u;this.encode=r(t(e,"encode")),this.decode=r(t(e,"decode")),this.is=r(t(e,"is"),!0),this.equals=(u=t(e,"equals"),function(e,t){var r=i(e),n=i(t);if(r.length!==n.length)return!1;for(var a=0;a<r.length;a++)if(!u(r[a],n[a]))return!1;return!0}),this.pattern=e.pattern,this.$normalize=r(t(e,"$normalize")),this.name=e.name,this.$arrayMode=a}(this,e)},M.module("ui.router.util").provider("$urlMatcherFactory",function e(){F=this;var r=!1,n=!0,w=!1;function t(e){return null!=e?e.toString().replace(/(~|\/)/g,function(e){return{"~":"~~","/":"~2F"}[e]}):e}var b,S={},a=!0,i=[],o={string:{encode:t,decode:function(e){return null!=e?e.toString().replace(/(~~|~2F)/g,function(e){return{"~~":"~","~2F":"/"}[e]}):e},is:function(e){return null==e||!N(e)||"string"==typeof e},pattern:/[^/]*/},int:{encode:t,decode:function(e){return parseInt(e,10)},is:function(e){return e!==R&&null!==e&&this.decode(e.toString())===e},pattern:/-?\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return!0===e||!1===e},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):R},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):R},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:M.toJson,decode:M.fromJson,is:M.isObject,equals:M.equals,pattern:/[^/]*/},any:{encode:M.identity,decode:M.identity,equals:M.equals,pattern:/.*/}};function E(e){return d(e)||T(e)&&d(e[e.length-1])}function u(){for(;i.length;){var e=i.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");M.extend(S[e.name],b.invoke(e.def))}}function s(e){z(this,e||{})}e.$$getDefaultValue=function(e){if(!E(e.value))return e.value;if(!b)throw new Error("Injectable functions cannot be called at configuration time");return b.invoke(e.value)},this.caseInsensitive=function(e){return N(e)&&(r=e),r},this.strictMode=function(e){return N(e)&&(n=e),n},this.defaultSquashPolicy=function(e){if(!N(e))return w;if(!0!==e&&!1!==e&&!D(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return w=e},this.compile=function(e,t){return new l(e,z({strict:n,caseInsensitive:r},t))},this.isMatcher=function(r){if(!U(r))return!1;var n=!0;return L(l.prototype,function(e,t){d(e)&&(n=n&&N(r[t])&&d(r[t]))}),n},this.type=function(e,t,r){if(!N(t))return S[e];if(S.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return S[e]=new P(z({name:e},t)),r&&(i.push({name:e,def:r}),a||u()),this},L(o,function(e,t){S[t]=new P(z({name:t},e))}),S=J(S,{}),this.$get=["$injector",function(e){return b=e,a=!1,u(),L(o,function(e,t){S[t]||(S[t]=new P(e))}),this}],this.Param=function(n,e,a,t){var r,i,o=this;-1===Y(i=U(r=a)?K(r):[],"value")&&-1===Y(i,"type")&&-1===Y(i,"squash")&&-1===Y(i,"array")&&(r={value:r}),r.$$fn=E(r.value)?r.value:function(){return r.value},e=function(e,t,r){if(e.type&&t)throw new Error("Param '"+n+"' has two type configurations.");return t||(e.type?M.isString(e.type)?S[e.type]:e.type instanceof P?e.type:new P(e.type):"config"===r?S.any:S.string)}(a=r,e,t);var u,s,l=(u={array:"search"===t&&"auto"},s=n.match(/\[\]$/)?{array:!0}:{},z(u,s,a).array);"string"!==(e=l?e.$asArray(l,"search"===t):e).name||l||"path"!==t||a.value!==R||(a.value="");var c,f,p,h,$,v,d,m=a.value!==R,g=function(e,t){var r=e.squash;if(!t||!1===r)return!1;if(!N(r)||null==r)return w;if(!0===r||D(r))return r;throw new Error("Invalid squash policy: '"+r+"'. Valid policies: false, true, or arbitrary string")}(a,m),y=(f=l,h=g,d=[{from:"",to:(p=m)||f?R:""},{from:null,to:p||f?R:""}],$=T((c=a).replace)?c.replace:[],D(h)&&$.push({from:h,to:R}),v=Z($,function(e){return e.from}),x(d,function(e){return-1===Y(v,e.from)}).concat($));z(this,{id:n,type:e,location:t,array:l,squash:g,replace:y,isOptional:m,value:function(e){var t,r,n;return t=e,e=(n=Z(x(o.replace,(r=t,function(e){return e.from===r})),function(e){return e.to})).length?n[0]:t,N(e)?o.type.$normalize(e):function(){if(!b)throw new Error("Injectable functions cannot be called at configuration time");var e=b.invoke(a.$$fn);if(null!==e&&e!==R&&!o.type.is(e))throw new Error("Default value ("+e+") for parameter '"+o.id+"' is not an instance of Type ("+o.type.name+")");return e}()},dynamic:R,config:a,toString:function(){return"{Param:"+n+" "+e+" squash: '"+g+"' optional: "+m+"}"}})},s.prototype={$$new:function(){return J(this,z(new s,{$$parent:this}))},$$keys:function(){for(var t=[],e=[],r=this,n=K(s.prototype);r;)e.push(r),r=r.$$parent;return e.reverse(),L(e,function(e){L(K(e),function(e){-1===Y(t,e)&&-1===Y(n,e)&&t.push(e)})}),t},$$values:function(t){var r={},n=this;return L(n.$$keys(),function(e){r[e]=n[e].value(t&&t[e])}),r},$$equals:function(n,a){var i=!0,o=this;return L(o.$$keys(),function(e){var t=n&&n[e],r=a&&a[e];o[e].type.equals(t,r)||(i=!1)}),i},$$validates:function(e){var t,r,n,a,i,o=this.$$keys();for(t=0;t<o.length&&(r=this[o[t]],(n=e[o[t]])!==R&&null!==n||!r.isOptional);t++){if(a=r.type.$normalize(n),!r.type.is(a))return!1;if(i=r.type.encode(a),M.isString(i)&&!r.type.pattern.exec(i))return!1}return!0},$$parent:R},this.ParamSet=s}),M.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),r.$inject=["$locationProvider","$urlMatcherFactoryProvider"],M.module("ui.router.router").provider("$urlRouter",r),n.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],M.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",n).run(["$injector",function(e){e.get("$state.runtime").autoinject&&e.get("$state")}]),i.$inject=[],M.module("ui.router.state").provider("$view",i),M.module("ui.router.state").provider("$uiViewScroll",function(){var r=!1;this.useAnchorScroll=function(){r=!0},this.$get=["$anchorScroll","$timeout",function(e,t){return r?e:function(e){return t(function(){e[0].scrollIntoView()},0,!1)}}]}),o.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],u.$inject=["$compile","$controller","$state","$interpolate"],M.module("ui.router.state").directive("uiView",o),M.module("ui.router.state").directive("uiView",u),s.$inject=["$state","$timeout"],c.$inject=["$state","$timeout"],f.$inject=["$state","$stateParams","$interpolate"],M.module("ui.router.state").directive("uiSref",s).directive("uiSrefActive",f).directive("uiSrefActiveEq",f).directive("uiState",c),p.$inject=["$state"],h.$inject=["$state"],M.module("ui.router.state").filter("isState",p).filter("includedByState",h)}(window,window.angular);