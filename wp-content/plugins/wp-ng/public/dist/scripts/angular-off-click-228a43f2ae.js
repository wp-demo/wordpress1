"use strict";angular.module("offClick",[]),angular.module("offClick").directive("offClick",["$rootScope","$parse","OffClickFilterCache",function(u,l,i){var a=0,d={},n=!1,t=function(c){if("touchmove"===c.type)return!(n=!0);if(n)return n=!1;var o=c.target||c.srcElement;angular.forEach(d,function(n,t){var e=i["*"]||[];n.elm.id&&""!==n.elm.id&&i["#"+n.elm.id]&&(e=e.concat(i["#"+n.elm.id])),angular.forEach(n.elm.classList,function(n){i["."+n]&&(e=e.concat(i["."+n]))}),n.elm.contains(o)||function(t,n){if(!t||!n)return!1;for(var e=n.length,c=0;c<e;++c){var o=n[c],i=!1;try{i=o.contains(t)}catch(n){void 0!==o.compareDocumentPosition&&(i=o===t||Boolean(16&o.compareDocumentPosition(t)))}if(i)return!0}return!1}(o,e)||u.$evalAsync(function(){n.cb(n.scope,{$event:c})})})};return document.addEventListener("touchmove",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),{restrict:"A",compile:function(n,r){var f=l(r.offClick);return function(n,t){var e=a++,c=void 0,o=function(){d[e]={elm:t[0],cb:f,scope:n}},i=function(){d[e]=null,delete d[e]};r.offClickIf?c=u.$watch(function(){return l(r.offClickIf)(n)},function(n){n&&o()||!n&&i()}):o(),n.$on("$destroy",function(){i(),c&&c(),t=null})}}}}]),angular.module("offClick").directive("offClickFilter",["OffClickFilterCache","$parse",function(c,o){var i=void 0;return{restrict:"A",compile:function(n,e){return function(n,t){(i=o(e.offClickFilter)(n).split(",").map(function(n){return n.trim()})).forEach(function(n){c[n]?c[n].push(t[0]):c[n]=[t[0]]}),n.$on("$destroy",function(){i.forEach(function(n){angular.isArray(c[n])&&1<c[n].length?c[n].splice(c[n].indexOf(t[0]),1):(c[n]=null,delete c[n])}),t=null})}}}}]),angular.module("offClick").factory("OffClickFilterCache",function(){return{}});