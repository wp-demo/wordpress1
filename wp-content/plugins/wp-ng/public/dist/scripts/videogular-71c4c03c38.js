"use strict";angular.module("com.2fdevs.videogular",["ngSanitize"]).run(["$templateCache",function(e){e.put("vg-templates/vg-media-video","<video></video>"),e.put("vg-templates/vg-media-audio","<audio></audio>"),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),i=this,n=function(){},a=function(){return i.apply(this instanceof n?this:e,t.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,a.prototype=new n,a})}]),angular.module("com.2fdevs.videogular").constant("VG_STATES",{PLAY:"play",PAUSE:"pause",STOP:"stop"}).constant("VG_VOLUME_KEY","videogularVolume"),angular.module("com.2fdevs.videogular").directive("vgCrossorigin",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(i,e,t,n){var a;i.setCrossorigin=function(e){e?n.mediaElement.attr("crossorigin",e):n.mediaElement.removeAttr("crossorigin")},n.isConfig?i.$watch(function(){return n.config},function(){n.config&&i.setCrossorigin(n.config.crossorigin)}):i.$watch(t.vgCrossorigin,function(e,t){a&&e===t||!e?i.setCrossorigin():(a=e,i.setCrossorigin(a))})}}}}]),angular.module("com.2fdevs.videogular").directive("vgLoop",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(i,e,t,n){var a;i.setLoop=function(e){e?n.mediaElement.attr("loop",e):n.mediaElement.removeAttr("loop")},n.isConfig?i.$watch(function(){return n.config},function(){n.config&&i.setLoop(n.config.loop)}):i.$watch(t.vgLoop,function(e,t){a&&e===t||!e?i.setLoop():(a=e,i.setLoop(a))})}}}}]),angular.module("com.2fdevs.videogular").directive("vgMedia",["$timeout","$window","VG_UTILS","VG_STATES",function(d,r,h,i){return{restrict:"E",require:"^videogular",templateUrl:function(e,t){var i=t.vgType||"video";return t.vgTemplate||"vg-templates/vg-media-"+i},scope:{vgNativePlayBlacklist:"=?",vgSrc:"=?",vgType:"=?"},link:function(a,e,t,o){var l;function u(e){o.mediaElement.attr({src:e.src,type:e.type}),o.changeSource(e)}function c(i){var n=r.navigator.userAgent;return!(!i||!angular.isArray(a.vgNativePlayBlacklist))&&a.vgNativePlayBlacklist.reduce(function(e,t){return e||angular.isFunction(t)&&t(i,n)},!1)}t.vgType&&"video"!==t.vgType?t.vgType="audio":t.vgType="video",a.onChangeSource=function(e,t){l&&e==t||!e||(l=e,o.currentState!==i.PLAY&&(o.currentState=i.STOP),o.sources=l,a.changeSource())},a.changeSource=function(){var e="",t=!1,i=angular.isArray(l)?l:[l],n=i.length?i[0]:null;if(o.mediaElement[0].canPlayType)for(var a=0,r=l.length;a<r;a++){var s=l[a];if(s&&!c(s)&&("maybe"==(e=o.mediaElement[0].canPlayType(s.type))||"probably"==e)){t=!0,u(s);break}}else n&&!c(n)&&(t=!0,u(n));t?(h.isMobileDevice()&&o.mediaElement[0].load(),d(function(){!o.autoPlay||!h.isCordova()&&h.isMobileDevice()||o.play()})):o.onVideoError()},o.mediaElement=e.find(t.vgType),o.sources=a.vgSrc,o.addListeners(),o.onVideoReady(),a.$watch("vgSrc",a.onChangeSource),a.$watch(function(){return o.sources},a.onChangeSource),a.$watch(function(){return o.playsInline},function(e,t){e?(o.mediaElement.attr("webkit-playsinline",""),o.mediaElement.attr("playsinline","")):(o.mediaElement.removeAttr("webkit-playsinline"),o.mediaElement.removeAttr("playsinline"))}),o.isConfig&&a.$watch(function(){return o.config},function(){o.config&&(a.vgSrc=o.config.sources)})}}}]),angular.module("com.2fdevs.videogular").directive("vgNativeControls",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(i,e,t,n){var a;i.setControls=function(e){e?n.mediaElement.attr("controls",e):n.mediaElement.removeAttr("controls")},n.isConfig?i.$watch(function(){return n.config},function(){n.config&&i.setControls(n.config.controls)}):i.$watch(t.vgNativeControls,function(e,t){a&&e===t||!e?i.setControls():(a=e,i.setControls(a))})}}}}]),angular.module("com.2fdevs.videogular").directive("vgPreload",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(i,e,t,n){var a;i.setPreload=function(e){e?n.mediaElement.attr("preload",e):n.mediaElement.removeAttr("preload")},n.isConfig?i.$watch(function(){return n.config},function(){n.config&&i.setPreload(n.config.preload)}):i.$watch(t.vgPreload,function(e,t){a&&e===t||!e?i.setPreload():(a=e,i.setPreload(a))})}}}}]),angular.module("com.2fdevs.videogular").directive("vgTracks",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(n,e,t,a){var r,s,o,i=!1;n.onLoadMetaData=function(){i=!0,n.updateTracks()},n.updateTracks=function(){var e=a.mediaElement.children();for(s=0,o=e.length;s<o;s++)e[s].remove&&e[s].remove();if(r)for(s=0,o=r.length;s<o;s++){var t=document.createElement("track");for(var i in r[s])t[i]=r[s][i];t.addEventListener("load",n.onLoadTrack.bind(n,t)),a.mediaElement[0].appendChild(t)}},n.onLoadTrack=function(e){e.default?e.mode="showing":e.mode="hidden";for(var t=0,i=a.mediaElement[0].textTracks.length;t<i;t++)e.label===a.mediaElement[0].textTracks[t].label&&(e.default?a.mediaElement[0].textTracks[t].mode="showing":a.mediaElement[0].textTracks[t].mode="disabled");e.removeEventListener("load",n.onLoadTrack.bind(n,e))},n.setTracks=function(e){r=e,a.tracks=e,i?n.updateTracks():a.mediaElement[0].addEventListener("loadedmetadata",n.onLoadMetaData.bind(n),!1)},a.isConfig?n.$watch(function(){return a.config},function(){a.config&&n.setTracks(a.config.tracks)}):n.$watch(t.vgTracks,function(e,t){r&&e===t||n.setTracks(e)},!0)}}}}]),angular.module("com.2fdevs.videogular").directive("videogular",[function(){return{restrict:"EA",scope:{vgTheme:"=?",vgAutoPlay:"=?",vgStartTime:"=?",vgVirtualClipDuration:"=?",vgPlaysInline:"=?",vgNativeFullscreen:"=?",vgClearMediaOnNavigate:"=?",vgCuePoints:"=?",vgConfig:"@",vgCanPlay:"&",vgComplete:"&",vgUpdateVolume:"&",vgUpdatePlayback:"&",vgUpdateTime:"&",vgUpdateState:"&",vgPlayerReady:"&",vgChangeSource:"&",vgSeeking:"&",vgSeeked:"&",vgError:"&"},controller:"vgController",controllerAs:"API",link:{pre:function(e,t,i,n){n.videogularElement=angular.element(t)}}}}]),angular.module("com.2fdevs.videogular").controller("vgController",["$scope","$window","vgConfigLoader","vgFullscreen","VG_UTILS","VG_STATES","VG_VOLUME_KEY",function(r,t,e,i,n,a,s){var o=null,l=!1,u=!1,c=!1,d=null;function h(e,t){return angular.isDefined(e)?"true"===e.toString():!!t}this.videogularElement=null,this.clearMedia=function(){this.mediaElement[0].src="",this.mediaElement[0].removeEventListener("canplay",this.onCanPlay.bind(this),!1),this.mediaElement[0].removeEventListener("loadedmetadata",this.onLoadMetaData.bind(this),!1),this.mediaElement[0].removeEventListener("waiting",this.onStartBuffering.bind(this),!1),this.mediaElement[0].removeEventListener("ended",this.onComplete.bind(this),!1),this.mediaElement[0].removeEventListener("playing",this.onStartPlaying.bind(this),!1),this.mediaElement[0].removeEventListener("play",this.onPlay.bind(this),!1),this.mediaElement[0].removeEventListener("pause",this.onPause.bind(this),!1),this.mediaElement[0].removeEventListener("volumechange",this.onVolumeChange.bind(this),!1),this.mediaElement[0].removeEventListener("playbackchange",this.onPlaybackChange.bind(this),!1),this.mediaElement[0].removeEventListener("timeupdate",this.onUpdateTime.bind(this),!1),this.mediaElement[0].removeEventListener("progress",this.onProgress.bind(this),!1),this.mediaElement[0].removeEventListener("seeking",this.onSeeking.bind(this),!1),this.mediaElement[0].removeEventListener("seeked",this.onSeeked.bind(this),!1),this.mediaElement[0].removeEventListener("error",this.onVideoError.bind(this),!1)},this.onRouteChange=function(){void 0!==this.clearMediaOnNavigate&&!0!==this.clearMediaOnNavigate||this.clearMedia()},this.onCanPlay=function(e){this.isBuffering=!1,r.$parent.$digest(r.vgCanPlay({$event:e})),!u&&(0<this.startTime||0===this.startTime)&&(this.seekTime(this.startTime),u=!0)},this.onVideoReady=function(){this.isReady=!0,this.autoPlay=r.vgAutoPlay,this.playsInline=r.vgPlaysInline,this.nativeFullscreen=h(r.vgNativeFullscreen,!0),this.cuePoints=r.vgCuePoints,this.startTime=r.vgStartTime,this.virtualClipDuration=r.vgVirtualClipDuration,this.clearMediaOnNavigate=h(r.vgClearMediaOnNavigate,!0),this.currentState=a.STOP,l=!0,c=0<=this.startTime&&0<this.virtualClipDuration,n.supportsLocalStorage()&&this.setVolume(parseFloat(t.localStorage.getItem(s)||"1")),r.vgConfig?e.loadConfig(r.vgConfig).then(this.onLoadConfig.bind(this)):r.vgPlayerReady({$API:this})},this.onLoadConfig=function(e){this.config=e,r.vgTheme=this.config.theme,r.vgAutoPlay=this.config.autoPlay,r.vgPlaysInline=this.config.playsInline,r.vgNativeFullscreen=this.config.nativeFullscreen,r.vgCuePoints=this.config.cuePoints,r.vgClearMediaOnNavigate=this.config.clearMediaOnNavigate,r.vgStartTime=this.config.startTime,r.vgVirtualClipDuration=this.config.virtualClipDuration,c=0<=r.vgStartTime&&0<r.vgVirtualClipDuration,r.vgPlayerReady({$API:this})},this.onLoadMetaData=function(e){this.isBuffering=!1,this.onUpdateTime(e)},this.onProgress=function(e){this.updateBuffer(e),r.$parent.$digest()},this.updateBuffer=function(e){var t=e.target.buffered;t&&t.length&&(this.buffered=t,this.bufferEnd=1e3*t.end(t.length-1),this.bufferEnd>this.totalTime&&(this.bufferEnd=this.totalTime))},this.onUpdateTime=function(e){var t=1e3*e.target.currentTime,i=this.activeSource&&angular.isDefined(this.activeSource.isLive);this.updateBuffer(e),e.target.duration!==1/0&&null!==e.target.duration&&void 0!==e.target.duration&&17976931348623157e292!==e.target.duration?(c?u&&(e.target.currentTime<this.startTime||e.target.currentTime-this.startTime>this.virtualClipDuration)?this.onComplete():(this.currentTime=Math.max(0,t-1e3*this.startTime),this.totalTime=1e3*this.virtualClipDuration,this.timeLeft=1e3*this.virtualClipDuration-this.currentTime):(this.currentTime=t,this.totalTime=1e3*e.target.duration,this.timeLeft=1e3*(e.target.duration-e.target.currentTime)),this.isLive=!1):(this.currentTime=t,this.isLive=!0),i&&(this.isLive=!!this.activeSource.isLive);var n=c?this.currentTime/1e3:e.target.currentTime,a=c?this.totalTime/1e3:e.target.duration;this.cuePoints&&this.checkCuePoints(n),r.vgUpdateTime({$currentTime:n,$duration:a}),"$apply"!==r.$$phase&&"$digest"!==r.$$phase&&r.$parent.$digest()},this.checkCuePoints=function(e){for(var t in this.cuePoints)for(var i=0,n=this.cuePoints[t].length;i<n;i++){var a=this.cuePoints[t][i],r=parseInt(e,10),s=parseInt(a.timeLapse.start,10);a.timeLapse.end||(a.timeLapse.end=a.timeLapse.start+1),e<a.timeLapse.end&&(a.$$isCompleted=!1),a.$$isDirty||r!==s||"function"!=typeof a.onEnter||(a.onEnter(e,a.timeLapse,a.params),a.$$isDirty=!0),e>a.timeLapse.start?(e<a.timeLapse.end&&(a.onUpdate&&a.onUpdate(e,a.timeLapse,a.params),a.$$isDirty||"function"!=typeof a.onEnter||a.onEnter(e,a.timeLapse,a.params)),e>=a.timeLapse.end&&a.onComplete&&!a.$$isCompleted&&(a.$$isCompleted=!0,a.onComplete(e,a.timeLapse,a.params)),a.$$isDirty=!0):(a.onLeave&&a.$$isDirty&&a.onLeave(e,a.timeLapse,a.params),a.$$isDirty=!1)}},this.onPlay=function(){this.setState(a.PLAY),r.$parent.$digest()},this.onPause=function(){0===(c?this.currentTime:this.mediaElement[0].currentTime)?this.setState(a.STOP):this.setState(a.PAUSE),r.$parent.$digest()},this.onVolumeChange=function(){this.volume=this.mediaElement[0].volume,r.$parent.$digest()},this.onPlaybackChange=function(){this.playback=this.mediaElement[0].playbackRate,r.$parent.$digest()},this.onSeeking=function(e){r.vgSeeking({$currentTime:e.target.currentTime,$duration:e.target.duration})},this.onSeeked=function(e){r.vgSeeked({$currentTime:e.target.currentTime,$duration:e.target.duration})},this.seekTime=function(e,t){if(!Number.isFinite(e))throw new TypeError("Expecting a finite number value.");var i;if(t)this.mediaElement[0].currentTime=c?(i=(e=Math.max(0,Math.min(e,100)))*this.virtualClipDuration/100,this.startTime+i):i=e*this.mediaElement[0].duration/100;else if(c){var n=e/this.mediaElement[0].duration;i=u?this.virtualClipDuration*n:0,this.mediaElement[0].currentTime=u?this.startTime+i:this.startTime}else i=e,this.mediaElement[0].currentTime=i;this.currentTime=1e3*i},this.playPause=function(){this.mediaElement[0].paused?this.play():this.pause()},this.setState=function(e){return e&&e!==this.currentState&&(r.vgUpdateState({$state:e}),this.currentState=e),this.currentState},this.play=function(){var e=this.mediaElement[0];!d&&e.paused&&((d=e.play())&&d.then&&d.catch&&d.then(function(){d=null}).catch(function(){}),this.setState(a.PLAY))},this.pause=function(){var e=this.mediaElement[0];d?d.then(function(){e.pause()}):e.pause(),this.setState(a.PAUSE)},this.stop=function(){try{this.mediaElement[0].pause();var e=c?this.startTime:0;this.mediaElement[0].currentTime=e,this.currentTime=e,this.buffered=[],this.bufferEnd=0,this.setState(a.STOP)}catch(e){return e}},this.toggleFullScreen=function(){i.isAvailable&&this.nativeFullscreen?this.isFullScreen?n.isMobileDevice()||i.exit():n.isMobileDevice()?n.isiOSDevice()?l?this.enterElementInFullScreen(this.mediaElement[0]):(!0,this.play()):this.enterElementInFullScreen(this.mediaElement[0]):this.enterElementInFullScreen(this.videogularElement[0]):(this.isFullScreen?(this.videogularElement.removeClass("fullscreen"),this.videogularElement.css("z-index","auto")):(this.videogularElement.addClass("fullscreen"),this.videogularElement.css("z-index",n.getZIndex())),this.isFullScreen=!this.isFullScreen)},this.enterElementInFullScreen=function(e){i.request(e)},this.changeSource=function(e){this.activeSource=e,angular.isDefined(e.isLive)&&(this.isLive=!!e.isLive),r.vgChangeSource({$source:e})},this.setVolume=function(e){e=Math.max(Math.min(e,1),0),r.vgUpdateVolume({$volume:e}),this.mediaElement[0].volume=e,this.volume=e,n.supportsLocalStorage()&&t.localStorage.setItem(s,e.toString())},this.setPlayback=function(e){r.vgUpdatePlayback({$playBack:e}),this.mediaElement[0].playbackRate=e,this.playback=e},this.updateTheme=function(e){var t,i,n=document.getElementsByTagName("link");if(o)for(t=0,i=n.length;t<i;t++)if(0<=n[t].outerHTML.indexOf(o)){n[t].parentNode.removeChild(n[t]);break}if(e){var a=angular.element(document).find("head"),r=!1;for(t=0,i=n.length;t<i&&!(r=0<=n[t].outerHTML.indexOf(e));t++);r||a.append("<link rel='stylesheet' href='"+e+"'>"),o=e}},this.onStartBuffering=function(e){this.isBuffering=!0,r.$parent.$digest()},this.onStartPlaying=function(e){this.isBuffering=!1,r.$parent.$digest()},this.onComplete=function(e){r.vgComplete(),this.setState(a.STOP),this.isCompleted=!0,c&&this.stop(),r.$parent.$digest()},this.onVideoError=function(e){r.vgError({$event:e})},this.addListeners=function(){this.mediaElement[0].addEventListener("canplay",this.onCanPlay.bind(this),!1),this.mediaElement[0].addEventListener("loadedmetadata",this.onLoadMetaData.bind(this),!1),this.mediaElement[0].addEventListener("waiting",this.onStartBuffering.bind(this),!1),this.mediaElement[0].addEventListener("ended",this.onComplete.bind(this),!1),this.mediaElement[0].addEventListener("playing",this.onStartPlaying.bind(this),!1),this.mediaElement[0].addEventListener("play",this.onPlay.bind(this),!1),this.mediaElement[0].addEventListener("pause",this.onPause.bind(this),!1),this.mediaElement[0].addEventListener("volumechange",this.onVolumeChange.bind(this),!1),this.mediaElement[0].addEventListener("playbackchange",this.onPlaybackChange.bind(this),!1),this.mediaElement[0].addEventListener("timeupdate",this.onUpdateTime.bind(this),!1),this.mediaElement[0].addEventListener("progress",this.onProgress.bind(this),!1),this.mediaElement[0].addEventListener("seeking",this.onSeeking.bind(this),!1),this.mediaElement[0].addEventListener("seeked",this.onSeeked.bind(this),!1),this.mediaElement[0].addEventListener("error",this.onVideoError.bind(this),!1)},this.init=function(){this.isReady=!1,this.isCompleted=!1,this.buffered=[],this.bufferEnd=0,this.currentTime=0,this.totalTime=0,this.timeLeft=0,this.isLive=!1,this.isFullScreen=!1,this.playback=1,this.isConfig=void 0!==r.vgConfig,this.mediaElement=[{play:function(){},pause:function(){},stop:function(){},addEventListener:function(){},removeEventListener:function(){}}],i.isAvailable&&(this.isFullScreen=i.isFullScreen()),this.updateTheme(r.vgTheme),this.addBindings(),i.isAvailable&&document.addEventListener(i.onchange,this.onFullScreenChange.bind(this))},this.onUpdateTheme=function(e){this.updateTheme(e)},this.onUpdateAutoPlay=function(e){e&&!this.autoPlay&&(this.autoPlay=e,this.play(this))},this.onUpdateStartTime=function(e){if(e&&e!==this.startTime){this.mediaElement[0].currentTime=e,this.startTime=e,c=0<=this.startTime&&0<this.virtualClipDuration;var t={target:this.mediaElement[0]};this.onUpdateTime(t,!0)}},this.onUpdateVirtualClipDuration=function(e){if(e&&e!==this.virtualClipDuration){this.virtualClipDuration=e,c=0<=this.startTime&&0<this.virtualClipDuration;var t={target:this.mediaElement[0]};this.onUpdateTime(t,!0)}},this.onUpdatePlaysInline=function(e){this.playsInline=e},this.onUpdateNativeFullscreen=function(e){this.nativeFullscreen=h(e,!0)},this.onUpdateCuePoints=function(e){this.cuePoints=e,this.checkCuePoints(this.currentTime/1e3)},this.onUpdateClearMediaOnNavigate=function(e){this.clearMediaOnNavigate=h(e,!0)},this.addBindings=function(){r.$watch("vgTheme",this.onUpdateTheme.bind(this)),r.$watch("vgAutoPlay",this.onUpdateAutoPlay.bind(this)),r.$watch("vgStartTime",this.onUpdateStartTime.bind(this)),r.$watch("vgVirtualClipDuration",this.onUpdateVirtualClipDuration.bind(this)),r.$watch("vgPlaysInline",this.onUpdatePlaysInline.bind(this)),r.$watch("vgNativeFullscreen",this.onUpdateNativeFullscreen.bind(this)),r.$watch("vgCuePoints",this.onUpdateCuePoints.bind(this)),r.$watch("vgClearMediaOnNavigate",this.onUpdateClearMediaOnNavigate.bind(this))},this.onFullScreenChange=function(e){this.isFullScreen=i.isFullScreen(),r.$parent.$digest()},r.$on("$destroy",this.clearMedia.bind(this)),r.$on("$routeChangeStart",this.onRouteChange.bind(this)),this.init()}]),angular.module("com.2fdevs.videogular").service("vgConfigLoader",["$http","$q","$sce",function(t,i,r){this.loadConfig=function(e){var a=i.defer();return t({method:"GET",url:e}).then(function(e){for(var t=e.data,i=0,n=t.sources.length;i<n;i++)t.sources[i].src=r.trustAsResourceUrl(t.sources[i].src);a.resolve(t)},function(){a.reject()}),a.promise}}]),angular.module("com.2fdevs.videogular").service("vgFullscreen",["VG_UTILS",function(e){var t,i=null,n={w3:{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",onchange:"fullscreenchange",onerror:"fullscreenerror"},newWebkit:{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},oldWebkit:{enabled:"webkitIsFullScreen",element:"webkitCurrentFullScreenElement",request:"webkitRequestFullScreen",exit:"webkitCancelFullScreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},moz:{enabled:"mozFullScreen",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",onchange:"mozfullscreenchange",onerror:"mozfullscreenerror"},ios:{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},ms:{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",onchange:"MSFullscreenChange",onerror:"MSFullscreenError"}};for(var a in n)if(n[a].enabled in document){i=n[a];break}e.isiOSDevice()&&(i=n.ios),this.isAvailable=null!=i,i&&(this.onchange=i.onchange,this.onerror=i.onerror,this.isFullScreen=function(){return t?null!=document[i.element]||t.webkitDisplayingFullscreen:null!=document[i.element]},this.exit=function(){document[i.exit]()},this.request=function(e){(t=e)[i.request]()})}]),angular.module("com.2fdevs.videogular").service("VG_UTILS",["$window",function(i){this.fixEventOffset=function(e){var t=navigator.userAgent.match(/Firefox\/(\d+)/i);if(t&&Number.parseInt(t.pop())<39){var i=e.currentTarget.currentStyle||window.getComputedStyle(e.target,null),n=parseInt(i.borderLeftWidth,10),a=parseInt(i.borderTopWidth,10),r=e.currentTarget.getBoundingClientRect(),s=e.clientX-n-r.left,o=e.clientY-a-r.top;e.offsetX=s,e.offsetY=o}return e},this.getZIndex=function(){for(var e,t=1,i=document.getElementsByTagName("*"),n=0,a=i.length;n<a;n++)t<(e=parseInt(window.getComputedStyle(i[n])["z-index"]))&&(t=e+1);return t},this.isMobileDevice=function(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")},this.isiOSDevice=function(){return navigator.userAgent.match(/ip(hone|ad|od)/i)&&!navigator.userAgent.match(/(iemobile)[\/\s]?([\w\.]*)/i)},this.isCordova=function(){return-1===document.URL.indexOf("http://")&&-1===document.URL.indexOf("https://")},this.supportsLocalStorage=function(){var e="videogular-test-key";try{var t=i.sessionStorage;return t.setItem(e,"1"),t.removeItem(e),"localStorage"in i&&null!==i.localStorage}catch(e){return!1}}}]);