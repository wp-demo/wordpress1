!function(e){"use strict";angular.module("rcMedia",["ngResource"])}(),function(e){"use strict";angular.module("rcMedia").constant("RCMEDIA_UPLOAD_STATES",{SELECT_FILES:"selectFiles",CROP_IMAGE:"cropImage",PROGRESS_FILES:"progressFiles"})}(),function(l){"use strict";l.module("rcMedia").directive("rcmGalleryControls",["$log","$parse","$compile",function(e,a,r){return{restrict:"EA",require:"^rcMedia",scope:{deleteClick:"@?rcmDeleteClick",saveClick:"@?rcmSaveClick"},templateUrl:function(e,r){return r.rcmTemplateUrl||"rc-media-gallery-controls.tpl.html"},link:function(r,e,t,i){r.loading=!1,r.deleteSources=function(){r.loading=!0,i.deleteSources().then(function(e){r.loading=!1},function(e){r.loading=!1}),r.$parent.$parent.$applyAsync(a(r.deleteClick))},r.deselectSources=function(){i.deselectSources()},r.saveSources=function(){i.saveSources(),r.$parent.$parent.$applyAsync(a(r.saveClick))},i.galleryControlsElement=l.element(e),r.rcMediaApi=i}}}])}(angular),function(o){"use strict";o.module("rcMedia").directive("rcmGallery",["$parse","$compile","$window","$timeout","$log",function(e,r,t,i,n){return{restrict:"EA",require:"^rcMedia",scope:{sources:"=?ngModel",seletedSources:"=?rcmSelectedSources",order:"@?rcmOrder",multiple:"=?rcmMultiple",search:"@?rcmSearchValue",loadIcon:"@?rcmLoadIcon",uploadClick:"@?rcmUploadClick"},templateUrl:function(e,r){return r.rcmTemplateUrl||"rc-media-gallery.tpl.html"},link:function(a,e,r,l){a.alerts=[],a.loading=!1,a.loadMore=!1,a.sources=o.isDefined(a.sources)?a.sources:[],a.seletedSources=o.isDefined(a.seletedSources)?a.seletedSources:[],a.order=o.isDefined(a.order)?a.order:"date",a.multiple=!!o.isDefined(a.multiple)&&a.multiple,a.search=o.isDefined(a.search)?a.search:"",a.onChangeGalleryLoading=function(e,r){!1===e&&(a.loadMore=l.gallery.loadMore),a.loading=e},a.onChangeSources=function(e,r){n.debug("onChangeSources"),e!==r&&(n.debug("onChangeSources"),a.sources=e)},a.onChangeSourcesSelected=function(e,r){e!==r&&(n.debug("onChangeSourcesSelected"),a.seletedSources=e)},a.onChangeGalleryResult=function(e,r){var t,i;n.debug("onChangeGalleryResult"),e!==r&&(o.isObject(l.gallery.result)&&o.isDefined(l.gallery.result.message)?(t="alert",i=l.gallery.result.message,a.alerts.push({type:t,msg:i})):a.alerts=[])},a.selectSource=function(e,r){l.selectSource(e,r),a.seletedSources=l.sourcesSelected},a.loadMoreSources=function(){l.loadMoreSources().then(function(e){a.loadMore=0<e.length},function(e){})},a.closeAlert=function(e){a.alerts.splice(e,1)},l.galleryElement=o.element(e),l.initMediaGallery({loading:a.loading,order:a.order,multiple:a.multiple,loadMore:a.loadMore},a.search),a.rcMediaApi=l,a.$watchCollection("rcMediaApi.sources",a.onChangeSources),a.$watchCollection("rcMediaApi.sourcesSelected",a.onChangeSourcesSelected),a.$watch("rcMediaApi.gallery.loading",a.onChangeGalleryLoading),a.$watch("rcMediaApi.gallery.result",a.onChangeGalleryResult)}}}])}(angular),function(l){"use strict";l.module("rcMedia").directive("rcmSearch",["$log",function(a){return{restrict:"EA",require:"^rcMedia",scope:{search:"=?ngModel",value:"@?rcmValue"},templateUrl:function(e,r){return r.rcmTemplateUrl||"rc-media-search.tpl.html"},link:function(e,r,t,i){e.search=l.isDefined(e.value)?e.value:e.search,e.value=l.isDefined(e.value)?e.value:"",e.onSearch=function(e,r){e!==r&&(a.debug("onSearch"),i.search=e,i.searchSources())},i.searchElement=l.element(r),i.initMediaSearch(e.search),e.rcMediaApi=i,e.$watch("search",e.onSearch)}}}])}(angular),function(i){"use strict";i.module("rcMedia").directive("rcmSelect",["$log",function(e){return{restrict:"EA",transclude:!0,scope:{theme:"@?rcmTheme",name:"@?rcmName",type:"@?rcmType",id:"@?rcmId",class:"@?rcmClass",onetime:"=?rcmOnetime",single:"=?rcmSingle",media:"=?rcmMedia",config:"&?rcmConfig",initSources:"&?rcmInitSources"},templateUrl:function(e,r){return r.rcmTemplateUrl||"rc-media-select.tpl.html"},controller:"rcMediaSelectCtrl",link:function(e,r,t){e.theme=i.isDefined(t.rcmSelect)?t.rcmSelect:e.theme}}}])}(angular),function(e){"use strict";angular.module("rcMedia").directive("rcmTranslate",["$log","rcMedia",function(e,n){return{restrict:"EA",require:"^rcMedia",link:function(e,r,t,i){var a=r.html();if(0<a.length){var l=n.getLocalizedText(a);r.html(r.html().replace(a,l))}}}}])}(),function(n){"use strict";n.module("rcMedia").directive("rcmUploadControls",["$log","$parse","$compile",function(a,l,e){return{restrict:"EA",require:"^rcMedia",scope:{file:"=?ngModel",saveClick:"@?rcmSaveClick",cancelClick:"@?rcmCancelClick"},templateUrl:function(e,r){return r.rcmTemplateUrl||"rc-media-upload-controls.tpl.html"},link:function(r,e,t,i){r.file=n.isDefined(r.file)?r.file:null,r.uploadFile=function(){return r.file=i.upload.file,i.uploadFile().then(function(e){a.debug("Upload success"),a.debug(e),r.$parent.$parent.$applyAsync(l(r.saveClick))},function(e){a.debug("Upload error"),a.debug(e)},function(e){a.debug(e)})},r.cancelUploadFile=function(){i.cancelUploadFile()},r.resetUploadFile=function(e){r.file=null,i.resetUploadFile(),!0===e&&r.$parent.$parent.$applyAsync(l(r.cancelClick))},i.uploadControlsElement=n.element(e),r.rcMediaApi=i}}}])}(angular),function(u){"use strict";u.module("rcMedia").directive("rcmUpload",["rcMedia","$log","$parse",function(d,i,a){return{restrict:"EA",require:"^rcMedia",scope:{file:"=?ngModel",multiple:"=?rcmMultiple",accept:"@?rcmAccept",pattern:"@?rcmPattern",fileName:"@?rcmFileName",fields:"@rcmFields",minWidth:"=?rcmMinWidth",minHeight:"=?rcmMinHeight",fixOrientation:"=?rcmFixOrientation",crop:"=?rcmCrop",cropArea:"=?rcmCropArea",loadIcon:"@?rcmLoadIcon",change:"@?rcmChange"},templateUrl:function(e,r){return r.rcmTemplateUrl||"rc-media-upload.tpl.html"},link:function(o,e,r,c){o.alerts=[],o.loading=!1,o.progress=0,o.currentState="",o.file=u.isDefined(o.file)?o.file:c.resetUploadFile(),o.multiple=!!u.isDefined(o.multiple)&&o.multiple,o.accept=u.isDefined(o.accept)?o.accept:"*/*",o.pattern=u.isDefined(o.pattern)?o.pattern:"*/*",o.fileName=u.isDefined(o.fileName)?o.fileName:"",o.fields=u.isDefined(o.fields)?o.$eval(o.fields):{},o.minWidth=u.isDefined(o.minWidth)?o.minWidth:0,o.minHeight=u.isDefined(o.minHeight)?o.minHeight:0,o.fixOrientation=!!u.isDefined(o.fixOrientation)&&o.fixOrientation,o.crop=!u.isDefined(o.crop)||o.crop;var t={auto:!0,width:o.minWidth,height:o.minHeight,minWidth:o.minWidth,minHeight:o.minHeight,cropWidth:0,cropHeight:0,keepAspect:!0,keepAspectRatio:!1,enforceCropAspect:!1,touchRadius:10,color:"rgba(118, 118, 118, 0.8)",colorDrag:"rgba(118, 118, 118, 0.8)",colorBg:"rgba(200, 200, 200, 0.8)",colorCropBg:"rgba(118, 118, 118, 0.8)"};function s(e,r){o.alerts.push({type:e,msg:r})}o.cropArea=u.isObject(o.cropArea)?u.extend(t,o.cropArea):t,o.onChangeUploadLoading=function(e,r){o.loading=e},o.onChangeUploadResult=function(e,r){i.debug("onChangeUploadResult"),e!==r&&(u.isObject(c.upload.result)&&u.isDefined(c.upload.result.message)?s("alert",c.upload.result.message):o.alerts=[])},o.onChangeUploadFile=function(e,r){e!==r&&(i.debug("onChangeUploadFile"),o.file=e)},o.onChangeUploadMultiple=function(e,r){e!==r&&(i.debug("onChangeUploadMultiple"),o.multiple=e)},o.onChangeUploadCrop=function(e,r){e!==r&&(i.debug("onChangeUploadCrop"),o.crop=e)},o.onChangeUploadProgress=function(e,r){e!==r&&(i.debug("onChangeUploadProgress"),o.progress=e)},o.onChangeUploadCurrentState=function(e,r){i.debug("onChangeUploadCurrentState"),u.extend(o.cropArea,c.upload.cropArea),o.currentState=e},o.uploadSelectFiles=function(e){o.alerts=[];var r=c.uploadSelectFiles(e);u.isObject(r)&&u.isFunction(r.then)&&r.then(function(e){o.$parent.$parent.$applyAsync(a(o.change))},function(e){i.debug("Upload error"),i.debug(e)},function(e){i.debug(e)})},o.changeFiles=function(e,r,t,i,a,l){if(0<a.length){var n=d.getLocalizedText("UPLOAD_INVALID_FILE");u.forEach(a,function(e,r){0<r&&(n+="\r\n");var t=0;u.forEach(e.$errorMessages,function(e,r){if(n+=0<t?", ":" ",!0===e)switch(n+=d.getLocalizedText("UPLOAD_INVALID_"+r),r){case"minHeight":n+=" "+c.upload.minHeight+"px";break;case"minWidth":n+=" "+c.upload.minWidth+"px"}t++})}),s("alert",n)}else 0<e.length&&o.uploadSelectFiles(e)},o.closeAlert=function(e){o.alerts.splice(e,1)},c.uploadElement=u.element(e),c.initMediaUpload({multiple:o.multiple,accept:o.accept,pattern:o.pattern,fileName:o.fileName,fields:o.fields,minWidth:o.minWidth,minHeight:o.minHeight,crop:o.crop,cropArea:o.cropArea,file:o.file}),o.rcMediaApi=c,o.$watch("rcMediaApi.upload.file",o.onChangeUploadFile),o.$watch("rcMediaApi.upload.multiple",o.onChangeUploadMultiple),o.$watch("rcMediaApi.upload.crop",o.onChangeUploadCrop),o.$watch("rcMediaApi.upload.progress",o.onChangeUploadProgress),o.$watch("rcMediaApi.upload.loading",o.onChangeUploadLoading),o.$watch("rcMediaApi.upload.result",o.onChangeUploadResult),o.$watch("rcMediaApi.upload.currentState",o.onChangeUploadCurrentState)}}}])}(angular),function(a){"use strict";a.module("rcMedia").directive("rcMedia",[function(){return{restrict:"EA",require:["?ngModel"],scope:{model:"=ngModel",modelSources:"=ngModelSources",sourceUrl:"@rcmSourceUrl",returnModelType:"@rcmReturnModelType",returnModelKey:"@rcmReturnModelKey",returnModelPush:"=?rcmReturnModelPush",sourceId:"@rcmSourceId",sourceUrlKey:"@rcmSourceUrlKey",sourceTitle:"@rcmSourceTitle",sourcesOffsetKey:"@rcmSourcesOffsetKey",sourcesLimitKey:"@rcmSourcesLimitKey",sourcesSearchKey:"@rcmSourcesSearchKey",deleteQuery:"@rcmDeleteQuery",sourcesQuery:"@rcmSourcesQuery",onMediaReady:"&rcmOnMediaReady",onUploadUpdateState:"&rcmOnUploadUpdateState",onUploadFile:"&rcmOnUploadFile",onResetUploadFile:"&rcmOnResetUploadFile",onSaveSources:"&rcmOnSaveSources",onDeleteSources:"&rcmOnDeleteSources",onSelectSource:"&rcmOnSelectSource",onSearchSources:"&rcmOnSearchSources",onLoadMoreSources:"&rcmOnLoadMoreSources"},controller:"rcMediaCtrl",controllerAs:"rcMediaApi",link:{post:function(e,r,t,i){e.rcMediaApi.rcMediaElement=a.element(r)}}}}])}(angular),function(p){"use strict";p.module("rcMedia").controller("rcMediaCtrl",["$scope","$q","$window","$injector","$filter","$log","$timeout","RCMEDIA_UPLOAD_STATES","rcMedia","rcMediaService",function(l,i,e,t,r,n,a,o,c,s){var d,u=this;this.rcMediaElement=null,this.init=function(){n.debug("rcMedia Init"),this.upload={multiple:!1,accept:"*/*",pattern:"*/*",fileName:"",fields:{},minWidth:0,minHeight:0,fixOrientation:!1,crop:!0,cropArea:{auto:!0},file:{},loading:!1,result:null,progress:0,currentState:"",deferred:null,uploadFile:null},this.search="",this.sourceUrl=p.isDefined(l.sourceUrl)?l.sourceUrl:"",this.sourceId=p.isDefined(l.sourceId)?l.sourceId:"id",this.sourceUrlKey=p.isDefined(l.sourceUrlKey)?l.sourceUrlKey:"source_url",this.sourceTitle=p.isDefined(l.sourceTitle)?l.sourceTitle:"title.rendered",this.returnModelType=p.isDefined(l.returnModelType)?l.returnModelType:"string",this.returnModelKey=p.isDefined(l.returnModelKey)?l.returnModelKey:this.sourceId,this.returnModelPush=!!p.isDefined(l.returnModelPush)&&l.returnModelPush,this.altKey=p.isDefined(l.altKey)?l.altKey:"alt_text",this.accept=p.isDefined(l.accept)?l.accept:"image/*",this.sourcesLimitKey=p.isDefined(l.sourcesLimitKey)?l.sourcesLimitKey:"limit",this.sourcesOffsetKey=p.isDefined(l.sourcesOffsetKey)?l.sourcesOffsetKey:"offset",this.sourcesSearchKey=p.isDefined(l.sourcesSearchKey)?l.sourcesSearchKey:"search",this.sourcesQuery=p.isDefined(l.sourcesQuery)?l.$eval(l.sourcesQuery):{},this.deleteQuery=p.isDefined(l.deleteQuery)?l.$eval(l.deleteQuery):{},this.sources=p.isDefined(this.sources)?this.sources:[],this.sourcesSelected=[],p.isUndefined(this.sourcesQuery[this.sourcesLimitKey])&&(this.sourcesQuery[this.sourcesLimitKey]=10),p.isUndefined(this.sourcesQuery[this.sourcesOffsetKey])&&(this.sourcesQuery[this.sourcesOffsetKey]=0),p.isUndefined(this.sourcesQuery[this.sourcesSearchKey])&&(this.sourcesQuery[this.sourcesSearchKey]=""),this.addBindings(),l.onMediaReady({$rcMediaApi:this})},this.timeStamp=function(){return parseInt((new Date).getTime()/1e3)},this.initMediaGallery=function(e,r){n.debug("initMediaGallery"),this.gallery={result:null,loading:!1,loadMore:!1,multiple:!1,order:"date"},p.isObject(e)&&p.extend(this.gallery,e),p.isString(r)&&0<r.length?(this.search=r,this.searchSources()):this.getSources(this.sourcesQuery)},this.initMediaSearch=function(e){n.debug("initMediaSearch"),p.isString(e)&&0<e.length&&(this.search=e,this.searchSources())},this.initMediaUpload=function(e){n.debug("initMediaUpload"),p.isObject(e)&&p.extend(this.upload,e),this.setUploadState(o.SELECT_FILES)},this.getSourceTitle=function(e){for(var r=this.sourceTitle.split("."),t=e,i=0;i<r.length-1;i++){var a=r[i];t[a]||(t[a]={}),t=t[a]}var l=t[r[r.length-1]];return l?l.split("_").join(" "):""},this.setUploadState=function(e){return e&&e!==this.upload.currentState&&(l.onUploadUpdateState({$state:e}),this.upload.currentState=e),this.upload.currentState},this.uploadSelectFiles=function(e){if(0<e.length){if(n.debug("Upload selectFiles"),n.debug(e),!1!==u.upload.multiple||!0!==u.upload.crop)return n.debug("Upload no crop"),u.uploadFile();n.debug("Upload Crop");try{t.get("Upload").imageDimensions(e[0]).then(function(e){if(p.isDefined(u.uploadElement)&&p.isDefined(u.upload.cropArea.auto)&&!0===u.upload.cropArea.auto){var r,t=u.uploadElement[0].clientWidth,i=u.uploadElement[0].clientHeight,a=e.height/i,l=e.width/t;r=l<=a?a:l,u.upload.cropArea.cropHeight||(!0===u.upload.cropArea.keepAspect?u.upload.cropArea.cropHeight=u.upload.minHeight:u.upload.cropArea.cropHeight=e.height),u.upload.cropArea.cropWidth||(!0===u.upload.cropArea.keepAspect?u.upload.cropArea.cropWidth=u.upload.minWidth:u.upload.cropArea.cropWidth=e.width),u.upload.cropArea.width=t,u.upload.cropArea.height=i,u.upload.cropArea.minWidth=u.upload.minWidth/r,u.upload.cropArea.minHeight=u.upload.minHeight/r}n.debug("change state to Crop"),u.setUploadState(o.CROP_IMAGE)},function(e){n.debug("Upload Dimension Error"),n.debug(e)})}catch(e){n.error(e)}}return!1},this.uploadFile=function(){n.debug("upload"),this.upload.deferred=i.defer(),this.upload.loading=!0,this.upload.progress=0,this.setUploadState(o.PROGRESS_FILES);try{var e=t.get("Upload");if(p.isUndefined(this.upload.file.destDataUrl)||!this.upload.file.destDataUrl?(this.upload.file.destDataUrl=this.upload.file.source.$ngfBlobUrl,e.rename(this.upload.file.source,this.upload.file.source.name)):this.upload.file.source=e.dataUrltoBlob(this.upload.file.destDataUrl,this.upload.file.source.name),n.debug(this.upload.file.source),0<this.upload.fileName.length){var r="";p.isDefined(this.upload.file.source.$ngfName)&&(r=this.upload.file.source.$ngfName.slice(2+(this.upload.file.source.$ngfName.lastIndexOf(".")-1>>>0)),this.upload.file.source.$ngfName=this.upload.fileName+"."+r),p.isDefined(this.upload.file.source.ngfName)&&(r=this.upload.file.source.ngfName.slice(2+(this.upload.file.source.ngfName.lastIndexOf(".")-1>>>0)),this.upload.file.source.ngfName=this.upload.fileName+"."+r)}n.debug(this.upload.file.source),this.upload.uploadFile=e.upload({url:s.getRestUrl(),file:this.upload.file.source,fields:this.upload.fields}),this.upload.uploadFile.then(function(e){var r;if(n.debug("Upload Success"),u.resetUploadFile(),p.isString(e.data))u.upload.result={message:c.getLocalizedText("UPLOAD_INVALID_FILE")},r=u.upload.deferred.reject(e);else{var t=u.addSource(e.data);u.selectSource(t),l.onUploadFile({$file:u.upload.file}),u.setUploadState(o.SELECT_FILES),u.upload.result=null,r=u.upload.deferred.resolve(e)}return u.upload.loading=!1,r},function(e){n.debug("error status: "+e),u.resetUploadFile(),u.setUploadState(o.SELECT_FILES),u.upload.result=e.data,u.upload.loading=!1,u.upload.deferred.reject(e)},function(e){n.debug("Progress status"),n.debug(e);var r=parseInt(100*e.loaded/e.total);u.upload.progress=r,u.upload.deferred.notify(r)})}catch(e){n.error(e),u.setUploadState(o.SELECT_FILES),u.upload.deferred.reject()}return this.upload.deferred.promise},this.cancelUploadFile=function(){this.upload.uploadFile.abort()},this.resetUploadFile=function(){return u.upload.file={source:null,destDataUrl:""},u.setUploadState(o.SELECT_FILES),l.onResetUploadFile({$file:u.upload.file}),u.upload.file},this.selectSource=function(t){if(n.debug("selectSource"),-1===u.sourcesSelected.indexOf(t))u.gallery.multiple?t.activeClass=!0:(p.forEach(u.sources,function(e,r){u.sources[r].activeClass=!1}),t.activeClass=!0,u.sourcesSelected=[]),u.sourcesSelected.push(t),l.onSelectSource({$source:t});else{var i=u.sources.indexOf(t);p.forEach(u.sourcesSelected,function(e,r){e===t&&(-1!==i&&(u.sources[i].activeClass=!1),u.sourcesSelected.splice(r,1))})}},this.deselectSources=function(){p.forEach(u.sources,function(e,r){u.sources[r].activeClass=!1}),u.sourcesSelected=[]},this.getSources=function(e){n.debug("getGallerySources"),this.gallery.loading=!0;var r=s.get(e,!0);return r.then(function(e){0<e.length&&p.forEach(e,function(e,r){u.addSource(e)}),u.gallery.loadMore=0<u.sources.length,u.gallery.loading=!1,u.gallery.result=null},function(e){u.sources=[],u.gallery.loadMore=0<u.sources.length,u.gallery.loading=!1,u.gallery.result=e.data}),r},this.deleteSources=function(){n.debug("deleteSources");var t=[];u.gallery.result=null,p.forEach(this.sourcesSelected,function(r,e){t.push(s.delete(r[u.sourceId],u.deleteQuery).then(function(e){u.removeSource(r),l.onDeleteSources({$source:r})},function(e){404===e.status?(u.removeSource(r),l.onDeleteSources({$source:r})):u.gallery.result=e.data}))}),this.gallery.loading=!0;var e=i.all(t);return e.then(function(e){u.gallery.loading=!1},function(e){u.gallery.loading=!1}),e},this.removeSource=function(e){var r=u.sourceId,t=e[u.sourceId],i=s.indexOf(u.sources,t,r);if(-1!==i&&u.sources.splice(i,1),-1!==(i=s.indexOf(u.sourcesSelected,t,r))&&u.sourcesSelected.splice(i,1),-1!==(i=s.indexOf(l.modelSources,t,r))&&l.modelSources.splice(i,1),p.isArray(l.model))-1!==(i=l.model.indexOf(t))&&l.model.splice(i,1);else if(p.isString(l.model)){var a=l.model.split(",");-1!==(i=a.indexOf(t.toString()))&&a.splice(i,1),l.model=a.join(",")}u.bindResize()},this.addSource=function(e){e.tooltipTitle=u.getSourceTitle(e);var r=p.copy(e);return r[u.sourceUrlKey]+="?"+this.timeStamp(),u.sources.push(r),u.bindResize(),r},this.saveSources=function(){if(n.debug("saveSources"),0<this.sourcesSelected.length){var e=[];switch(!1===this.returnModelPush&&(l.modelSources=[]),p.forEach(u.sourcesSelected,function(e){-1===s.indexOf(l.modelSources,e[u.sourceId],u.sourceId)&&l.modelSources.push(e)}),e=l.modelSources.map(function(e){return e[u.returnModelKey]}),this.returnModelType){case"string":l.model=e.join(",");break;case"array":l.model=e}l.onSaveSources({$model:l.model})}},this.loadMoreSources=function(){n.debug("loadMore"),this.sourcesQuery[this.sourcesOffsetKey]=this.sources.length,this.gallery.loading=!0;var e=s.get(this.sourcesQuery);return e.then(function(e){0<e.length?p.forEach(e,function(e,r){u.addSource(e)}):u.gallery.loadMore=!1,u.gallery.result=null,u.gallery.loading=!1,l.onLoadMoreSources()},function(e){u.gallery.result=e.data,u.gallery.loading=!1}),e},this.searchSources=function(){n.debug("searchSources"),this.sourcesQuery[this.sourcesSearchKey]=this.search,this.sourcesQuery[this.sourcesOffsetKey]=0,this.gallery.loading=!0;var e=s.get(this.sourcesQuery,!0);return e.then(function(e){0<e.length?(u.sources=[],p.forEach(e,function(e,r){u.addSource(e)})):u.sources=[],u.gallery.loadMore=0<u.sources.length,u.gallery.result=null,u.gallery.loading=!1,l.onSearchSources({$search:u.search})},function(e){u.sources=[],u.gallery.loadMore=!1,u.gallery.result=e.data,u.gallery.loading=!1}),e},this.bindResize=function(){d&&a.cancel(d),d=a(function(){n.debug("Bind Resize for scroll"),p.element(e).triggerHandler("resize")},300)},this.addBindings=function(){n.debug("addBindings")},this.init()}])}(angular),function(c){"use strict";c.module("rcMedia").controller("rcMediaSelectCtrl",["$scope","$log","rcMediaService",function(l,n,o){this.init=function(){n.debug("Media Select Init"),l.sourcePreviewHover=!1,l.loading=!1,l.media=c.isDefined(l.media)?l.media:{},l.theme=c.isDefined(l.theme)?l.theme:"",l.name=c.isDefined(l.name)?l.name:"media_sources",l.id=c.isDefined(l.id)?l.id:l.name+"_select",l.type=c.isDefined(l.type)?l.type:"text",l.class=c.isDefined(l.class)?l.class:"",l.onetime=!!c.isDefined(l.onetime)&&l.onetime,l.single=!!c.isDefined(l.single)&&l.single,l.initSources=c.isDefined(l.initSources)?l.initSources():[],l.config=c.isDefined(l.config)?l.config():{};var e={sourceId:"id",sourceUrl:"",sourceUrlKey:"source_url",sourceTitle:"title.rendered",returnModelType:"string",returnModelKey:"id",returnModelPush:!1,sourcesOffsetKey:"offset",sourcesLimitKey:"per_page",sourcesSearchKey:"search",sourcesQuery:{per_page:20},deleteQuery:{force:!0},upload:{crop:!0,multiple:!1,pattern:"image/*",minWidth:300,minHeight:300,cropArea:{color:"rgba(118, 118, 118, 0.8)",colorDrag:"rgba(118, 118, 118, 0.8)",colorBg:"rgba(200, 200, 200, 0.8)",colorCropBg:"rgba(0, 0, 0, 0.6)"},loadIcon:"spinner:clock"},gallery:{order:"date",searchValue:"",multiple:!l.single,selectedSources:[],loadIcon:"spinner:ripple"},model:[],sources:[]};l.media=o.merge({},e,l.media,l.config),l.media.model.length||"string"!==l.media.returnModelType||(l.media.model=""),c.isDefined(l.single)&&(l.media.gallery.multiple=!l.single),l.getSourcesFromModel(l.initSources),n.debug(l.media)},l.removeSource=function(e){l.media.sources.splice(e,1),c.isArray(l.media.model)?l.media.model.splice(e,1):c.isString(l.media.model)&&(l.media.model=l.media.model.split(","),l.media.model.splice(e,1),l.media.model=l.media.model.join(","))},l.getModel=function(){var e=l.media.sources.map(function(e){return e[l.media.returnModelKey]});switch(l.media.returnModelType){case"string":l.media.model=e.join(",");break;case"array":l.media.model=e}},l.onSortSources=function(e,r,t,i,a){n.debug(l.media.sources),l.getModel()},l.getSourcesFromModel=function(e){if(e){var r=c.isArray(e)?e.join(","):e.toString(),t=r.split(",");if(!r.length)return l.media.sources=[],l.getModel(),!1;var i=c.copy(l.media.sourcesQuery);i=c.extend(i,{include:r}),l.loading=!0,o.get(i).then(function(i){var a=[];c.forEach(t,function(e,r){var t=o.indexOf(i,e,l.media.returnModelKey);-1!==t&&a.push(i[t])}),l.media.sources=a,l.getModel(),l.loading=!1},function(e){l.loading=!1})}},this.init()}])}(angular),function(g){"use strict";var e=g.module("rcMedia");e.config(["$resourceProvider",function(e){e.defaults.cancellable=!0}]),e.provider("rcMedia",[function(){this.rest={url:"",path:"/wp-json/wp/v2/media"},this.locale=null,this.defaultText={"en-us":{TITLE_GALLERY:"Gallery",TITLE_EMPTY_GALLERY:"Your gallery is empty",TITLE_UPLOAD:"Upload file",TITLE_DRAG_FILE:"Drag files to upload",SUB_TITLE_EMPTY_GALLERY:"Upload your first file.",SUB_TITLE_DRAG_FILE:"or",BTN_CANCEL:"Cancel",BTN_SAVE:"Save",BTN_DELETE_FILE:"Delete file",BTN_DELETE_FILES:"Delete files",BTN_DESELECT_ALL:"Deselect all",BTN_SELECT_FILE:"Select file",BTN_SELECT_FILES:"Select files",BTN_SHOW_MORE:"Show More",BTN_BACK_GALLERY:"Back to gallery",BTN_UPLOAD_FILE:"Upload file",BTN_UPLOAD_FILES:"Upload files",BTN_BROWSE_FILE:"Browse a file",UPLOAD_INVALID_FILE:"Your file is not valid.",UPLOAD_INVALID_minWidth:"Minimum width",UPLOAD_INVALID_minHeight:"Minimum height",UPLOAD_INVALID_pattern:"File type error",UPLOAD_ERROR_SERVER:"This file is not supported by server"},"fr-FR":{TITLE_GALLERY:"Galerie",TITLE_EMPTY_GALLERY:"La galerie est vide",TITLE_UPLOAD:"Télécharger un fichier",TITLE_DRAG_FILE:"Glisser le fichier ici",SUB_TITLE_EMPTY_GALLERY:"Veuillez charger votre premier fichier.",SUB_TITLE_DRAG_FILE:"ou",BTN_CANCEL:"Annuler",BTN_SAVE:"Sauver",BTN_DELETE_FILE:"Supprimer le fichier",BTN_DELETE_FILES:"Supprimer les fichiers",BTN_DESELECT_ALL:"Désélectionner tous",BTN_SELECT_FILE:"Sélectionner le fichier",BTN_SELECT_FILES:"Sélectionner les fichiers",BTN_SHOW_MORE:"Voir plus",BTN_BACK_GALLERY:"Revenir à la galerie",BTN_UPLOAD_FILE:"Télécharger le fichier",BTN_UPLOAD_FILES:"Télécharger les fichiers",BTN_BROWSE_FILE:"Choisir un fichier",UPLOAD_INVALID_FILE:"Votre fichier n'est pas valide.",UPLOAD_INVALID_minWidth:"Largeur minimum",UPLOAD_INVALID_minHeight:"Hauteur minimum",UPLOAD_INVALID_pattern:"Type de fichier erroné",UPLOAD_ERROR_SERVER:"Ce fichier n'est pas pris en charge par le serveur"},"nl-NL":{TITLE_GALLERY:"Fotogalerij",TITLE_EMPTY_GALLERY:"Uw galerij is leeg",TITLE_UPLOAD:"File uploaden",TITLE_DRAG_FILE:"Zet de file hier neer",SUB_TITLE_EMPTY_GALLERY:"Upload hier uw eerste file.",SUB_TITLE_DRAG_FILE:"of",BTN_CANCEL:"Annuleren",BTN_SAVE:"Opslaan",BTN_DELETE_FILE:"File deleten",BTN_DELETE_FILES:"Files deleten",BTN_DESELECT_ALL:"Alles deselecteren",BTN_SELECT_FILE:"File selecteren",BTN_SELECT_FILES:"Files selecteren",BTN_SHOW_MORE:"Meer zien",BTN_BACK_GALLERY:"Terug naar de fotogalerij",BTN_UPLOAD_FILE:"File uploaden",BTN_UPLOAD_FILES:"Files uploaden",BTN_BROWSE_FILE:"File kiezen",UPLOAD_INVALID_FILE:"Uw file is niet geldig.",UPLOAD_INVALID_minWidth:"Minimum breedte",UPLOAD_INVALID_minHeight:"Minimum hoogte",UPLOAD_INVALID_pattern:"Verkeerde file type",UPLOAD_ERROR_SERVER:"Dit file wordt niet ondersteund door de server"}},this.interfaceText=g.copy(this.defaultText),this.$get=["$http","$locale",function(e,r){var t,i=this.rest;return(t=this.locale?this.interfaceText[this.locale]:this.interfaceText[r.id])||(t=this.defaultText["en-us"]),{getRest:function(){return i},getLocalizedText:function(e){if(e){var r=t[e];return r||""}return t}}}],this.setLocalizedText=function(e,r){if(!e)throw new Error("localeId must be a string formatted as languageId-countryId");this.interfaceText[e]||(this.interfaceText[e]={}),this.interfaceText[e]=g.extend(this.interfaceText[e],r)},this.useLocale=function(e){if(1===e.split("-").length)switch(e){case"en":e+="-US";break;default:e+="-"+e.toUpperCase()}this.locale=e},this.setRest=function(e){this.rest=e}}]),e.factory("rcMediaResource",["$resource","rcMedia",function(e,r){return{Media:e(r.getRest().url+r.getRest().path+"/:mediaId",{mediaId:"@media_id"},{get:{method:"GET",isArray:!1,cache:!1}},{query:{method:"GET",params:{},isArray:!0,cache:!1,cancellable:!0}})}}]),e.factory("rcMediaService",["$log","$q","rcMedia","rcMediaResource",function(e,r,t,i){return{getRestUrl:function(){return t.getRest().url+t.getRest().path},get:function(e,r){return!0===r&&void 0!==this.request&&g.isFunction(this.request.$cancelRequest)&&this.request.$cancelRequest(),g.isNumber(e)?(e={mediaId:e},this.request=i.Media.get(e)):(g.isObject(e)||(e={}),this.request=i.Media.query(e)),this.request.$promise},delete:function(e,r){return g.isUndefined(r)&&(r={}),g.extend(r,{mediaId:e}),i.Media.delete(r).$promise},indexOf:function(e,r,t){return g.isUndefined(r)||g.isUndefined(t)||!g.isArray(e)?-1:e.map(function(e){return r.constructor(e[t])}).indexOf(r)},merge:function(e){var r=[].slice,p=Array.isArray;return function e(r,t,i){for(var a=0,l=t.length;a<l;++a){var n=t[a];if(g.isObject(n)||g.isFunction(n))for(var o=Object.keys(n),c=0,s=o.length;c<s;c++){var d=o[c],u=n[d];i&&g.isObject(u)?(g.isObject(r[d])||(r[d]=p(u)?[]:{}),e(r[d],[u],!0)):r[d]=u}}return r}(e,r.call(arguments,1),!0)}}}])}(angular),angular.module("rcMedia").run(["$templateCache",function(e){e.put("rc-media-dialog-zf.tpl.html",'<rc-media class="rc-media"\n     rcm-source-url="{{rcDialogApi.data.sourceUrl}}"\n     rcm-source-url-key="{{rcDialogApi.data.sourceUrlKey}}"\n     rcm-source-id="{{rcDialogApi.data.sourceId}}"\n     rcm-source-title="{{rcDialogApi.data.sourceTitle}}"\n     data-ng-model="rcDialogApi.data.model"\n     data-ng-model-sources="rcDialogApi.data.sources"\n     rcm-return-model-type="{{rcDialogApi.data.returnModelType}}"\n     rcm-return-model-key="{{rcDialogApi.data.returnModelKey}}"\n     rcm-return-model-push="rcDialogApi.data.returnModelPush"\n     rcm-delete-query="{{rcDialogApi.data.deleteQuery}}"\n     rcm-sources-query="{{rcDialogApi.data.sourcesQuery}}"\n     rcm-sources-offset-key="{{rcDialogApi.data.sourcesOffsetKey}}"\n     rcm-sources-limit-key="{{rcDialogApi.data.sourcesLimitKey}}"\n     rcm-sources-search-key="{{rcDialogApi.data.sourcesSearchKey}}"\n>\n<div class="dialog-header">\n    <div class="gallery-view" data-ng-show="!selectedView" >\n        <h3 class="float-left dialog-title"><rcm-translate>TITLE_GALLERY</rcm-translate></h3>\n        <button class="button secondary hollow float-right dialog-close" type="button" data-ng-click="rcDialogApi.closeDialog()" aria-label="Close reveal" >\n            <span aria-hidden="true">&times;</span>\n        </button>\n        <button class="button primary hollow float-right upload" type="button" data-ng-show="!selectedView" data-ng-click="selectedView=\'fileUpload\'" >\n            <svg width="25" height="25" version="1.1" id="rcm_upload_svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n                   x="0px" y="0px" viewBox="0 0 23 20.5" style="enable-background:new 0 0 23 20.5;" xml:space="preserve"\n              >\n                <g id="rcm_upload_svg_arrow">\n                  <line id="rcm_upload_svg_line" class="st0" x1="11.5" y1="20.5" x2="11.5" y2="7.5"/>\n                  <polyline id="rcm_upload_svg_point" class="st1" points="8.5,10.5 11.5,7.5 14.5,10.5 \t"/>\n                </g>\n                <path\n                  id="rcm_upload_svg_cloud"\n                  class="st1"\n                  d="M15.5,15.5h3c2.2,0,4-1.8,4-4c0-2.2-1.8-4-4-4c-0.3-3.9-3.5-7-7.5-7c-4,0-7.3,3.2-7.5,7.1c-1.7,0.4-3,2-3,3.9c0,2.2,1.8,4,4,4h3"\n                />\n            </svg>\n            <rcm-translate>BTN_UPLOAD_FILE</rcm-translate>\n        </button>\n    </div>\n\n    <div class="upload-view" data-ng-show="selectedView==\'fileUpload\'">\n        <h3 class="float-left dialog-title" ><rcm-translate>TITLE_UPLOAD</rcm-translate></h3>\n        <button class="button secondary hollow float-right dialog-close" type="button" data-ng-click="rcDialogApi.closeDialog()" aria-label="Close reveal" >\n            <span aria-hidden="true">&times;</span>\n        </button>\n    </div>\n</div>\n<div class="dialog-body">\n\n    \x3c!-- Directive rc-media-upload --\x3e\n    <rcm-upload class="upload-view" data-ng-if="selectedView==\'fileUpload\'"\n         rcm-template-url="rc-media-upload-zf.tpl.html"\n         rcm-multiple="rcDialogApi.data.upload.multiple"\n         rcm-accept="\'{{rcDialogApi.data.upload.accept}}\'"\n         rcm-pattern="\'{{rcDialogApi.data.upload.pattern}}\'"\n         rcm-file-name="{{rcDialogApi.data.upload.fileName}}"\n         rcm-fields="{{rcDialogApi.data.upload.fields}}"\n         rcm-min-width="rcDialogApi.data.upload.minWidth"\n         rcm-min-height="rcDialogApi.data.upload.minHeight"\n         rcm-fix-orientation="rcDialogApi.data.upload.fixOrientation"\n         rcm-crop="rcDialogApi.data.upload.crop"\n         rcm-crop-area="rcDialogApi.data.upload.cropArea"\n         rcm-load-icon="{{rcDialogApi.data.upload.loadIcon}}"\n         rcm-change="selectedView=false"\n    ></rcm-upload>\n\n    <div class="gallery-view" data-ng-show="!selectedView">\n        \x3c!-- Directive rc-media-gallery --\x3e\n        <rcm-gallery\n             rcm-template-url="rc-media-gallery-zf.tpl.html"\n             rcm-order="{{rcDialogApi.data.gallery.order}}"\n             rcm-multiple="rcDialogApi.data.gallery.multiple"\n             rcm-selected-sources="rcDialogApi.data.gallery.selectedSources"\n             rcm-search-value="{{rcDialogApi.data.gallery.searchValue}}"\n             rcm-load-icon="{{rcDialogApi.data.gallery.loadIcon}}"\n        ></rcm-gallery>\n    </div>\n</div>\n<div class="dialog-footer" data-ng-show="selectedView || rcDialogApi.data.gallery.selectedSources.length">\n    <rcm-upload-controls class="upload-view" data-ng-if="selectedView==\'fileUpload\'"\n         rcm-template-url="rc-media-upload-controls-zf.tpl.html"\n         data-ng-model="rcDialogApi.data.uploadFile"\n         rcm-save-click="selectedView=false"\n         rcm-cancel-click="selectedView=false"\n    ></rcm-upload-controls>\n\n    <rcm-gallery-controls class="gallery-view" data-ng-if="!selectedView"\n         rcm-template-url="rc-media-gallery-controls-zf.tpl.html"\n         rcm-save-click="rcDialogApi.confirmDialog()"\n    ></rcm-gallery-controls>\n</div>\n</rc-media>'),e.put("rc-media-gallery-controls-zf.tpl.html",'<button class="button alert hollow float-left delete-file" data-ng-click="deleteSources()" data-ng-disabled="loading"><rcm-translate>BTN_DELETE_FILE</rcm-translate></button>\n<button class="button secondary hollow float-left deselect-all" data-ng-click="deselectSources()" data-ng-disabled="loading"><rcm-translate>BTN_DESELECT_ALL</rcm-translate></button>\n<button class="button primary float-right select-file" data-ng-click="saveSources()" data-ng-disabled="loading"><rcm-translate>BTN_SELECT_FILE</rcm-translate></button>'),e.put("rc-media-gallery-zf.tpl.html",'<div class="rcm-gallery" >\n\n    <alert class="message" data-ng-repeat="alert in alerts" type="alert.type" close="closeAlert($index)">{{alert.msg}}</alert>\n\n    <div data-ng-show="loading" class="loading-overlay">\n        <div device-detector class="is-not-ie">\n            <webicon class="loading-icon" icon="{{loadIcon}}"></webicon>\n        </div>\n        <div device-detector class="is-ie">\n            <div class=\'loading-icon ripple-css\'><div></div><div></div></div>\n        </div>\n    </div>\n\n    <div class="gallery-overlay" scrollbar="{autoUpdate: true}">\n\n        <div class="gallery-sources" data-ng-show="sources.length > 0">\n            <a data-ng-repeat="source in sources | orderBy:order:true"\n               href=""\n               class="thumbnail-block"\n               data-ng-class="{\'selected\': source.activeClass}"\n               data-ng-click="selectSource(source)">\n                <div class="thumbnail"\n                     data-ng-style="{\'background-image\':\'url(\\\'{{rcMediaApi.sourceUrl + source[rcMediaApi.sourceUrlKey]}}\\\')\', \'background-repeat\': \'no-repeat\', \'background-position\': \'center center\', \'background-size\': \'contain\'}"\n                     tooltip-placement="bottom"\n                     tooltip-html-unsafe="{{source.tooltipTitle}}"\n                ></div>\n            </a>\n\n            <button type="button" class="button secondary float-center load-more" data-ng-show="loadMore" data-ng-click="loadMoreSources()" data-ng-disabled="loading">\n                <i class="fa fa-plus"></i>\n                <rcm-translate>BTN_SHOW_MORE</rcm-translate>\n            </button>\n        </div>\n\n        <div class="gallery-empty" data-ng-hide="sources.length || loading">\n            <div class="center-content">\n                <h4><rcm-translate>TITLE_EMPTY_GALLERY</rcm-translate></h4>\n                <p><rcm-translate>SUB_TITLE_EMPTY_GALLERY</rcm-translate></p>\n            </div>\n        </div>\n    </div>\n</div>'),e.put("rc-media-upload-controls-zf.tpl.html",'<div data-ng-show="rcMediaApi.upload.currentState==\'selectFiles\'">\n    <button class="button secondary hollow float-left" data-ng-click="resetUploadFile(true)"><rcm-translate>BTN_BACK_GALLERY</rcm-translate></button>\n</div>\n\n<div data-ng-show="rcMediaApi.upload.currentState==\'cropImage\'">\n    <button class="button primary float-right" data-ng-click="uploadFile()"><rcm-translate>BTN_SAVE</rcm-translate></button>\n    <button class="button hollow secondary float-right" data-ng-click="resetUploadFile()"><rcm-translate>BTN_CANCEL</rcm-translate></button>\n</div>\n\n<div data-ng-show="rcMediaApi.upload.currentState==\'progressFiles\'">\n    <button class="button secondary float-right" data-ng-click="cancelUploadFile()"><rcm-translate>BTN_CANCEL</rcm-translate></button>\n</div>\n'),e.put("rc-media-upload-zf.tpl.html",'<div class="rcm-upload">\n\n  <alert class="message" data-ng-repeat="alert in alerts" type="alert.type" close="closeAlert($index)">{{alert.msg}}</alert>\n\n  <div data-ng-show="currentState==\'selectFiles\'" class="rcm-dropzone"\n       ngf-drop\n       data-ng-model="file.source"\n       ngf-change="changeFiles($files, $file, $newFiles, $duplicateFiles, $invalidFiles, $event)"\n       ngf-drag-over-class="dragover"\n       ngf-multiple="multiple"\n       ngf-accept="{{accept}}"\n       ngf-pattern="{{pattern}}"\n       ngf-min-width="minWidth"\n       ngf-min-height="minHeight"\n       ngf-fix-orientation="fixOrientation"\n  >\n\n    <div class="select-file" >\n      <svg width="150" height="150" version="1.1" id="rcm_upload_svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n           x="0px" y="0px" viewBox="0 0 23 20.5" style="enable-background:new 0 0 23 20.5;" xml:space="preserve"\n      >\n        <g id="rcm_upload_svg_arrow">\n\t      <line id="rcm_upload_svg_line" class="st0" x1="11.5" y1="20.5" x2="11.5" y2="7.5"/>\n\t      <polyline id="rcm_upload_svg_point" class="st1" points="8.5,10.5 11.5,7.5 14.5,10.5 \t"/>\n        </g>\n        <path\n          id="rcm_upload_svg_cloud"\n          class="st1"\n          d="M15.5,15.5h3c2.2,0,4-1.8,4-4c0-2.2-1.8-4-4-4c-0.3-3.9-3.5-7-7.5-7c-4,0-7.3,3.2-7.5,7.1c-1.7,0.4-3,2-3,3.9c0,2.2,1.8,4,4,4h3"\n        />\n      </svg>\n\n      <h3><rcm-translate>TITLE_DRAG_FILE</rcm-translate></h3>\n      <p class="lead"><rcm-translate>SUB_TITLE_DRAG_FILE</rcm-translate></p>\n\n      <button ngf-select\n              data-ng-model="file.source"\n              ngf-change="changeFiles($files, $file, $newFiles, $duplicateFiles, $invalidFiles, $event)"\n              ngf-multiple="multiple"\n              ngf-accept="{{accept}}"\n              ngf-pattern="{{pattern}}"\n              ngf-min-width="minWidth"\n              ngf-min-height="minHeight"\n              type="button"\n              class="button primary large"\n      >\n        <rcm-translate>BTN_BROWSE_FILE</rcm-translate>\n      </button>\n    </div>\n  </div>\n\n  <div class="crop-area" data-ng-if="currentState==\'cropImage\'">\n    <div>\n      <canvas\n              height="{{cropArea.height}}px"\n              width="{{cropArea.width}}px"\n              min-width="cropArea.minWidth"\n              min-height="cropArea.minHeight"\n              id="canvas"\n              img-cropper\n              img-src="{imageData: (file.source | ngfDataUrl), fileType: file.source.type}"\n              img-dst="file.destDataUrl"\n              crop-width="cropArea.cropWidth"\n              crop-height="cropArea.cropHeight"\n              keep-aspect="cropArea.keepAspect"\n              keep-aspect-ratio="cropArea.keepAspectRatio"\n              enforce-crop-aspect="cropArea.enforceCropAspect"\n              touch-radius="cropArea.touchRadius"\n              color="{{cropArea.color}}"\n              color-drag="{{cropArea.colorDrag}}"\n              color-bg="{{cropArea.colorBg}}"\n              color-crop-bg="{{cropArea.colorCropBg}}"\n      >\n      </canvas>\n    </div>\n  </div>\n\n  <div data-ng-show="currentState==\'progressFiles\'" class="preview-file" >\n\n    <div data-ng-show="loading" class="loading-overlay">\n      <div device-detector class="is-not-ie">\n        <webicon class="loading-icon" icon="{{loadIcon}}"></webicon>\n      </div>\n      <div device-detector class="is-ie">\n        <div class=\'loading-icon ripple-css\'><div></div><div></div></div>\n      </div>\n    </div>\n\n    <img class="float-center" width="300" height="300" data-ng-src="{{file.destDataUrl}}" alt="">\n  </div>\n</div>'),e.put("rc-media-search-zf.tpl.html",'<div class="rcm-search input-group">\n  <span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span>\n  <input type="text" class="form-control" data-ng-model="search" placeholder="Search ...">\n</div>'),e.put("rc-media-select-draggable.tpl.html",'<div class="rcm-select">\n    <div class="preview-gallery-overlay">\n        <ul class="rcm-preview-gallery" sv-root sv-part="media.sources" sv-on-sort="onSortSources($item, $partFrom, $partTo, $indexFrom, $indexTo)" data-ng-show="media.sources.length">\n            <li sv-placeholder class="placeholder-left image"><div><i class="rcm-placeholder"></i></div></li>\n            <li data-ng-repeat="source in media.sources" class="image" sv-element>\n                <a href="" sv-handle data-ng-mouseenter="sourceHover=true" ng-mouseleave="sourceHover=false" data-ng-click="removeSource($index)" >\n                    <div data-ng-style="{\'background-image\':\'url(\\\'{{media.sourceUrl + source[media.sourceUrlKey]}}\\\')\', \'background-repeat\': \'no-repeat\', \'background-position\': \'center center\', \'background-size\': \'contain\'}">\n                        <i class="rcm-remove" data-ng-show="sourceHover"></i>\n                    </div>\n                </a>\n            </li>\n        </ul>\n        <input name="{{name}}" id="{{id}}" type="{{type}}" data-ng-model="media.model" data-ng-update-hidden />\n        <button type="button" class="{{class}}" data-ng-hide="(media.sources.length && onetime) || loading" rcd-open="{{theme}}" rcd-data="media" rcd-template-url="rc-media-dialog-zf.tpl.html" rcd-backdrop="true" rcd-click-close="false" rcd-class="dialog-media" data-ng-transclude></button>\n    </div>\n</div>'),e.put("rc-media-select.tpl.html",'<div class="rcm-select">\n    <div class="preview-gallery-overlay">\n        <ul class="rcm-preview-gallery" data-ng-show="media.sources.length">\n            <li data-ng-repeat="source in media.sources" class="image">\n                <a href="" data-ng-mouseenter="sourceHover=true" ng-mouseleave="sourceHover=false" data-ng-click="removeSource($index)" >\n                    <div data-ng-style="{\'background-image\':\'url(\\\'{{media.sourceUrl + source[media.sourceUrlKey]}}\\\')\', \'background-repeat\': \'no-repeat\', \'background-position\': \'center center\', \'background-size\': \'contain\'}">\n                        <i class="rcm-remove" data-ng-show="sourceHover"></i>\n                    </div>\n                </a>\n            </li>\n        </ul>\n        <input name="{{name}}" id="{{id}}" type="{{type}}" data-ng-model="media.model" data-ng-update-hidden />\n        <button type="button" class="{{class}}" data-ng-hide="(media.sources.length && onetime) || loading" rcd-open="{{theme}}" rcd-data="media" rcd-template-url="rc-media-dialog-zf.tpl.html" rcd-backdrop="true" rcd-click-close="false" rcd-class="dialog-media" data-ng-transclude></button>\n    </div>\n</div>')}]);