!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.satellizer=t()}(this,function(){"use strict";var e=function(){function e(){this.baseUrl="/",this.loginUrl="/auth/login",this.signupUrl="/auth/signup",this.unlinkUrl="/auth/unlink/",this.tokenName="token",this.tokenPrefix="satellizer",this.tokenHeader="Authorization",this.tokenType="Bearer",this.storageType="localStorage",this.tokenRoot=null,this.withCredentials=!1,this.providers={facebook:{name:"facebook",url:"/auth/facebook",authorizationEndpoint:"https://www.facebook.com/v2.5/dialog/oauth",redirectUri:window.location.origin+"/",requiredUrlParams:["display","scope"],scope:["email"],scopeDelimiter:",",display:"popup",oauthType:"2.0",popupOptions:{width:580,height:400}},google:{name:"google",url:"/auth/google",authorizationEndpoint:"https://accounts.google.com/o/oauth2/auth",redirectUri:window.location.origin,requiredUrlParams:["scope"],optionalUrlParams:["display","state"],scope:["profile","email"],scopePrefix:"openid",scopeDelimiter:" ",display:"popup",oauthType:"2.0",popupOptions:{width:452,height:633},state:function(){return encodeURIComponent(Math.random().toString(36).substr(2))}},github:{name:"github",url:"/auth/github",authorizationEndpoint:"https://github.com/login/oauth/authorize",redirectUri:window.location.origin,optionalUrlParams:["scope"],scope:["user:email"],scopeDelimiter:" ",oauthType:"2.0",popupOptions:{width:1020,height:618}},instagram:{name:"instagram",url:"/auth/instagram",authorizationEndpoint:"https://api.instagram.com/oauth/authorize",redirectUri:window.location.origin,requiredUrlParams:["scope"],scope:["basic"],scopeDelimiter:"+",oauthType:"2.0"},linkedin:{name:"linkedin",url:"/auth/linkedin",authorizationEndpoint:"https://www.linkedin.com/uas/oauth2/authorization",redirectUri:window.location.origin,requiredUrlParams:["state"],scope:["r_emailaddress"],scopeDelimiter:" ",state:"STATE",oauthType:"2.0",popupOptions:{width:527,height:582}},twitter:{name:"twitter",url:"/auth/twitter",authorizationEndpoint:"https://api.twitter.com/oauth/authenticate",redirectUri:window.location.origin,oauthType:"1.0",popupOptions:{width:495,height:645}},twitch:{name:"twitch",url:"/auth/twitch",authorizationEndpoint:"https://api.twitch.tv/kraken/oauth2/authorize",redirectUri:window.location.origin,requiredUrlParams:["scope"],scope:["user_read"],scopeDelimiter:" ",display:"popup",oauthType:"2.0",popupOptions:{width:500,height:560}},live:{name:"live",url:"/auth/live",authorizationEndpoint:"https://login.live.com/oauth20_authorize.srf",redirectUri:window.location.origin,requiredUrlParams:["display","scope"],scope:["wl.emails"],scopeDelimiter:" ",display:"popup",oauthType:"2.0",popupOptions:{width:500,height:560}},yahoo:{name:"yahoo",url:"/auth/yahoo",authorizationEndpoint:"https://api.login.yahoo.com/oauth2/request_auth",redirectUri:window.location.origin,scope:[],scopeDelimiter:",",oauthType:"2.0",popupOptions:{width:559,height:519}},bitbucket:{name:"bitbucket",url:"/auth/bitbucket",authorizationEndpoint:"https://bitbucket.org/site/oauth2/authorize",redirectUri:window.location.origin+"/",requiredUrlParams:["scope"],scope:["email"],scopeDelimiter:" ",oauthType:"2.0",popupOptions:{width:1028,height:529}},spotify:{name:"spotify",url:"/auth/spotify",authorizationEndpoint:"https://accounts.spotify.com/authorize",redirectUri:window.location.origin,optionalUrlParams:["state"],requiredUrlParams:["scope"],scope:["user-read-email"],scopePrefix:"",scopeDelimiter:",",oauthType:"2.0",popupOptions:{width:500,height:530},state:function(){return encodeURIComponent(Math.random().toString(36).substr(2))}}},this.httpInterceptor=function(){return!0}}return Object.defineProperty(e,"getConstant",{get:function(){return new e},enumerable:!0,configurable:!0}),e}(),t=function(){function e(e){this.SatellizerConfig=e}return Object.defineProperty(e.prototype,"baseUrl",{get:function(){return this.SatellizerConfig.baseUrl},set:function(e){this.SatellizerConfig.baseUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loginUrl",{get:function(){return this.SatellizerConfig.loginUrl},set:function(e){this.SatellizerConfig.loginUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"signupUrl",{get:function(){return this.SatellizerConfig.signupUrl},set:function(e){this.SatellizerConfig.signupUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"unlinkUrl",{get:function(){return this.SatellizerConfig.unlinkUrl},set:function(e){this.SatellizerConfig.unlinkUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tokenRoot",{get:function(){return this.SatellizerConfig.tokenRoot},set:function(e){this.SatellizerConfig.tokenRoot=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tokenName",{get:function(){return this.SatellizerConfig.tokenName},set:function(e){this.SatellizerConfig.tokenName=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tokenPrefix",{get:function(){return this.SatellizerConfig.tokenPrefix},set:function(e){this.SatellizerConfig.tokenPrefix=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tokenHeader",{get:function(){return this.SatellizerConfig.tokenHeader},set:function(e){this.SatellizerConfig.tokenHeader=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tokenType",{get:function(){return this.SatellizerConfig.tokenType},set:function(e){this.SatellizerConfig.tokenType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"withCredentials",{get:function(){return this.SatellizerConfig.withCredentials},set:function(e){this.SatellizerConfig.withCredentials=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"storageType",{get:function(){return this.SatellizerConfig.storageType},set:function(e){this.SatellizerConfig.storageType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"httpInterceptor",{get:function(){return this.SatellizerConfig.httpInterceptor},set:function(e){this.SatellizerConfig.httpInterceptor="function"==typeof e?e:function(){return e}},enumerable:!0,configurable:!0}),e.prototype.facebook=function(e){angular.extend(this.SatellizerConfig.providers.facebook,e)},e.prototype.google=function(e){angular.extend(this.SatellizerConfig.providers.google,e)},e.prototype.github=function(e){angular.extend(this.SatellizerConfig.providers.github,e)},e.prototype.instagram=function(e){angular.extend(this.SatellizerConfig.providers.instagram,e)},e.prototype.linkedin=function(e){angular.extend(this.SatellizerConfig.providers.linkedin,e)},e.prototype.twitter=function(e){angular.extend(this.SatellizerConfig.providers.twitter,e)},e.prototype.twitch=function(e){angular.extend(this.SatellizerConfig.providers.twitch,e)},e.prototype.live=function(e){angular.extend(this.SatellizerConfig.providers.live,e)},e.prototype.yahoo=function(e){angular.extend(this.SatellizerConfig.providers.yahoo,e)},e.prototype.bitbucket=function(e){angular.extend(this.SatellizerConfig.providers.bitbucket,e)},e.prototype.spotify=function(e){angular.extend(this.SatellizerConfig.providers.spotify,e)},e.prototype.oauth1=function(e){this.SatellizerConfig.providers[e.name]=angular.extend(e,{oauthType:"1.0"})},e.prototype.oauth2=function(e){this.SatellizerConfig.providers[e.name]=angular.extend(e,{oauthType:"2.0"})},e.prototype.$get=function(t,i,r){return{login:function(e,t){return i.login(e,t)},signup:function(e,t){return i.signup(e,t)},logout:function(){return t.logout()},authenticate:function(e,t){return r.authenticate(e,t)},link:function(e,t){return r.authenticate(e,t)},unlink:function(e,t){return r.unlink(e,t)},isAuthenticated:function(){return t.isAuthenticated()},getPayload:function(){return t.getPayload()},getToken:function(){return t.getToken()},setToken:function(e){return t.setToken({access_token:e})},removeToken:function(){return t.removeToken()},setStorageType:function(e){return t.setStorageType(e)}}},e.$inject=["SatellizerConfig"],e}();function n(e,t){if(/^(?:[a-z]+:)?\/\//i.test(t))return t;var i=[e,t].join("/");return i.replace(/[\/]+/g,"/").replace(/\/\?/g,"?").replace(/\/\#/g,"#").replace(/\:\//g,"://")}function u(e){var t="https:"===e.protocol;return e.protocol+"//"+e.hostname+":"+(e.port||(t?"443":"80"))+(/^\//.test(e.pathname)?e.pathname:"/"+e.pathname)}function s(e){var t,i,r={};return angular.forEach((e||"").split("&"),function(e){e&&(i=e.split("="),t=decodeURIComponent(i[0]),r[t]=!angular.isDefined(i[1])||decodeURIComponent(i[1]))}),r}function i(e){var t;if("undefined"!=typeof module&&module.exports)try{t=require("buffer").Buffer}catch(e){}var i=String.fromCharCode,r=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),o=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return i(55296+(t>>>10))+i(56320+(1023&t));case 3:return i((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return i((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}};return(t?function(e){return(e.constructor===t.constructor?e:new t(e,"base64")).toString()}:function(e){return atob(e).replace(r,o)})(String(e).replace(/[-_]/g,function(e){return"-"===e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))}t.prototype.$get.$inject=["SatellizerShared","SatellizerLocal","SatellizerOAuth"];var r=function(){function e(e,t,i,r){this.$q=e,this.$window=t,this.SatellizerConfig=i,this.SatellizerStorage=r;var o=this.SatellizerConfig,n=o.tokenName,a=o.tokenPrefix;this.prefixedTokenName=a?[a,n].join("_"):n}return e.prototype.getToken=function(){return this.SatellizerStorage.get(this.prefixedTokenName)},e.prototype.getPayload=function(){var e=this.SatellizerStorage.get(this.prefixedTokenName);if(e&&3===e.split(".").length)try{var t=e.split(".")[1].replace("-","+").replace("_","/");return JSON.parse(i(t))}catch(e){}},e.prototype.setToken=function(e){var t,i=this.SatellizerConfig.tokenRoot,r=this.SatellizerConfig.tokenName,o=e&&e.access_token;if(o&&(angular.isObject(o)&&angular.isObject(o.data)?e=o:angular.isString(o)&&(t=o)),!t&&e){var n=i&&i.split(".").reduce(function(e,t){return e[t]},e.data);t=n?n[r]:e.data&&e.data[r]}t&&this.SatellizerStorage.set(this.prefixedTokenName,t)},e.prototype.removeToken=function(){this.SatellizerStorage.remove(this.prefixedTokenName)},e.prototype.isAuthenticated=function(){var e=this.SatellizerStorage.get(this.prefixedTokenName);if(e){if(3===e.split(".").length)try{var t=e.split(".")[1].replace("-","+").replace("_","/"),i=JSON.parse(this.$window.atob(t)).exp;if("number"==typeof i)return Math.round((new Date).getTime()/1e3)<i}catch(e){return!0}return!0}return!1},e.prototype.logout=function(){return this.SatellizerStorage.remove(this.prefixedTokenName),this.$q.when()},e.prototype.setStorageType=function(e){this.SatellizerConfig.storageType=e},e.$inject=["$q","$window","SatellizerConfig","SatellizerStorage"],e}(),o=function(){function e(e,t,i){this.$http=e,this.SatellizerConfig=t,this.SatellizerShared=i}return e.prototype.login=function(e,t){var i=this;return void 0===t&&(t={}),t.url=t.url?t.url:n(this.SatellizerConfig.baseUrl,this.SatellizerConfig.loginUrl),t.data=e||t.data,t.method=t.method||"POST",t.withCredentials=t.withCredentials||this.SatellizerConfig.withCredentials,this.$http(t).then(function(e){return i.SatellizerShared.setToken(e),e})},e.prototype.signup=function(e,t){return void 0===t&&(t={}),t.url=t.url?t.url:n(this.SatellizerConfig.baseUrl,this.SatellizerConfig.signupUrl),t.data=e||t.data,t.method=t.method||"POST",t.withCredentials=t.withCredentials||this.SatellizerConfig.withCredentials,this.$http(t)},e.$inject=["$http","SatellizerConfig","SatellizerShared"],e}(),a=function(){function e(e,t,i){this.$interval=e,this.$window=t,this.$q=i,this.popup=null,this.defaults={redirectUri:null}}return e.prototype.stringifyOptions=function(e){var i=[];return angular.forEach(e,function(e,t){i.push(t+"="+e)}),i.join(",")},e.prototype.open=function(e,t,i,r,o){var n=i.width||500,a=i.height||500,l=this.stringifyOptions({width:n,height:a,top:this.$window.screenY+(this.$window.outerHeight-a)/2.5,left:this.$window.screenX+(this.$window.outerWidth-n)/2}),u=this.$window.cordova||-1<this.$window.navigator.userAgent.indexOf("CriOS")?"_blank":t;if(this.popup=this.$window.open(e,u,l),this.popup&&this.popup.focus&&this.popup.focus(),!o)return this.$window.cordova?this.eventListener(r):("about:blank"===e&&(this.popup.location=e),this.polling(r))},e.prototype.polling=function(t){var l=this;return this.$q(function(r,o){var e=document.createElement("a");e.href=t;var n=u(e),a=l.$interval(function(){l.popup&&!l.popup.closed&&void 0!==l.popup.closed||(l.$interval.cancel(a),o(new Error("The popup window was closed")));try{if(u(l.popup.location)===n){if(l.popup.location.search||l.popup.location.hash){var e=s(l.popup.location.search.substring(1).replace(/\/$/,"")),t=s(l.popup.location.hash.substring(1).replace(/[\/$]/,"")),i=angular.extend({},e,t);i.error?o(new Error(i.error)):r(i)}else o(new Error("OAuth redirect has occurred but no query or hash parameters were found. They were either not set during the redirect, or were removed—typically by a routing library—before Satellizer could read it."));l.$interval.cancel(a),l.popup.close()}}catch(e){}},500)})},e.prototype.eventListener=function(l){var u=this;return this.$q(function(n,a){u.popup.addEventListener("loadstart",function(e){if(0===e.url.indexOf(l)){var t=document.createElement("a");if(t.href=e.url,t.search||t.hash){var i=s(t.search.substring(1).replace(/\/$/,"")),r=s(t.hash.substring(1).replace(/[\/$]/,"")),o=angular.extend({},i,r);o.error?a(new Error(o.error)):n(o),u.popup.close()}}}),u.popup.addEventListener("loaderror",function(){a(new Error("Authorization failed"))}),u.popup.addEventListener("exit",function(){a(new Error("The popup window was closed"))})})},e.$inject=["$interval","$window","$q"],e}(),l=function(){function e(e,t,i,r){this.$http=e,this.$window=t,this.SatellizerConfig=i,this.SatellizerPopup=r,this.defaults={name:null,url:null,authorizationEndpoint:null,scope:null,scopePrefix:null,scopeDelimiter:null,redirectUri:null,requiredUrlParams:null,defaultUrlParams:null,oauthType:"1.0",popupOptions:{width:null,height:null}}}return e.prototype.init=function(t,i){var r=this;angular.extend(this.defaults,t);var e=t.name,o=t.popupOptions,n=this.defaults.redirectUri;return this.$window.cordova||this.SatellizerPopup.open("about:blank",e,o,n,!0),this.getRequestToken().then(function(e){return r.openPopup(t,e).then(function(e){return r.exchangeForToken(e,i)})})},e.prototype.openPopup=function(e,t){var i=[e.authorizationEndpoint,this.buildQueryString(t.data)].join("?"),r=this.defaults.redirectUri;return this.$window.cordova?this.SatellizerPopup.open(i,e.name,e.popupOptions,r):(this.SatellizerPopup.popup.location=i,this.SatellizerPopup.polling(r))},e.prototype.getRequestToken=function(){var e=this.SatellizerConfig.baseUrl?n(this.SatellizerConfig.baseUrl,this.defaults.url):this.defaults.url;return this.$http.post(e,this.defaults)},e.prototype.exchangeForToken=function(e,t){var i=angular.extend({},t,e),r=this.SatellizerConfig.baseUrl?n(this.SatellizerConfig.baseUrl,this.defaults.url):this.defaults.url;return this.$http.post(r,i,{withCredentials:this.SatellizerConfig.withCredentials})},e.prototype.buildQueryString=function(e){var i=[];return angular.forEach(e,function(e,t){i.push(encodeURIComponent(t)+"="+encodeURIComponent(e))}),i.join("&")},e.$inject=["$http","$window","SatellizerConfig","SatellizerPopup"],e}(),p=function(){function a(e,t,i,r,o,n,a){this.$http=e,this.$window=t,this.$timeout=i,this.$q=r,this.SatellizerConfig=o,this.SatellizerPopup=n,this.SatellizerStorage=a,this.defaults={name:null,url:null,clientId:null,authorizationEndpoint:null,redirectUri:null,scope:null,scopePrefix:null,scopeDelimiter:null,state:null,requiredUrlParams:null,defaultUrlParams:["response_type","client_id","redirect_uri"],responseType:"code",responseParams:{code:"code",clientId:"clientId",redirectUri:"redirectUri"},oauthType:"2.0",popupOptions:{width:null,height:null}}}return a.camelCase=function(e){return e.replace(/([\:\-\_]+(.))/g,function(e,t,i,r){return r?i.toUpperCase():i})},a.prototype.init=function(p,h){var c=this;return this.$q(function(t,i){angular.extend(c.defaults,p);var r=c.defaults.name+"_state",e=c.defaults,o=e.name,n=e.state,a=e.popupOptions,l=e.redirectUri,u=e.responseType;"function"==typeof n?c.SatellizerStorage.set(r,n()):"string"==typeof n&&c.SatellizerStorage.set(r,n);var s=[c.defaults.authorizationEndpoint,c.buildQueryString()].join("?");c.SatellizerPopup.open(s,o,a,l).then(function(e){return"token"!==u&&s?e.state&&e.state!==c.SatellizerStorage.get(r)?i(new Error("The value returned in the state parameter does not match the state value from your original authorization code request.")):void t(c.exchangeForToken(e,h)):t(e)}).catch(function(e){return i(e)})})},a.prototype.exchangeForToken=function(i,e){var r=this,o=angular.extend({},e);angular.forEach(this.defaults.responseParams,function(e,t){switch(t){case"code":o[e]=i.code;break;case"clientId":o[e]=r.defaults.clientId;break;case"redirectUri":o[e]=r.defaults.redirectUri;break;default:o[e]=i[t]}}),i.state&&(o.state=i.state);var t=this.SatellizerConfig.baseUrl?n(this.SatellizerConfig.baseUrl,this.defaults.url):this.defaults.url;return this.$http.post(t,o,{withCredentials:this.SatellizerConfig.withCredentials})},a.prototype.buildQueryString=function(){var o=this,n=[];return angular.forEach(["defaultUrlParams","requiredUrlParams","optionalUrlParams"],function(e){angular.forEach(o.defaults[e],function(e){var t=a.camelCase(e),i=angular.isFunction(o.defaults[e])?o.defaults[e]():o.defaults[t];if("redirect_uri"!==e||i){if("state"===e){var r=o.defaults.name+"_state";i=encodeURIComponent(o.SatellizerStorage.get(r))}"scope"===e&&Array.isArray(i)&&(i=i.join(o.defaults.scopeDelimiter),o.defaults.scopePrefix&&(i=[o.defaults.scopePrefix,i].join(o.defaults.scopeDelimiter))),n.push([e,i])}})}),n.map(function(e){return e.join("=")}).join("&")},a.$inject=["$http","$window","$timeout","$q","SatellizerConfig","SatellizerPopup","SatellizerStorage"],a}(),h=function(){function e(e,t,i,r,o,n,a,l,u,s){this.$http=e,this.$window=t,this.$timeout=i,this.$q=r,this.SatellizerConfig=o,this.SatellizerPopup=n,this.SatellizerStorage=a,this.SatellizerShared=l,this.SatellizerOAuth1=u,this.SatellizerOAuth2=s}return e.prototype.authenticate=function(o,n){var a=this;return this.$q(function(t,i){var r=a.SatellizerConfig.providers[o],e=null;switch(r.oauthType){case"1.0":e=new l(a.$http,a.$window,a.SatellizerConfig,a.SatellizerPopup);break;case"2.0":e=new p(a.$http,a.$window,a.$timeout,a.$q,a.SatellizerConfig,a.SatellizerPopup,a.SatellizerStorage);break;default:return i(new Error("Invalid OAuth Type"))}return e.init(r,n).then(function(e){r.url&&a.SatellizerShared.setToken(e),t(e)}).catch(function(e){i(e)})})},e.prototype.unlink=function(e,t){return void 0===t&&(t={}),t.url=t.url?t.url:n(this.SatellizerConfig.baseUrl,this.SatellizerConfig.unlinkUrl),t.data={provider:e},t.method=t.method||"POST",t.withCredentials=t.withCredentials||this.SatellizerConfig.withCredentials,this.$http(t)},e.$inject=["$http","$window","$timeout","$q","SatellizerConfig","SatellizerPopup","SatellizerStorage","SatellizerShared","SatellizerOAuth1","SatellizerOAuth2"],e}(),c=function(){function e(e,t){this.$window=e,this.SatellizerConfig=t,this.memoryStore={}}return e.prototype.get=function(t){try{return this.$window[this.SatellizerConfig.storageType].getItem(t)}catch(e){return this.memoryStore[t]}},e.prototype.set=function(t,i){try{this.$window[this.SatellizerConfig.storageType].setItem(t,i)}catch(e){this.memoryStore[t]=i}},e.prototype.remove=function(t){try{this.$window[this.SatellizerConfig.storageType].removeItem(t)}catch(e){delete this.memoryStore[t]}},e.$inject=["$window","SatellizerConfig"],e}(),f=function(){function r(e,t,i){var r=this;this.SatellizerConfig=e,this.SatellizerShared=t,this.SatellizerStorage=i,this.request=function(e){if(e.skipAuthorization)return e;if(r.SatellizerShared.isAuthenticated()&&r.SatellizerConfig.httpInterceptor()){var t=r.SatellizerConfig.tokenPrefix?[r.SatellizerConfig.tokenPrefix,r.SatellizerConfig.tokenName].join("_"):r.SatellizerConfig.tokenName,i=r.SatellizerStorage.get(t);r.SatellizerConfig.tokenHeader&&r.SatellizerConfig.tokenType&&(i=r.SatellizerConfig.tokenType+" "+i),e.headers[r.SatellizerConfig.tokenHeader]=i}return e}}return r.Factory=function(e,t,i){return new r(e,t,i)},r.$inject=["SatellizerConfig","SatellizerShared","SatellizerStorage"],r}();f.Factory.$inject=["SatellizerConfig","SatellizerShared","SatellizerStorage"];var d=function(){function e(e){(this.$httpProvider=e).interceptors.push(f.Factory)}return e.$inject=["$httpProvider"],e}();angular.module("satellizer",[]).provider("$auth",["SatellizerConfig",function(e){return new t(e)}]).constant("SatellizerConfig",e.getConstant).service("SatellizerShared",r).service("SatellizerLocal",o).service("SatellizerPopup",a).service("SatellizerOAuth",h).service("SatellizerOAuth2",p).service("SatellizerOAuth1",l).service("SatellizerStorage",c).service("SatellizerInterceptor",f).config(["$httpProvider",function(e){return new d(e)}]);return"satellizer"});