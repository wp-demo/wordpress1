!function(e){"use strict";angular.module("rcDialog",[])}(),function(c){"use strict";c.module("rcDialog").directive("rcdOpen",["rcDialog",function(n){return{restrict:"EAC",replace:!1,scope:{rcdThemeOptions:"<",rcdTemplate:"@",rcdTemplateUrl:"@",rcdSize:"@",rcdAnimation:"=",rcdBackdrop:"=",rcdEscClose:"=",rcdClickClose:"=",rcdAutoClose:"=",rcdClass:"@",rcdSelectedView:"=",rcdData:"=?",rcdTrigger:"@",rcdTriggerValue:"@",rcdTriggerDisabled:"<",onConfirm:"&rcdOnConfirm",onClose:"&rcdOnClose"},link:function(i,e,t){var o={theme:c.isDefined(t.rcdOpen)?t.rcdOpen:"",themeOptions:c.isObject(i.rcdThemeOptions)?i.rcdThemeOptions:{},template:c.isDefined(i.rcdTemplate)?i.rcdTemplate:"",templateUrl:c.isDefined(i.rcdTemplateUrl)?i.rcdTemplateUrl:"",size:c.isDefined(i.rcdSize)?i.rcdSize:"large",animation:!c.isDefined(i.rcdAnimation)||i.rcdAnimation,backdrop:!c.isDefined(i.rcdBackdrop)||i.rcdBackdrop,escClose:!c.isDefined(i.rcdEscClose)||i.rcdEscClose,clickClose:!c.isDefined(i.rcdClickClose)||i.rcdClickClose,autoClose:c.isDefined(i.rcdAutoClose)&&parseInt(i.rcdAutoClose,10)?i.rcdAutoClose:0,class:c.isDefined(i.rcdClass)?i.rcdClass:"",trigger:{type:c.isString(i.rcdTrigger)?i.rcdTrigger:void 0,val:c.isDefined(i.rcdTriggerValue)?parseInt(i.rcdTriggerValue,10):0,disabled:!!i.rcdTriggerDisabled},open:!1};t.id&&(o.id=t.id);var r=c.isDefined(i.rcdData)?i.rcdData:null,l={selectedView:c.isDefined(i.rcdSelectedView)?i.rcdSelectedView:""};e.bind("click",function(){o.open=!0,n.open(o,r,l).then(function(e){i.onConfirm({$confirm:e})},function(e){i.onClose({$close:e})}),o.open=!1}),o.trigger.type&&n.open(o,r,l).then(function(e){i.onConfirm({$confirm:e})},function(e){i.onClose({$close:e})}),i.$on("$destroy",function(){n.destroy(o)})}}}])}(angular),function(g){"use strict";var e=g.module("rcDialog");e.controller("rcDialogCtrl",["$scope","$location","$timeout","$log","rcDialogObj","rcDialogDataObj","rcDialogApiObj",function(i,e,t,o,r,l,n){var c,s,a=this,d=(c=e.search(),s=null,g.isDefined(c.selectedView)&&(g.isString(c.selectedView)&&(s=c.selectedView),e.search("selectedView",null)),s);g.extend(this,n),this.dialog=r,this.data=l,g.isDefined(this.selectedView)||(this.selectedView=null),d&&(this.selectedView=d),g.isDefined(this.dialog.autoClose)&&g.isNumber(this.dialog.autoClose)&&0<this.dialog.autoClose&&t(function(){a.closeDialog()},this.dialog.autoClose),this.closeDialog=function(e){g.isString(e)?e="close_"+e:g.isObject(e)&&(e.name="confirm"),i.closeThisDialog(e)},this.confirmDialog=function(e){g.isString(e)?e="confirm_"+e:g.isObject(e)&&(e.name="confirm"),i.confirm(e)},this.setSelectedView=function(e){this.selectedView||(this.selectedView=e)}}]),e.controller("rcDialogUibCtrl",["$scope","$location","$timeout","$log","rcDialogObj","rcDialogDataObj","rcDialogApiObj","$uibModalInstance",function(e,i,t,o,r,l,n,c){var s,a,d=this,u=(s=i.search(),a=null,g.isDefined(s.selectedView)&&(g.isString(s.selectedView)&&(a=s.selectedView),i.search("selectedView",null)),a);g.extend(this,n),this.dialog=r,this.data=l,g.isDefined(this.selectedView)||(this.selectedView=null),u&&(this.selectedView=u),g.isDefined(this.dialog.autoClose)&&g.isNumber(this.dialog.autoClose)&&0<this.dialog.autoClose&&t(function(){d.closeDialog()},this.dialog.autoClose),this.closeDialog=function(e){g.isString(e)?e="close_"+e:g.isObject(e)&&(e.name="close"),c.dismiss(e)},this.confirmDialog=function(e){g.isString(e)?e="confirm_"+e:g.isObject(e)&&(e.name="confirm"),c.close(e)},this.setSelectedView=function(e){this.selectedView||(this.selectedView=e)}}]),e.controller("rcDialogFoundationCtrl",["$scope","$location","$timeout","$log","rcDialogObj","rcDialogDataObj","rcDialogApiObj","$modalInstance",function(e,i,t,o,r,l,n,c){var s,a,d=this,u=(s=i.search(),a=null,g.isDefined(s.selectedView)&&(g.isString(s.selectedView)&&(a=s.selectedView),i.search("selectedView",null)),a);g.extend(this,n),this.dialog=r,this.data=l,g.isDefined(this.selectedView)||(this.selectedView=null),u&&(this.selectedView=u),g.isDefined(this.dialog.autoClose)&&g.isNumber(this.dialog.autoClose)&&0<this.dialog.autoClose&&t(function(){d.closeDialog()},this.dialog.autoClose),this.closeDialog=function(e){g.isString(e)?e="close_"+e:g.isObject(e)&&(e.name="close"),c.dismiss({$value:e})},this.confirmDialog=function(e){g.isString(e)?e="confirm_"+e:g.isObject(e)&&(e.name="confirm"),c.close({$value:e})},this.setSelectedView=function(e){this.selectedView||(this.selectedView=e)}}])}(angular,window),function(f){"use strict";var e=f.module("rcDialog");e.factory("rcDialogHelpers",["$rootScope","$log","$injector","$document","$window",function(t,e,i,o,r){return{getDefaultDialog:function(){return{id:"dialog_"+Math.random().toString(36).substr(2,16),theme:"",template:"",templateUrl:"",size:"large",animation:!0,backdrop:!0,escClose:!0,clickClose:!0,autoClose:0,class:"",testMode:!1,trigger:{type:void 0,val:0,disabled:!1},open:!0}},documentCheckScrollPercent:function(e){var i=f.element(o).height()-f.element(r).height(),t=parseFloat(i/100);return e<=parseInt(100-(i-f.element(r).scrollTop())/t,10)},sendEvent:function(e,i){e="rcDialog:"+e,f.element(document.body).triggerHandler(e,i),t.$broadcast(e,i)}}}]),e.factory("rcDialog",["$log","$injector","$q","$timeout","$window","rcDialogHelpers",function(l,n,c,s,a,d){var u=null,g={};function m(e,i,t){var o=c.defer(),r={};switch(e.theme){case"bootstrap":try{return f.module("ui.bootstrap"),u=n.get("$uibModal"),function(e,i,t){var o={size:"large"===e.size||"full"===e.size?"lg":"sm",animation:e.animation,backdrop:e.backdrop,keyboard:e.escClose,controllerAs:"rcDialogApi",controller:"rcDialogUibCtrl",resolve:{rcDialogObj:[function(){return e}],rcDialogDataObj:[function(){return i}],rcDialogApiObj:[function(){return t}]}};f.isString(e.template)&&e.template.length?o.template=e.template:o.templateUrl=e.templateUrl,!0===e.backdrop&&!1===e.clickClose&&(o.backdrop="static"),o.windowClass="rc-dialog-uibdialog "+e.class,o.backdropClass="rc-dialog-uibdialog-backdrop "+e.class,f.extend(o,e.themeOptions);var r=u.open(o);return r.result.then(function(e){d.sendEvent("confirm",e)},function(e){d.sendEvent("close",e)}),r.result}(e,i,t)}catch(e){r.message='Error to open dialog with "ui.bootstrap".',r.error=e}break;case"foundation":try{return f.module("mm.foundation"),u=n.get("$modal"),function(e,i,t){var o={size:e.size,backdrop:e.backdrop,closeOnClick:e.clickClose,keyboard:e.escClose,controllerAs:"rcDialogApi",controller:"rcDialogFoundationCtrl",resolve:{rcDialogObj:[function(){return e}],rcDialogDataObj:[function(){return i}],rcDialogApiObj:[function(){return t}]}};f.isString(e.template)&&e.template.length?o.template=e.template:o.templateUrl=e.templateUrl,!0===e.backdrop&&!1===e.clickClose&&(o.backdrop="static"),o.windowClass="rc-dialog-zfdialog "+e.class,f.extend(o,e.themeOptions);var r=u.open(o);return r.result.then(function(e){d.sendEvent("confirm",e)},function(e){d.sendEvent("close",e)}),r.result}(e,i,t)}catch(e){r.message='Error to open dialog with "mm.foundation".',r.error=e}break;default:try{return f.module("ngDialog"),u=n.get("ngDialog"),function(e,i,t){var o=null,r=null;switch(e.size){case"tiny":o="30%";break;case"small":o="50%";break;case"large":o="90%";break;case"full":o="100%",r="100vh";break;default:e.size="small",o="50%"}var l={width:o,height:r,ariaAuto:!0,name:"ngdialog-rc-dialog",disableAnimation:!e.animation,overlay:e.backdrop,showClose:!0,closeByDocument:e.clickClose,closeByEscape:e.escClose,controllerAs:"rcDialogApi",controller:"rcDialogCtrl",resolve:{rcDialogObj:[function(){return e}],rcDialogDataObj:[function(){return i}],rcDialogApiObj:[function(){return t}]},preCloseCallback:function(){}};f.isString(e.template)&&e.template.length?(l.template=e.template,l.plain=!0):(l.template=e.templateUrl,l.plain=!1),l.appendClassName="rc-dialog "+e.class,f.extend(l,e.themeOptions);var n=u.openConfirm(l);return n.then(function(e){d.sendEvent("confirm",e)},function(e){d.sendEvent("close",e)}),n}(e,i,t)}catch(e){r.message='Error to open dialog with "ngDialog".',r.error=e}}return l.error(r.message),l.error(r.error),o.reject(r),o.promise}return{open:function(e,i,t){var o=c.defer(),r=o.promise;if(!0===(e=f.extend({},d.getDefaultDialog(),e)).open)return r=m(e,i,t);if(!0===e.trigger.disabled)return o.reject(!1),r;switch(e.trigger.type){case"seconds":var l=1e3*e.trigger.val;s(function(){r=m(e,i,t)},l);break;case"scroll":g[e.id]||(g[e.id]=function(){d.documentCheckScrollPercent(e.trigger.val)&&(f.element(a).unbind("scroll",g[e.id]),r=m(e,i,t))},f.element(a).bind("scroll",g[e.id]));break;case"onload":r=m(e,i,t);break;default:o.reject(!1)}return r},destroy:function(e){g[e.id]&&f.element(a).unbind("scroll",g[e.id])}}}])}(angular);