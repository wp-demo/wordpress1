!function(G,J){"use strict";var t,e,o,i,r,K="tooltips",M=(e=[],o=0,i=function(t){15<=t-o?(e.forEach(function(t){t()}),o=t):J.console.log("Skipped!")},r=function(){J.clearTimeout(t),t=J.setTimeout(function(){J.requestAnimationFrame(i)},500)},{add:function(t){var o;e.length||J.addEventListener("resize",r),(o=t)&&e.push(o)},remove:function(){e.length||(J.clearTimeout(t),J.removeEventListener("resize",r))}}),N=function(t){return J.getComputedStyle?J.getComputedStyle(t,""):t.currentStyle?t.currentStyle:void 0},Q=function(t){for(var o,e,i=J.document.querySelectorAll("._exradicated-tooltip"),r=0,l=i.length;r<l;r+=1)if((o=i.item(r))&&((e=G.element(o)).data("_tooltip-parent")&&e.data("_tooltip-parent")===t))return e},Z=function(t){var o=Q(t);o&&o.remove()},tt=function(t){if(t){var o=t[0].getBoundingClientRect();return(o.top<0||o.top>J.document.body.offsetHeight||o.left<0||o.left>J.document.body.offsetWidth||o.bottom<0||o.bottom>J.document.body.offsetHeight||o.right<0||o.right>J.document.body.offsetWidth)&&(t.css({top:"",left:"",bottom:"",right:""}),!0)}throw new Error("You must provide a position")},ot=function(t){return t.split(" ").map(function(t){return"_"+t}).join(" ")},et=["_top","_top _left","_left","_bottom _left","_bottom","_bottom _right","_right","_top _right"],l=["$log","$http","$compile","$timeout","$controller","$injector","tooltipsConf","$templateCache","$q",function(Y,j,q,L,F,t,i,X,D){return{restrict:"A",transclude:"element",priority:1,terminal:!0,link:function(t,H,V,o,e){if(V.tooltipTemplate&&V.tooltipTemplateUrl)throw new Error("You can not define tooltip-template and tooltip-template-url together");if(!V.tooltipTemplateUrl&&!V.tooltipTemplate&&V.tooltipController)throw new Error("You can not have a controller without a template or templateUrl defined");var U,k=ot(i.side),I=i.showTrigger,O=i.hideTrigger,R=i.size,W="_"+i.speed;V.tooltipSide=V.tooltipSide||i.side,V.tooltipShowTrigger=V.tooltipShowTrigger||i.showTrigger,V.tooltipHideTrigger=V.tooltipHideTrigger||i.hideTrigger,V.tooltipShow=V.tooltipShow||i.show,V.tooltipClass=V.tooltipClass||i.class,V.tooltipSmart="true"===V.tooltipSmart||i.smart,V.tooltipCloseButton=V.tooltipCloseButton||i.closeButton.toString(),V.tooltipSize=V.tooltipSize||i.size,V.tooltipSpeed=V.tooltipSpeed||i.speed,V.tooltipAppendToBody="true"===V.tooltipAppendToBody,e(t,function(t,r){var o,e,i=(e={},(o=t).removeAttr(K),void 0!==o.attr("tooltip-template")&&(e["tooltip-template"]=o.attr("tooltip-template"),o.removeAttr("tooltip-template")),void 0!==o.attr("tooltip-template-url")&&(e["tooltip-template-url"]=o.attr("tooltip-template-url"),o.removeAttr("tooltip-template-url")),void 0!==o.attr("tooltip-template-url-cache")&&(e["tooltip-template-url-cache"]=o.attr("tooltip-template-url-cache"),o.removeAttr("tooltip-template-url-cache")),void 0!==o.attr("tooltip-controller")&&(e["tooltip-controller"]=o.attr("tooltip-controller"),o.removeAttr("tooltip-controller")),void 0!==o.attr("tooltip-side")&&(e["tooltip-side"]=o.attr("tooltip-side"),o.removeAttr("tooltip-side")),void 0!==o.attr("tooltip-show-trigger")&&(e["tooltip-show-trigger"]=o.attr("tooltip-show-trigger"),o.removeAttr("tooltip-show-trigger")),void 0!==o.attr("tooltip-hide-trigger")&&(e["tooltip-hide-trigger"]=o.attr("tooltip-hide-trigger"),o.removeAttr("tooltip-hide-trigger")),void 0!==o.attr("tooltip-smart")&&(e["tooltip-smart"]=o.attr("tooltip-smart"),o.removeAttr("tooltip-smart")),void 0!==o.attr("tooltip-class")&&(e["tooltip-class"]=o.attr("tooltip-class"),o.removeAttr("tooltip-class")),void 0!==o.attr("tooltip-show")&&(e["tooltip-show"]=o.attr("tooltip-show"),o.removeAttr("tooltip-show")),void 0!==o.attr("tooltip-close-button")&&(e["tooltip-close-button"]=o.attr("tooltip-close-button"),o.removeAttr("tooltip-close-button")),void 0!==o.attr("tooltip-size")&&(e["tooltip-size"]=o.attr("tooltip-size"),o.removeAttr("tooltip-size")),void 0!==o.attr("tooltip-speed")&&(e["tooltip-speed"]=o.attr("tooltip-speed"),o.removeAttr("tooltip-speed")),e),w=G.element(J.document.createElement("tooltip")),l=G.element(J.document.createElement("tip-cont")),y=G.element(J.document.createElement("tip")),_=G.element(J.document.createElement("tip-tip")),n=G.element(J.document.createElement("span")),T=G.element(J.document.createElement("tip-arrow")),p=function(t){void 0!==t&&1<l[0].getClientRects().length?w.addClass("_multiline"):w.removeClass("_multiline")},a=function(t){if(t&&!w.hasClass("active")&&t.stopImmediatePropagation(),y.addClass("_hidden"),V.tooltipSmart)switch(V.tooltipSide){case"top":case"left":case"bottom":case"right":case"top left":case"top right":case"bottom left":case"bottom right":!function(t,o,e){for(var i=et.indexOf(ot(e)),r=et.length,l=0;l<r&&tt(t);l+=1)(i+=1)>=et.length&&(i=0),o.removeClass("_top _left _bottom _right"),o.addClass(et[i])}(y,w,V.tooltipSide);break;default:throw new Error("Position not supported")}if(V.tooltipAppendToBody){var o,e,i,r,l,n=N(_[0]),p=N(T[0]),a=N(y[0]),s=y[0].getBoundingClientRect(),d=G.copy(y),c=0,u=n.length,m=0,f=p.length,g=0,h=a.length,v={},C={},b={};for(y.removeClass("_hidden"),d.removeClass("_hidden"),d.data("_tooltip-parent",w),Z(w);c<u;c+=1)(o=n[c])&&n.getPropertyValue(o)&&(v[o]=n.getPropertyValue(o));for(;m<f;m+=1)(o=p[m])&&p.getPropertyValue(o)&&(b[o]=p.getPropertyValue(o));for(;g<h;g+=1)(o=a[g])&&"position"!==o&&"display"!==o&&"opacity"!==o&&"z-index"!==o&&"bottom"!==o&&"height"!==o&&"left"!==o&&"right"!==o&&"top"!==o&&"width"!==o&&a.getPropertyValue(o)&&(C[o]=a.getPropertyValue(o));e=J.parseInt(a.getPropertyValue("padding-top"),10),i=J.parseInt(a.getPropertyValue("padding-bottom"),10),r=J.parseInt(a.getPropertyValue("padding-left"),10),l=J.parseInt(a.getPropertyValue("padding-right"),10),C.top=s.top+J.pageYOffset+"px",C.left=s.left+J.pageXOffset+"px",C.height=s.height-(e+i)+"px",C.width=s.width-(r+l)+"px",d.css(C),d.children().css(v),d.children().next().css(b),t&&"true"!==V.tooltipHidden&&(d.addClass("_exradicated-tooltip"),G.element(J.document.body).append(d))}else y.removeClass("_hidden"),t&&"true"!==V.tooltipHidden&&w.addClass("active")},s=function(t){t&&w.hasClass("active")&&t.stopImmediatePropagation(),V.tooltipAppendToBody?Z(w):w.removeClass("active")},d=function t(o){var e,i=o.parent();o[0]&&(o[0].scrollHeight>o[0].clientHeight||o[0].scrollWidth>o[0].clientWidth)&&o.on("scroll",function(){var i=this;e&&L.cancel(e),e=L(function(){var t=Q(w),o=w[0].getBoundingClientRect(),e=i.getBoundingClientRect();o.top<e.top||o.bottom>e.bottom||o.left<e.left||o.right>e.right?Z(w):t&&a(!0)})}),i&&i.length&&t(i)},c=function(t){w.removeClass("_force-hidden"),_.empty(),_.append(n),_.append(t),L(function(){a()})},u=function(){_.empty(),w.addClass("_force-hidden")},m=function(o){var t=X.get(o);return void 0!==t?D.resolve(t):j.get(o).then(function(t){return X.put(o,t.data),t.data})},f=V.$observe("tooltipTemplate",function(t){t?c(t):u()}),g=V.$observe("tooltipTemplateUrl",function(t){t&&!V.tooltipTemplateUrlCache?m(t).then(function(t){c(q(t)(r))}).catch(function(t){Y.error(t)}):u()}),h=V.$observe("tooltipTemplateUrlCache",function(t){t&&V.tooltipTemplateUrl?m(V.tooltipTemplateUrl).then(function(t){c(q(t)(r))}).catch(function(t){Y.error(t)}):u()}),v=V.$observe("tooltipSide",function(t){t&&(k&&w.removeClass(k),w.addClass(ot(t)),k=t)}),C=V.$observe("tooltipShowTrigger",function(t){t&&(I&&w.off(I),w.on(t,a),I=t)}),b=V.$observe("tooltipHideTrigger",function(t){t&&(O&&w.off(O),w.on(t,s),O=t)}),S=V.$observe("tooltipShow",function(t){"true"===t?w.addClass("active"):w.removeClass("active")}),$=V.$observe("tooltipClass",function(t){t&&(U&&y.removeClass(U),y.addClass(t),U=t)}),A=V.$observe("tooltipSmart",function(){"boolean"!=typeof V.tooltipSmart&&(V.tooltipSmart="true"===V.tooltipSmart)}),B=V.$observe("tooltipCloseButton",function(t){"true"===t?(n.on("click",s),n.css("display","block")):(n.off("click"),n.css("display","none"))}),z=V.$observe("tooltipController",function(t){if(t){var o=F(t,{$scope:r}),e=r.$new(!1,r),i=t.indexOf("as");0<=i?e[t.substr(i+3)]=o:G.extend(e,o),_.replaceWith(q(_)(e)),z()}}),E=V.$observe("tooltipSize",function(t){t&&(R&&_.removeClass("_"+R),_.addClass("_"+t),R=t)}),P=V.$observe("tooltipSpeed",function(t){t&&(W&&w.removeClass("_"+W),w.addClass("_"+t),W=t)}),x=r.$watch(function(){return l.html()},p);n.addClass("close-button"),n.html("&times;"),y.addClass("_hidden"),_.append(n),_.append(V.tooltipTemplate),y.append(_),y.append(T),l.append(t),w.attr(i),w.addClass("tooltips"),w.append(l),w.append(y),H.after(w),V.tooltipAppendToBody&&(M.add(function(){d(w)}),d(w)),M.add(function(){p(),a()}),L(function(){a(),y.removeClass("_hidden"),w.addClass("_ready")}),r.$on("$destroy",function(){f(),g(),h(),v(),C(),b(),S(),$(),A(),B(),E(),P(),x(),M.remove(),t.off(V.tooltipShowTrigger+" "+V.tooltipHideTrigger)})})}}}];G.module("720kb.tooltips",[]).provider(K+"Conf",function(){var r={side:"top",showTrigger:"mouseenter",hideTrigger:"mouseleave",class:"",smart:!1,closeButton:!1,size:"",speed:"steady",tooltipTemplateUrlCache:!1,show:null};return{configure:function(t){var o,e=Object.keys(r),i=0;if(t)for(;i<e.length;i+=1)(o=e[i])&&t[o]&&(r[o]=t[o])},$get:function(){return r}}}).directive(K,l)}(angular,window);