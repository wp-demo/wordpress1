!function(){"use strict";angular.module("angular-gridster2",[])}(),function(){"use strict";angular.module("angular-gridster2").service("GridsterUtils",function(){function r(e,t,i){return e!==t&&(!(!e.classList||!e.classList.contains(i))||r(e.parentNode,t,i))}return{merge:function e(t,i,r){for(var s in i)i.hasOwnProperty(s)&&r.hasOwnProperty(s)&&("object"==typeof i[s]?t[s]=e(t[s],i[s],r[s]):t[s]=i[s]);return t},debounce:function(i,r){var s;return function(){var e=this,t=arguments;clearTimeout(s),s=setTimeout(function(){s=null,i.apply(e,t)},r)}},checkTouchEvent:function(e){void 0===e.clientX&&e.touches&&(e.touches&&e.touches.length?(e.clientX=e.touches[0].clientX,e.clientY=e.touches[0].clientY):e.changedTouches&&e.changedTouches.length&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY))},checkContentClassForEvent:function(e,t){if(e.$options.draggable.ignoreContent){if(!r(t.target,t.currentTarget,e.$options.draggable.dragHandleClass))return!0}else if(r(t.target,t.currentTarget,e.$options.draggable.ignoreContentClass))return!0;return!1}}})}(),function(){"use strict";angular.module("angular-gridster2").service("GridsterSwap",function(){return function(e){var d=this;return d.swapedItem=void 0,d.gridsterItem=e,d.gridster=e.gridster,d.destroy=function(){delete d.gridster,delete d.gridsterItem,delete d.swapedItem},d.swapItems=function(){d.gridster.$options.swap&&(d.checkSwapBack(),d.checkSwap(d.gridsterItem))},d.checkSwapBack=function(){if(d.swapedItem){var e=d.swapedItem.$item.x,t=d.swapedItem.$item.y;d.swapedItem.$item.x=d.swapedItem.item.x,d.swapedItem.$item.y=d.swapedItem.item.y,d.gridster.checkCollision(d.swapedItem.$item)?(d.swapedItem.$item.x=e,d.swapedItem.$item.y=t):(d.swapedItem.setSize(!0),d.gridsterItem.$item.x=d.gridsterItem.item.x,d.gridsterItem.$item.y=d.gridsterItem.item.y,d.swapedItem=void 0)}},d.restoreSwapItem=function(){d.swapedItem&&(d.swapedItem.$item.x=d.swapedItem.item.x,d.swapedItem.$item.y=d.swapedItem.item.y,d.swapedItem.setSize(!0),d.swapedItem=void 0)},d.setSwapItem=function(){d.swapedItem&&(d.swapedItem.checkItemChanges(d.swapedItem.$item,d.swapedItem.item),d.swapedItem=void 0)},d.checkSwap=function(e){var t=d.gridster.checkCollision(e.$item);if(t&&!0!==t&&t.canBeDragged()){var i=t,r=i.$item.x,s=i.$item.y,o=e.$item.x,n=e.$item.y;i.$item.x=e.item.x,i.$item.y=e.item.y,e.$item.x=i.item.x,e.$item.y=i.item.y,d.gridster.checkCollision(i.$item)||d.gridster.checkCollision(e.$item)?(e.$item.x=o,e.$item.y=n,i.$item.x=r,i.$item.y=s):(i.setSize(!0),d.swapedItem=i)}},d}})}(),function(){"use strict";angular.module("angular-gridster2").service("GridsterScroll",function(){var p,h,f,v,$,I,y,w,C,s=50;function e(e,t,i,r,s,o){p=e.gridster.$options.scrollSensitivity,h=e.gridster.$options.scrollSpeed,f=e.gridster.el,v=s,$=o;var n=f.offsetWidth,d=f.offsetHeight,l=f.scrollLeft,m=f.scrollTop,a=e.nativeEl.offsetTop-m,c=d+m-e.nativeEl.offsetTop-e.nativeEl.offsetHeight;if(i.clientY<t.clientY&&c<p){if(S(),v&&$&&!$.s||C)return;C=x(1,r,i)}else if(i.clientY>t.clientY&&0<m&&a<p){if(T(),v&&$&&!$.n||w)return;w=x(-1,r,i)}else i.clientY!==t.clientY&&E();var u=l+n-e.nativeEl.offsetLeft-e.nativeEl.offsetWidth,g=e.nativeEl.offsetLeft-l;if(i.clientX<t.clientX&&u<=p){if(P(),v&&$&&!$.e||I)return;I=b(1,r,i)}else if(i.clientX>t.clientX&&0<l&&g<p){if(z(),v&&$&&!$.w||y)return;y=b(-1,r,i)}else i.clientX!==t.clientX&&k();return this}return e.cancelScroll=function(){k(),E(),p=void 0,h=void 0,f=void 0,$=void 0},e;function x(e,t,i){var r=i.clientY;return setInterval(function(){(!f||-1===e&&f.scrollTop-h<0)&&E(),f.scrollTop+=e*h,r+=e*h,t({clientX:i.clientX,clientY:r})},s)}function b(e,t,i){var r=i.clientX;return setInterval(function(){(!f||-1===e&&f.scrollLeft-h<0)&&k(),f.scrollLeft+=e*h,t({clientX:r+=e*h,clientY:i.clientY})},s)}function k(){z(),P()}function E(){S(),T()}function z(){I&&(clearInterval(I),I=void 0)}function P(){y&&(clearInterval(y),y=void 0)}function T(){C&&(clearInterval(C),C=void 0)}function S(){w&&(clearInterval(w),w=void 0)}})}(),function(){"use strict";function e(i,r,o,n){return function(e,t){var s=this;s.directionFunction=angular.noop,s.dragStartFunction=angular.noop,s.dragFunction=angular.noop,s.dragStopFunction=angular.noop,s.resizeEnabled=!1,s.push=void 0,s.pushResize=void 0,s.minHeight=0,s.minWidth=0,s.offsetTop=0,s.offsetLeft=0,s.diffTop=0,s.diffLeft=0,s.diffRight=0,s.diffBottom=0,s.margin=0,s.top=0,s.left=0,s.bottom=0,s.right=0,s.width=0,s.height=0,s.newPosition=0,s.gridsterItem=e,s.gridster=t,s.lastMouse={clientX:0,clientY:0},s.itemBackup=[0,0,0,0],s.resizeEventScrollType={w:!1,e:!1,n:!1,s:!1},s.destroy=function(){delete s.gridster,delete s.gridsterItem},s.dragStart=function(e){switch(e.which){case 1:break;case 2:case 3:return}s.gridster.$options.resizable.start&&s.gridster.$options.resizable.start(s.gridsterItem.item,s.gridsterItem,e),e.stopPropagation(),e.preventDefault(),s.dragFunction=s.dragMove.bind(s),s.dragStopFunction=s.dragStop.bind(s),document.addEventListener("mousemove",s.dragFunction),document.addEventListener("mouseup",s.dragStopFunction),window.addEventListener("blur",s.dragStopFunction),s.gridster.el.addEventListener("touchmove",s.dragFunction),document.addEventListener("touchend",s.dragStopFunction),document.addEventListener("touchcancel",s.dragStopFunction),s.gridsterItem.el.addClass("gridster-item-resizing"),s.lastMouse.clientX=e.clientX,s.lastMouse.clientY=e.clientY,s.left=s.gridsterItem.left,s.top=s.gridsterItem.top,s.width=s.gridsterItem.width,s.height=s.gridsterItem.height,s.bottom=s.gridsterItem.top+s.gridsterItem.height,s.right=s.gridsterItem.left+s.gridsterItem.width,s.margin=s.gridster.$options.margin,s.offsetLeft=s.gridster.el.scrollLeft-s.gridster.el.offsetLeft,s.offsetTop=s.gridster.el.scrollTop-s.gridster.el.offsetTop,s.diffLeft=e.clientX+s.offsetLeft-s.margin-s.left,s.diffRight=e.clientX+s.offsetLeft-s.margin-s.right,s.diffTop=e.clientY+s.offsetTop-s.margin-s.top,s.diffBottom=e.clientY+s.offsetTop-s.margin-s.bottom,s.minHeight=s.gridster.positionYToPixels(s.gridsterItem.$item.minItemRows||s.gridster.$options.minItemRows)-s.margin,s.minWidth=s.gridster.positionXToPixels(s.gridsterItem.$item.minItemCols||s.gridster.$options.minItemCols)-s.margin,s.gridster.movingItem=s.gridsterItem.$item,s.gridster.previewStyle(),s.push=new i(s.gridsterItem),s.pushResize=new n(s.gridsterItem),s.gridster.dragInProgress=!0,s.gridster.gridLines.updateGrid(),e.target.classList.contains("handle-n")?(s.resizeEventScrollType.n=!0,s.directionFunction=s.handleN.bind(s)):e.target.classList.contains("handle-w")?(s.resizeEventScrollType.w=!0,s.directionFunction=s.handleW.bind(s)):e.target.classList.contains("handle-s")?(s.resizeEventScrollType.s=!0,s.directionFunction=s.handleS.bind(s)):e.target.classList.contains("handle-e")?(s.resizeEventScrollType.e=!0,s.directionFunction=s.handleE.bind(s)):e.target.classList.contains("handle-nw")?(s.resizeEventScrollType.n=!0,s.resizeEventScrollType.w=!0,s.directionFunction=s.handleNW.bind(s)):e.target.classList.contains("handle-ne")?(s.resizeEventScrollType.n=!0,s.resizeEventScrollType.e=!0,s.directionFunction=s.handleNE.bind(s)):e.target.classList.contains("handle-sw")?(s.resizeEventScrollType.s=!0,s.resizeEventScrollType.w=!0,s.directionFunction=s.handleSW.bind(s)):e.target.classList.contains("handle-se")&&(s.resizeEventScrollType.s=!0,s.resizeEventScrollType.e=!0,s.directionFunction=s.handleSE.bind(s))},s.dragMove=function(e){e.stopPropagation(),e.preventDefault(),o.checkTouchEvent(e),s.offsetTop=s.gridster.el.scrollTop-s.gridster.el.offsetTop,s.offsetLeft=s.gridster.el.scrollLeft-s.gridster.el.offsetLeft,r(s.gridsterItem,e,s.lastMouse,s.directionFunction,!0,s.resizeEventScrollType),s.directionFunction(e),s.lastMouse.clientX=e.clientX,s.lastMouse.clientY=e.clientY,s.gridster.gridLines.updateGrid()},s.dragStop=function(e){if(e.stopPropagation(),e.preventDefault(),r.cancelScroll(),document.removeEventListener("mousemove",s.dragFunction),document.removeEventListener("mouseup",s.dragStopFunction),window.removeEventListener("blur",s.dragStopFunction),s.gridster.el.removeEventListener("touchmove",s.dragFunction),document.removeEventListener("touchend",s.dragStopFunction),document.removeEventListener("touchcancel",s.dragStopFunction),s.gridsterItem.el.removeClass("gridster-item-resizing"),s.gridster.dragInProgress=!1,s.gridster.gridLines.updateGrid(),s.gridster.$options.resizable.stop){var t=s.gridster.$options.resizable.stop(s.gridsterItem.item,s.gridsterItem,e);t&&t.then?t.then(s.makeResize.bind(s),s.cancelResize.bind(s)):s.makeResize()}else s.makeResize();setTimeout(function(){s.gridster.movingItem=null,s.gridster.previewStyle()})},s.cancelResize=function(){s.gridsterItem.$item.cols=s.gridsterItem.item.cols,s.gridsterItem.$item.rows=s.gridsterItem.item.rows,s.gridsterItem.$item.x=s.gridsterItem.item.x,s.gridsterItem.$item.y=s.gridsterItem.item.y,s.gridsterItem.setSize(!0),s.push.restoreItems(),s.pushResize.restoreItems(),s.push.destroy(),delete s.push,s.pushResize.destroy(),delete s.pushResize},s.makeResize=function(){s.gridsterItem.setSize(!0),s.gridsterItem.checkItemChanges(s.gridsterItem.$item,s.gridsterItem.item),s.push.setPushedItems(),s.pushResize.setPushedItems(),s.push.destroy(),delete s.push,s.pushResize.destroy(),delete s.pushResize},s.handleN=function(e){if(s.top=e.clientY+s.offsetTop-s.margin-s.diffTop,s.height=s.bottom-s.top,s.minHeight>s.height&&(s.height=s.minHeight,s.top=s.bottom-s.minHeight),s.newPosition=s.gridster.pixelsToPositionY(s.top,Math.floor),s.gridsterItem.$item.y!==s.newPosition){if(s.itemBackup[1]=s.gridsterItem.$item.y,s.itemBackup[3]=s.gridsterItem.$item.rows,s.gridsterItem.$item.rows+=s.gridsterItem.$item.y-s.newPosition,s.gridsterItem.$item.y=s.newPosition,s.pushResize.pushItems(s.pushResize.fromSouth,s.gridster.$options.disablePushOnResize),s.push.pushItems(s.push.fromSouth),s.gridster.checkCollision(s.gridsterItem.$item))return s.gridsterItem.$item.y=s.itemBackup[1],s.gridsterItem.$item.rows=s.itemBackup[3],s.gridsterItem.el.css("top",s.gridster.positionYToPixels(s.gridsterItem.$item.y)+"px"),void s.gridsterItem.el.css("height",s.gridster.positionYToPixels(s.gridsterItem.$item.rows)-s.gridster.$options.margin+"px");s.gridster.previewStyle(),s.pushResize.checkPushBack(),s.push.checkPushBack()}s.gridsterItem.el.css("top",s.top+"px"),s.gridsterItem.el.css("height",s.height+"px")},s.handleW=function(e){if(s.left=e.clientX+s.offsetLeft-s.margin-s.diffLeft,s.width=s.right-s.left,s.minWidth>s.width&&(s.width=s.minWidth,s.left=s.right-s.minWidth),s.newPosition=s.gridster.pixelsToPositionX(s.left,Math.floor),s.gridsterItem.$item.x!==s.newPosition){if(s.itemBackup[0]=s.gridsterItem.$item.x,s.itemBackup[2]=s.gridsterItem.$item.cols,s.gridsterItem.$item.cols+=s.gridsterItem.$item.x-s.newPosition,s.gridsterItem.$item.x=s.newPosition,s.pushResize.pushItems(s.pushResize.fromEast),s.push.pushItems(s.push.fromEast,s.gridster.$options.disablePushOnResize),s.gridster.checkCollision(s.gridsterItem.$item))return s.gridsterItem.$item.x=s.itemBackup[0],s.gridsterItem.$item.cols=s.itemBackup[2],s.gridsterItem.el.css("left",s.gridster.positionXToPixels(s.gridsterItem.$item.x)+"px"),void s.gridsterItem.el.css("width",s.gridster.positionXToPixels(s.gridsterItem.$item.cols)-s.gridster.$options.margin+"px");s.gridster.previewStyle(),s.pushResize.checkPushBack(),s.push.checkPushBack()}s.gridsterItem.el.css("left",s.left+"px"),s.gridsterItem.el.css("width",s.width+"px")},s.handleS=function(e){if(s.height=e.clientY+s.offsetTop-s.margin-s.diffBottom-s.top,s.minHeight>s.height&&(s.height=s.minHeight),s.bottom=s.top+s.height,s.newPosition=s.gridster.pixelsToPositionY(s.bottom,Math.ceil),s.gridsterItem.$item.y+s.gridsterItem.$item.rows!==s.newPosition){if(s.itemBackup[3]=s.gridsterItem.$item.rows,s.gridsterItem.$item.rows=s.newPosition-s.gridsterItem.$item.y,s.pushResize.pushItems(s.pushResize.fromNorth),s.push.pushItems(s.push.fromNorth,s.gridster.$options.disablePushOnResize),s.gridster.checkCollision(s.gridsterItem.$item))return s.gridsterItem.$item.rows=s.itemBackup[3],void s.gridsterItem.el.css("height",s.gridster.positionYToPixels(s.gridsterItem.$item.rows)-s.gridster.$options.margin+"px");s.gridster.previewStyle(),s.pushResize.checkPushBack(),s.push.checkPushBack()}s.gridsterItem.el.css("height",s.height+"px")},s.handleE=function(e){if(s.width=e.clientX+s.offsetLeft-s.margin-s.diffRight-s.left,s.minWidth>s.width&&(s.width=s.minWidth),s.right=s.left+s.width,s.newPosition=s.gridster.pixelsToPositionX(s.right,Math.ceil),s.gridsterItem.$item.x+s.gridsterItem.$item.cols!==s.newPosition){if(s.itemBackup[2]=s.gridsterItem.$item.cols,s.gridsterItem.$item.cols=s.newPosition-s.gridsterItem.$item.x,s.pushResize.pushItems(s.pushResize.fromWest),s.push.pushItems(s.push.fromWest,s.gridster.$options.disablePushOnResize),s.gridster.checkCollision(s.gridsterItem.$item))return s.gridsterItem.$item.cols=s.itemBackup[2],void s.gridsterItem.el.css("width",s.gridster.positionXToPixels(s.gridsterItem.$item.cols)-s.gridster.$options.margin+"px");s.gridster.previewStyle(),s.pushResize.checkPushBack(),s.push.checkPushBack()}s.gridsterItem.el.css("width",s.width+"px")},s.handleNW=function(e){s.handleN(e),s.handleW(e)},s.handleNE=function(e){s.handleN(e),s.handleE(e)},s.handleSW=function(e){s.handleS(e),s.handleW(e)},s.handleSE=function(e){s.handleS(e),s.handleE(e)},s.toggle=function(){var e,t,i,r=s.gridsterItem.canBeResized();if(!s.resizeEnabled&&r)for(s.resizeEnabled=!s.resizeEnabled,s.dragStartFunction=s.dragStartDelay,i=(e=s.gridsterItem.nativeEl.querySelectorAll(".gridster-item-resizable-handler")).length-1;-1<i;i--)(t=e[i]).addEventListener("mousedown",s.dragStartFunction),t.addEventListener("touchstart",s.dragStartFunction);else if(s.resizeEnabled&&!r)for(s.resizeEnabled=!s.resizeEnabled,i=(e=s.gridsterItem.nativeEl.querySelectorAll(".gridster-item-resizable-handler")).length-1;-1<i;i--)(t=e[i]).removeEventListener("mousedown",s.dragStartFunction),t.removeEventListener("touchstart",s.dragStartFunction)},s.dragStartDelay=function(t){if(o.checkTouchEvent(t),s.gridster.$options.resizable.delayStart){var e=setTimeout(function(){s.dragStart(t),r()},s.gridster.$options.resizable.delayStart);document.addEventListener("mouseup",r),window.addEventListener("blur",r),document.addEventListener("touchmove",i),document.addEventListener("touchend",r),document.addEventListener("touchcancel",r)}else s.dragStart(t);function i(e){o.checkTouchEvent(e),(9<Math.abs(e.clientX-t.clientX)||9<Math.abs(e.clientY-t.clientY))&&r()}function r(){clearTimeout(e),window.removeEventListener("blur",r),document.removeEventListener("mouseup",r),document.removeEventListener("touchmove",i),document.removeEventListener("touchend",r),document.removeEventListener("touchcancel",r)}}}}e.$inject=["GridsterPush","GridsterScroll","GridsterUtils","GridsterPushResize"],angular.module("angular-gridster2").service("GridsterResizable",e)}(),function(){"use strict";angular.module("angular-gridster2").service("GridsterPushResize",function(){return function(e){var m=this;m.pushedItems=[],m.pushedItemsPath=[],m.gridsterItem=e,m.gridster=e.gridster,m.fromSouth="fromSouth",m.fromNorth="fromNorth",m.fromEast="fromEast",m.fromWest="fromWest",m.destroy=function(){delete m.gridster,delete m.gridsterItem},m.pushItems=function(e){m.gridster.$options.pushResizeItems&&m.push(m.gridsterItem,e)},m.restoreItems=function(){for(var e,t=0,i=m.pushedItems.length;t<i;t++)(e=m.pushedItems[t]).$item.x=e.item.x,e.$item.y=e.item.y,e.$item.cols=e.item.cols,e.$item.row=e.item.row,e.setSize(!0);m.pushedItems=void 0,m.pushedItemsPath=void 0},m.setPushedItems=function(){for(var e,t=0,i=m.pushedItems.length;t<i;t++)(e=m.pushedItems[t]).checkItemChanges(e.$item,e.item);m.pushedItems=void 0,m.pushedItemsPath=void 0},m.push=function(e,t){var i=m.gridster.checkCollision(e.$item);if(i&&!0!==i&&i!==m.gridsterItem&&i.canBeResized()){if(m.tryPattern[t].call(m,i,e,t))return!0}else if(!1===i)return!0;return!1},m.trySouth=function(e,t,i){var r=e.$item.y,s=e.$item.rows;return e.$item.y=t.$item.y+t.$item.rows,e.$item.rows=s+r-e.$item.y,m.gridster.checkCollisionTwoItems(e.$item,t.$item)||m.gridster.checkGridCollision(e.$item)?(e.$item.y=r,e.$item.rows=s,!1):(e.setSize(!0),m.addToPushed(e),m.push(t,i),!0)},m.tryNorth=function(e,t,i){var r=e.$item.rows;return e.$item.rows=t.$item.y-e.$item.y,m.gridster.checkCollisionTwoItems(e.$item,t.$item)||m.gridster.checkGridCollision(e.$item)?(e.$item.rows=r,!1):(e.setSize(!0),m.addToPushed(e),m.push(t,i),!0)},m.tryEast=function(e,t,i){var r=e.$item.x,s=e.$item.cols;return e.$item.x=t.$item.x+t.$item.cols,e.$item.cols=s+r-e.$item.x,m.gridster.checkCollisionTwoItems(e.$item,t.$item)||m.gridster.checkGridCollision(e.$item)?(e.$item.x=r,e.$item.cols=s,!1):(e.setSize(!0),m.addToPushed(e),m.push(t,i),!0)},m.tryWest=function(e,t,i){var r=e.$item.cols;return e.$item.cols=t.$item.x-e.$item.x,m.gridster.checkCollisionTwoItems(e.$item,t.$item)||m.gridster.checkGridCollision(e.$item)?(e.$item.cols=r,!1):(e.setSize(!0),m.addToPushed(e),m.push(t,i),!0)},m.tryPattern={fromEast:m.tryWest,fromWest:m.tryEast,fromNorth:m.trySouth,fromSouth:m.tryNorth},m.addToPushed=function(e){if(m.pushedItems.indexOf(e)<0)m.pushedItems.push(e),m.pushedItemsPath.push([{x:e.item.x,y:e.item.y,cols:e.item.cols,rows:e.item.rows},{x:e.$item.x,y:e.$item.y,cols:e.$item.cols,rows:e.$item.rows}]);else{var t=m.pushedItems.indexOf(e);m.pushedItemsPath[t].push({x:e.$item.x,y:e.$item.y,cols:e.$item.cols,rows:e.$item.rows})}},m.removeFromPushed=function(e){-1<e&&(m.pushedItems.splice(e,1),m.pushedItemsPath.splice(e,1))},m.checkPushBack=function(){for(var e=m.pushedItems.length-1,t=!1;-1<e;e--)m.checkPushedItem(m.pushedItems[e],e)&&(t=!0);t&&m.checkPushBack()},m.checkPushedItem=function(e,t){for(var i,r,s,o,n,d=m.pushedItemsPath[t],l=d.length-2;-1<l;l--)i=d[l],r=e.$item.x,s=e.$item.y,o=e.$item.cols,n=e.$item.rows,e.$item.x=i.x,e.$item.y=i.y,e.$item.cols=i.cols,e.$item.rows=i.rows,m.gridster.findItemWithItem(e.$item)?(e.$item.x=r,e.$item.y=s,e.$item.cols=o,e.$item.rows=n):(e.setSize(!0),d.splice(l+1,d.length-1-l));return d.length<2&&(m.removeFromPushed(t),!0)}}})}(),function(){"use strict";angular.module("angular-gridster2").service("GridsterPush",function(){return function(e){var l=this;l.pushedItems=[],l.pushedItemsPath=[],l.pushedItemsTemp=[],l.pushedItemsTempPath=[],l.gridsterItem=e,l.gridster=e.gridster,l.fromSouth="fromSouth",l.fromNorth="fromNorth",l.fromEast="fromEast",l.fromWest="fromWest",l.destroy=function(){delete l.gridster,delete l.gridsterItem},l.pushItems=function(e,t){l.gridster.$options.pushItems&&!t&&(l.pushedItemsOrder=[],l.push(l.gridsterItem,e)||l.restoreTempItems(),l.pushedItemsOrder=[],l.pushedItemsTemp=[],l.pushedItemsTempPath=[])},l.restoreTempItems=function(){for(var e=l.pushedItemsTemp.length-1;-1<e;e--)l.removeFromTempPushed(l.pushedItemsTemp[e])},l.restoreItems=function(){for(var e,t=0,i=l.pushedItems.length;t<i;t++)(e=l.pushedItems[t]).$item.x=e.item.x,e.$item.y=e.item.y,e.setSize(!0);l.pushedItems=void 0,l.pushedItemsPath=void 0},l.setPushedItems=function(){for(var e,t=0,i=l.pushedItems.length;t<i;t++)(e=l.pushedItems[t]).checkItemChanges(e.$item,e.item);l.pushedItems=void 0,l.pushedItemsPath=void 0},l.push=function(e,t){if(l.gridster.checkGridCollision(e.$item))return!1;for(var i,r=l.gridster.findItemsWithItem(e.$item),s=r.length-1,o=!0,n=[];-1<s;s--){if((i=r[s])===l.gridsterItem){o=!1;break}if(!i.canBeDragged()){o=!1;break}if(-1<l.pushedItemsTemp.indexOf(i)){o=!1;break}if(l.tryPattern[t][0].call(l,i,e))l.pushedItemsOrder.push(i),n.push(i);else if(l.tryPattern[t][1].call(l,i,e))l.pushedItemsOrder.push(i),n.push(i);else if(l.tryPattern[t][2].call(l,i,e))l.pushedItemsOrder.push(i),n.push(i);else{if(!l.tryPattern[t][3].call(l,i,e)){o=!1;break}l.pushedItemsOrder.push(i),n.push(i)}}if(!o&&-1<(s=l.pushedItemsOrder.lastIndexOf(n[0])))for(var d=l.pushedItemsOrder.length-1;s<=d;d--)i=l.pushedItemsOrder[d],l.pushedItemsOrder.pop(),l.removeFromTempPushed(i),l.removeFromPushedItem(i);return o},l.trySouth=function(e,t){return!!l.gridster.$options.pushDirections.south&&(l.addToTempPushed(e),e.$item.y=t.$item.y+t.$item.rows,l.push(e,l.fromNorth)?(e.setSize(!0),l.addToPushed(e),!0):(l.removeFromTempPushed(e),!1))},l.tryNorth=function(e,t){return!!l.gridster.$options.pushDirections.north&&(l.addToTempPushed(e),e.$item.y=t.$item.y-e.$item.rows,l.push(e,l.fromSouth)?(e.setSize(!0),l.addToPushed(e),!0):(l.removeFromTempPushed(e),!1))},l.tryEast=function(e,t){return!!l.gridster.$options.pushDirections.east&&(l.addToTempPushed(e),e.$item.x=t.$item.x+t.$item.cols,l.push(e,l.fromWest)?(e.setSize(!0),l.addToPushed(e),!0):(l.removeFromTempPushed(e),!1))},l.tryWest=function(e,t){return!!l.gridster.$options.pushDirections.west&&(l.addToTempPushed(e),e.$item.x=t.$item.x-e.$item.cols,l.push(e,l.fromEast)?(e.setSize(!0),l.addToPushed(e),!0):(l.removeFromTempPushed(e),!1))},l.tryPattern={fromEast:[l.tryWest,l.trySouth,l.tryNorth,l.tryEast],fromWest:[l.tryEast,l.trySouth,l.tryNorth,l.tryWest],fromNorth:[l.trySouth,l.tryEast,l.tryWest,l.tryNorth],fromSouth:[l.tryNorth,l.tryEast,l.tryWest,l.trySouth]},l.addToTempPushed=function(e){var t=l.pushedItemsTemp.indexOf(e);-1===t&&(t=l.pushedItemsTemp.push(e)-1,l.pushedItemsTempPath[t]=[]),l.pushedItemsTempPath[t].push({x:e.$item.x,y:e.$item.y})},l.removeFromTempPushed=function(e){var t=l.pushedItemsTemp.indexOf(e),i=l.pushedItemsTempPath[t].pop();i&&(e.$item.x=i.x,e.$item.y=i.y,e.setSize(!0),l.pushedItemsTempPath[t].length||(l.pushedItemsTemp.splice(t,1),l.pushedItemsTempPath.splice(t,1)))},l.checkInTempPushed=function(e){return-1<l.pushedItemsTemp.indexOf(e)},l.addToPushed=function(e){if(l.pushedItems.indexOf(e)<0)l.pushedItems.push(e),l.pushedItemsPath.push([{x:e.item.x,y:e.item.y},{x:e.$item.x,y:e.$item.y}]);else{var t=l.pushedItems.indexOf(e);l.pushedItemsPath[t].push({x:e.$item.x,y:e.$item.y})}},l.removeFromPushed=function(e){-1<e&&(l.pushedItems.splice(e,1),l.pushedItemsPath.splice(e,1))},l.checkPushBack=function(){for(var e=l.pushedItems.length-1,t=!1;-1<e;e--)l.checkPushedItem(l.pushedItems[e],e)&&(t=!0);t&&l.checkPushBack()},l.removeFromPushedItem=function(e){var t=l.pushedItems.indexOf(e);-1<t&&(l.pushedItemsPath[t].pop(),l.pushedItemsPath.length||(l.pushedItems.splice(t,1),l.pushedItemsPath.splice(t,1)))},l.checkPushedItem=function(e,t){for(var i,r,s,o=l.pushedItemsPath[t],n=o.length-2;-1<n;n--)i=o[n],r=e.$item.x,s=e.$item.y,e.$item.x=i.x,e.$item.y=i.y,l.gridster.findItemWithItem(e.$item)?(e.$item.x=r,e.$item.y=s):(e.setSize(!0),o.splice(n+1,o.length-1-n));return o.length<2&&(l.removeFromPushed(t),!0)}}})}(),function(){"use strict";function e(r){var s=this;s.$onInit=function(){s.gridster.previewStyle=s.previewStyle.bind(s)},s.$onDestroy=function(){delete s.gridster.previewStyle},s.previewStyle=function(){if(s.gridster.movingItem){var e=0,t=s.gridster.curRowHeight,i=s.gridster.curColWidth;s.gridster.$options.outerMargin&&(e=s.gridster.$options.margin),r.css("display","block"),r.css("height",s.gridster.movingItem.rows*t-e+"px"),r.css("width",s.gridster.movingItem.cols*i-e+"px"),r.css("top",s.gridster.movingItem.y*t+e+"px"),r.css("left",s.gridster.movingItem.x*i+e+"px"),r.css("marginBottom",e+"px")}else r.css("display","none")}}e.$inject=["$element"],angular.module("angular-gridster2").component("gridsterPreview",{controller:e,require:{gridster:"^^gridster"}})}(),function(){"use strict";function e(t,i,e,r,s){var o=this;o.$item={cols:void 0,rows:void 0,x:void 0,y:void 0,initCallback:void 0,dragEnabled:void 0,resizeEnabled:void 0,compactEnabled:void 0,maxItemRows:void 0,minItemRows:void 0,maxItemCols:void 0,minItemCols:void 0,maxItemArea:void 0,minItemArea:void 0},o.el=i,o.nativeEl=i[0],o.notPlaced=!1,o.itemTop=0,o.itemLeft=0,o.itemWidth=0,o.itemHeight=0,o.top=0,o.left=0,o.width=0,o.height=0,o.itemMargin=0,o.$onInit=function(){o.drag=new e(o,o.gridster),o.resize=new r(o,o.gridster),o.updateOptions(),o.gridster.addItem(o)},o.updateOptions=function(){o.$item=s.merge(o.$item,o.item,o.$item)},o.$onDestroy=function(){o.gridster.removeItem(o),delete o.$item.initCallback,o.drag.destroy(),delete o.drag,o.resize.destroy(),delete o.resize},o.setSize=function(e){o.gridster.mobile?(o.top=0,o.left=0,o.gridster.$options.keepFixedWidthInMobile?o.width=o.$item.cols*o.gridster.$options.fixedColWidth:o.width=o.gridster.curWidth-(o.gridster.$options.outerMargin?2*o.gridster.$options.margin:0),o.gridster.$options.keepFixedHeightInMobile?o.height=o.$item.rows*o.gridster.$options.fixedRowHeight:o.height=o.width/2):(o.top=o.$item.y*o.gridster.curRowHeight,o.left=o.$item.x*o.gridster.curColWidth,o.width=o.$item.cols*o.gridster.curColWidth-o.gridster.$options.margin,o.height=o.$item.rows*o.gridster.curRowHeight-o.gridster.$options.margin),(e||o.top!==o.itemTop||o.left!==o.itemLeft||o.width!==o.itemWidth||o.height!==o.itemHeight)&&(o.gridster.$options.outerMargin?o.itemMargin=o.gridster.$options.margin:o.itemMargin=0,i.css("display",o.notPlaced?"none":"block"),i.css("top",o.top+"px"),i.css("left",o.left+"px"),i.css("width",o.width+"px"),i.css("height",o.height+"px"),i.css("margin",o.itemMargin+"px"),o.width===o.itemWidth&&o.height===o.itemHeight||(t.$broadcast("gridster-item-resize",o.item),o.gridster.$options.itemResizeCallback&&o.gridster.$options.itemResizeCallback(o.item,o)),o.itemTop=o.top,o.itemLeft=o.left,o.itemWidth=o.width,o.itemHeight=o.height)},o.itemChanged=function(){t.$broadcast("gridster-item-change",o.item),o.gridster.$options.itemChangeCallback&&o.gridster.$options.itemChangeCallback(o.item,o)},o.checkItemChanges=function(e,t){e.rows===t.rows&&e.cols===t.cols&&e.x===t.x&&e.y===t.y||(o.gridster.checkCollision(o.$item)?(o.$item.x=t.x,o.$item.y=t.y,o.$item.cols=t.cols,o.$item.rows=t.rows):(o.item.cols=o.$item.cols,o.item.rows=o.$item.rows,o.item.x=o.$item.x,o.item.y=o.$item.y,o.gridster.calculateLayout(),o.itemChanged()))},o.canBeDragged=function(){return!o.gridster.mobile&&(void 0===o.$item.dragEnabled?o.gridster.$options.draggable.enabled:o.$item.dragEnabled)},o.canBeResized=function(){return!o.gridster.mobile&&(void 0===o.$item.resizeEnabled?o.gridster.$options.resizable.enabled:o.$item.resizeEnabled)}}e.$inject=["$scope","$element","GridsterDraggable","GridsterResizable","GridsterUtils"],angular.module("angular-gridster2").component("gridsterItem",{templateUrl:"gridster2/gridsterItem.html",controller:e,controllerAs:"GridsterItemCtrl",bindings:{item:"<"},require:{gridster:"^^gridster"},transclude:!0})}(),function(){"use strict";function e(e,t){var i=this;i.$onInit=function(){(i.gridster.gridLines=i).columns=[],i.rows=[],i.height=0,i.width=0,i.margin=0,i.columnsHeight=0,i.rowsWidth=0},i.$onDestroy=function(){delete i.gridster.gridLines},i.updateGrid=function(){if("always"!==i.gridster.$options.displayGrid||i.gridster.mobile){if("onDrag&Resize"===i.gridster.$options.displayGrid&&i.gridster.dragInProgress)e.css("display","block");else if("none"===i.gridster.$options.displayGrid||!i.gridster.dragInProgress||i.gridster.mobile)return void e.css("display","none")}else e.css("display","block");i.margin=i.gridster.$options.margin,i.height=i.gridster.curRowHeight-i.margin,i.width=i.gridster.curColWidth-i.margin,i.columns.length=Math.max(i.gridster.columns,Math.floor(i.gridster.curWidth/i.gridster.curColWidth))||0,i.rows.length=Math.max(i.gridster.rows,Math.floor(i.gridster.curHeight/i.gridster.curRowHeight))||0,i.columnsHeight=i.gridster.curRowHeight*i.rows.length,i.rowsWidth=i.gridster.curColWidth*i.columns.length,t.$applyAsync()}}e.$inject=["$element","$scope"],angular.module("angular-gridster2").component("gridsterGrid",{templateUrl:"gridster2/gridsterGrid.html",controller:e,require:{gridster:"^^gridster"}})}(),function(){"use strict";function e(d){return function(n){var i=this;i.destroy=function(){delete i.gridster},i.updateOptions=function(){n.$options.enableEmptyCellClick&&!i.emptyCellClick&&n.$options.emptyCellClickCallback?(i.emptyCellClick=!0,n.el.addEventListener("click",i.emptyCellClickCb),n.el.addEventListener("touchend",i.emptyCellClickCb)):!n.$options.enableEmptyCellClick&&i.emptyCellClick&&(i.emptyCellClick=!1,n.el.removeEventListener("click",i.emptyCellClickCb),n.el.removeEventListener("touchend",i.emptyCellClickCb)),n.$options.enableEmptyCellContextMenu&&!i.emptyCellContextMenu&&n.$options.emptyCellContextMenuCallback?(i.emptyCellContextMenu=!0,n.el.addEventListener("contextmenu",i.emptyCellContextMenuCb)):!n.$options.enableEmptyCellContextMenu&&i.emptyCellContextMenu&&(i.emptyCellContextMenu=!1,n.el.removeEventListener("contextmenu",i.emptyCellContextMenuCb)),n.$options.enableEmptyCellDrop&&!i.emptyCellDrop&&n.$options.emptyCellDropCallback?(i.emptyCellDrop=!0,n.el.addEventListener("drop",i.emptyCellDragDrop),n.el.addEventListener("dragover",i.emptyCellDragOver)):!n.$options.enableEmptyCellDrop&&i.emptyCellDrop&&(i.emptyCellDrop=!1,n.el.removeEventListener("drop",i.emptyCellDragDrop),n.el.removeEventListener("dragover",i.emptyCellDragOver)),n.$options.enableEmptyCellDrag&&!i.emptyCellDrag&&n.$options.emptyCellDragCallback?(i.emptyCellDrag=!0,n.el.addEventListener("mousedown",i.emptyCellMouseDown),n.el.addEventListener("touchstart",i.emptyCellMouseDown)):!n.$options.enableEmptyCellDrag&&i.emptyCellDrag&&(i.emptyCellDrag=!1,n.el.removeEventListener("mousedown",i.emptyCellMouseDown),n.el.removeEventListener("touchstart",i.emptyCellMouseDown))},i.emptyCellClickCb=function(e){if(!n.movingItem&&!d.checkContentClassForEvent(n,e)){var t=i.getValidItemFromEvent(e);t&&n.$options.emptyCellClickCallback(e,t)}},i.emptyCellContextMenuCb=function(e){if(!n.movingItem&&!d.checkContentClassForEvent(n,e)){e.preventDefault(),e.stopPropagation();var t=i.getValidItemFromEvent(e);t&&n.$options.emptyCellContextMenuCallback(e,t)}},i.emptyCellDragDrop=function(e){var t=i.getValidItemFromEvent(e);t&&n.$options.emptyCellDropCallback(e,t)},i.emptyCellDragOver=function(e){e.preventDefault(),e.stopPropagation(),i.getValidItemFromEvent(e)?e.dataTransfer.dropEffect="move":e.dataTransfer.dropEffect="none"},i.emptyCellMouseDown=function(e){if(!d.checkContentClassForEvent(n,e)){e.preventDefault(),e.stopPropagation();var t=i.getValidItemFromEvent(e);t&&(i.initialItem=t,n.movingItem=t,n.previewStyle(),window.addEventListener("mousemove",i.emptyCellMouseMove),window.addEventListener("touchmove",i.emptyCellMouseMove),window.addEventListener("mouseup",i.emptyCellMouseUp),window.addEventListener("touchend",i.emptyCellMouseUp))}},i.emptyCellMouseMove=function(e){e.preventDefault(),e.stopPropagation();var t=i.getValidItemFromEvent(e,i.initialItem);t&&(n.movingItem=t,n.previewStyle())},i.emptyCellMouseUp=function(e){window.removeEventListener("mousemove",i.emptyCellMouseMove),window.removeEventListener("touchmove",i.emptyCellMouseMove),window.removeEventListener("mouseup",i.emptyCellMouseUp),window.removeEventListener("touchend",i.emptyCellMouseUp);var t=i.getValidItemFromEvent(e,i.initialItem);t&&(n.movingItem=t),n.$options.emptyCellDragCallback(e,n.movingItem),setTimeout(function(){n.movingItem=null,n.previewStyle()})},i.getValidItemFromEvent=function(e,t){e.preventDefault(),e.stopPropagation(),d.checkTouchEvent(e);var i=n.el.getBoundingClientRect(),r=e.clientX+n.el.scrollLeft-i.left,s=e.clientY+n.el.scrollTop-i.top,o={x:n.pixelsToPositionX(r,Math.floor),y:n.pixelsToPositionY(s,Math.floor),cols:n.$options.defaultItemCols,rows:n.$options.defaultItemRows};if(t&&(o.cols=Math.min(Math.abs(t.x-o.x)+1,n.$options.emptyCellDragMaxCols),o.rows=Math.min(Math.abs(t.y-o.y)+1,n.$options.emptyCellDragMaxRows),t.x<o.x?o.x=t.x:t.x-o.x>n.$options.emptyCellDragMaxCols-1&&(o.x=n.movingItem.x),t.y<o.y?o.y=t.y:t.y-o.y>n.$options.emptyCellDragMaxRows-1&&(o.y=n.movingItem.y)),!n.checkCollision(o))return o}}}e.$inject=["GridsterUtils"],angular.module("angular-gridster2").service("GridsterEmptyCell",e)}(),function(){"use strict";function e(i,r,o,n){return function(e,t){var s=this;s.offsetLeft=0,s.offsetTop=0,s.margin=0,s.diffTop=0,s.diffLeft=0,s.top=0,s.left=0,s.height=0,s.width=0,s.positionX=0,s.positionY=0,s.positionXBackup=0,s.positionYBackup=0,s.enabled=!1,s.dragStartFunction=angular.noop,s.dragFunction=angular.noop,s.dragStopFunction=angular.noop,s.push=void 0,s.swap=void 0,s.gridsterItem=e,s.gridster=t,s.lastMouse={clientX:0,clientY:0},s.path=[],s.destroy=function(){delete s.gridsterItem,delete s.gridster,s.mousedown&&(s.gridsterItem.nativeEl.removeEventListener("mousedown",s.dragStartDelay),s.gridsterItem.nativeEl.removeEventListener("touchstart",s.dragStartDelay))},s.dragStart=function(e){switch(e.which){case 1:break;case 2:case 3:return}s.gridster.$options.draggable.start&&s.gridster.$options.draggable.start(s.gridsterItem.item,s.gridsterItem,e),e.stopPropagation(),e.preventDefault(),s.dragFunction=s.dragMove.bind(s),s.dragStopFunction=s.dragStop.bind(s),document.addEventListener("mousemove",s.dragFunction),document.addEventListener("mouseup",s.dragStopFunction),window.addEventListener("blur",s.dragStopFunction),s.gridster.el.addEventListener("touchmove",s.dragFunction),document.addEventListener("touchend",s.dragStopFunction),document.addEventListener("touchcancel",s.dragStopFunction),s.gridsterItem.el.addClass("gridster-item-moving"),s.margin=s.gridster.$options.margin,s.offsetLeft=s.gridster.el.scrollLeft-s.gridster.el.offsetLeft,s.offsetTop=s.gridster.el.scrollTop-s.gridster.el.offsetTop,s.left=s.gridsterItem.left,s.top=s.gridsterItem.top,s.width=s.gridsterItem.width,s.height=s.gridsterItem.height,s.diffLeft=e.clientX+s.offsetLeft-s.margin-s.left,s.diffTop=e.clientY+s.offsetTop-s.margin-s.top,s.gridster.movingItem=s.gridsterItem.$item,s.gridster.previewStyle(),s.push=new i(s.gridsterItem),s.swap=new r(s.gridsterItem),s.gridster.dragInProgress=!0,s.gridster.gridLines.updateGrid(),s.path.push({x:s.gridsterItem.item.x,y:s.gridsterItem.item.y})},s.dragMove=function(e){e.stopPropagation(),e.preventDefault(),n.checkTouchEvent(e),s.offsetLeft=s.gridster.el.scrollLeft-s.gridster.el.offsetLeft,s.offsetTop=s.gridster.el.scrollTop-s.gridster.el.offsetTop,o(s.gridsterItem,e,s.lastMouse,s.calculateItemPositionFromMousePosition.bind(s)),s.calculateItemPositionFromMousePosition(e),s.lastMouse.clientX=e.clientX,s.lastMouse.clientY=e.clientY,s.gridster.gridLines.updateGrid()},s.calculateItemPositionFromMousePosition=function(e){s.left=e.clientX+s.offsetLeft-s.margin-s.diffLeft,s.top=e.clientY+s.offsetTop-s.margin-s.diffTop,s.calculateItemPosition()},s.dragStop=function(e){if(e.stopPropagation(),e.preventDefault(),o.cancelScroll(),document.removeEventListener("mousemove",s.dragFunction),document.removeEventListener("mouseup",s.dragStopFunction),window.removeEventListener("blur",s.dragStopFunction),s.gridster.el.removeEventListener("touchmove",s.dragFunction),document.removeEventListener("touchend",s.dragStopFunction),document.removeEventListener("touchcancel",s.dragStopFunction),s.gridsterItem.el.removeClass("gridster-item-moving"),s.gridster.dragInProgress=!1,s.gridster.gridLines.updateGrid(),s.gridster.gridLines.updateGrid(!1),s.path=[],s.gridster.$options.draggable.stop){var t=s.gridster.$options.draggable.stop(s.gridsterItem.item,s.gridsterItem,e);t&&t.then?t.then(s.makeDrag.bind(s),s.cancelDrag.bind(s)):s.makeDrag()}else s.makeDrag();setTimeout(function(){s.gridster.movingItem=null,s.gridster.previewStyle()})},s.cancelDrag=function(){s.gridsterItem.$item.x=s.gridsterItem.item.x,s.gridsterItem.$item.y=s.gridsterItem.item.y,s.gridsterItem.setSize(!0),s.push.restoreItems(),s.swap.restoreSwapItem(),s.push.destroy(),delete s.push,s.swap.destroy(),delete s.swap},s.makeDrag=function(){s.gridsterItem.setSize(!0),s.gridsterItem.checkItemChanges(s.gridsterItem.$item,s.gridsterItem.item),s.push.setPushedItems(),s.swap.setSwapItem(),s.push.destroy(),delete s.push,s.swap.destroy(),delete s.swap},s.calculateItemPosition=function(){if(s.positionX=s.gridster.pixelsToPositionX(s.left,Math.round),s.positionY=s.gridster.pixelsToPositionY(s.top,Math.round),s.positionXBackup=s.gridsterItem.$item.x,s.positionYBackup=s.gridsterItem.$item.y,s.gridsterItem.$item.x=s.positionX,s.gridster.checkGridCollision(s.gridsterItem.$item)?s.gridsterItem.$item.x=s.positionXBackup:s.gridsterItem.el.css("left",s.left+"px"),s.gridsterItem.$item.y=s.positionY,s.gridster.checkGridCollision(s.gridsterItem.$item)?s.gridsterItem.$item.y=s.positionYBackup:s.gridsterItem.el.css("top",s.top+"px"),s.positionXBackup!==s.gridsterItem.$item.x||s.positionYBackup!==s.gridsterItem.$item.y){var e,t=s.path[s.path.length-1];t.x<s.gridsterItem.$item.x?e=s.push.fromWest:t.x>s.gridsterItem.$item.x?e=s.push.fromEast:t.y<s.gridsterItem.$item.y?e=s.push.fromNorth:t.y>s.gridsterItem.$item.y&&(e=s.push.fromSouth),s.push.pushItems(e,s.gridster.$options.disablePushOnDrag),s.swap.swapItems(),s.gridster.checkCollision(s.gridsterItem.$item)?(s.gridsterItem.$item.x=s.positionXBackup,s.gridsterItem.$item.y=s.positionYBackup):(s.path.push({x:s.gridsterItem.$item.x,y:s.gridsterItem.$item.y}),s.gridster.previewStyle()),s.push.checkPushBack()}},s.toggle=function(){var e=s.gridsterItem.canBeDragged();!s.enabled&&e?(s.enabled=!s.enabled,s.gridsterItem.nativeEl.addEventListener("mousedown",s.dragStartDelay),s.gridsterItem.nativeEl.addEventListener("touchstart",s.dragStartDelay)):s.enabled&&!e&&(s.enabled=!s.enabled,s.gridsterItem.nativeEl.removeEventListener("mousedown",s.dragStartDelay),s.gridsterItem.nativeEl.removeEventListener("touchstart",s.dragStartDelay))},s.dragStartDelay=function(t){if(n.checkTouchEvent(t),!t.target.classList.contains("gridster-item-resizable-handler")&&!n.checkContentClassForEvent(s.gridster,t))if(s.gridster.$options.draggable.delayStart){var e=setTimeout(function(){s.dragStart(t),r()},s.gridster.$options.draggable.delayStart);document.addEventListener("mouseup",r),window.addEventListener("blur",r),document.addEventListener("touchmove",i),document.addEventListener("touchend",r),document.addEventListener("touchcancel",r)}else s.dragStart(t);function i(e){n.checkTouchEvent(e),(9<Math.abs(e.clientX-t.clientX)||9<Math.abs(e.clientY-t.clientY))&&r()}function r(){clearTimeout(e),document.removeEventListener("mouseup",r),window.removeEventListener("blur",r),document.removeEventListener("touchmove",i),document.removeEventListener("touchend",r),document.removeEventListener("touchcancel",r)}}}}e.$inject=["GridsterPush","GridsterSwap","GridsterScroll","GridsterUtils"],angular.module("angular-gridster2").service("GridsterDraggable",e)}(),function(){"use strict";angular.module("angular-gridster2").constant("GridsterConfig",{gridType:"fit",fixedColWidth:250,fixedRowHeight:250,keepFixedHeightInMobile:!1,keepFixedWidthInMobile:!1,compactType:"none",mobileBreakpoint:640,minCols:1,maxCols:100,minRows:1,maxRows:100,defaultItemCols:1,defaultItemRows:1,maxItemCols:50,maxItemRows:50,minItemCols:1,minItemRows:1,minItemArea:1,maxItemArea:2500,margin:10,outerMargin:!0,scrollSensitivity:10,scrollSpeed:20,initCallback:void 0,destroyCallback:void 0,itemChangeCallback:void 0,itemResizeCallback:void 0,itemInitCallback:void 0,itemRemovedCallback:void 0,enableEmptyCellClick:!1,enableEmptyCellContextMenu:!1,enableEmptyCellDrop:!1,enableEmptyCellDrag:!1,emptyCellClickCallback:void 0,emptyCellContextMenuCallback:void 0,emptyCellDropCallback:void 0,emptyCellDragCallback:void 0,emptyCellDragMaxCols:50,emptyCellDragMaxRows:50,draggable:{delayStart:0,enabled:!1,ignoreContentClass:"gridster-item-content",ignoreContent:!1,dragHandleClass:"drag-handler",stop:void 0,start:void 0},resizable:{delayStart:0,enabled:!1,handles:{s:!0,e:!0,n:!0,w:!0,se:!0,ne:!0,sw:!0,nw:!0},stop:void 0,start:void 0},swap:!0,pushItems:!1,disablePushOnDrag:!1,disablePushOnResize:!1,pushDirections:{north:!0,east:!0,south:!0,west:!0},pushResizeItems:!1,displayGrid:"onDrag&Resize",disableWindowResize:!1,disableWarnings:!1})}(),function(){"use strict";angular.module("angular-gridster2").service("GridsterCompact",function(){return function(s){var o=this;o.destroy=function(){delete o.gridster},o.checkCompact=function(){"none"!==s.$options.compactType&&("compactUp"===s.$options.compactType?o.checkCompactUp():"compactLeft"===s.$options.compactType?o.checkCompactLeft():"compactUp&Left"===s.$options.compactType?(o.checkCompactUp(),o.checkCompactLeft()):"compactLeft&Up"===s.$options.compactType&&(o.checkCompactLeft(),o.checkCompactUp()))},o.checkCompactUp=function(){for(var e,t=!1,i=s.grid.length,r=0;r<i;r++)!1!==(e=s.grid[r]).$item.compactEnabled&&o.moveUpTillCollision(e)&&(t=!0,e.item.y=e.$item.y,e.itemChanged());return t&&o.checkCompactUp(),t},o.moveUpTillCollision=function(e){return e.$item.y-=1,s.checkCollision(e.$item)?(e.$item.y+=1,!1):(o.moveUpTillCollision(e),!0)},o.checkCompactLeft=function(){for(var e,t=!1,i=s.grid.length,r=0;r<i;r++)!1!==(e=s.grid[r]).$item.compactEnabled&&o.moveLeftTillCollision(e)&&(t=!0,e.item.x=e.$item.x,e.itemChanged());return t&&o.checkCompactLeft(),t},o.moveLeftTillCollision=function(e){return e.$item.x-=1,s.checkCollision(e.$item)?(e.$item.x+=1,!1):(o.moveLeftTillCollision(e),!0)}}})}(),function(){"use strict";function e(n,e,t,i,d,r,s){var g=this;g.calculateLayoutDebounce=angular.noop,g.movingItem=void 0,g.previewStyle=angular.noop,g.mobile=!1,g.columns=0,g.rows=0,g.windowResize=angular.noop,g.gridLines=void 0,g.dragInProgress=!1,g.el=n[0],g.$options=JSON.parse(JSON.stringify(e)),g.mobile=!1,g.curWidth=0,g.curHeight=0,g.grid=[],g.curColWidth=0,g.curRowHeight=0,g.$options.draggable.stop=void 0,g.$options.draggable.start=void 0,g.$options.resizable.stop=void 0,g.$options.resizable.start=void 0,g.$options.itemChangeCallback=void 0,g.$options.itemResizeCallback=void 0,g.$options.itemInitCallback=void 0,g.$options.itemRemovedCallback=void 0,g.$options.emptyCellClickCallback=void 0,g.$options.emptyCellContextMenuCallback=void 0,g.$options.emptyCellDropCallback=void 0,g.$options.emptyCellDragCallback=void 0,g.checkCollisionTwoItems=function(e,t){return e.x<t.x+t.cols&&e.x+e.cols>t.x&&e.y<t.y+t.rows&&e.y+e.rows>t.y},g.$onInit=function(){g.options.initCallback&&g.options.initCallback(g)},g.$onChanges=function(e){e.options&&(g.emptyCell=new r(g),g.compact=new s(g),g.setOptions(),g.options.api={optionsChanged:g.optionsChanged,resize:g.onResize,getNextPossiblePosition:g.getNextPossiblePosition},g.columns=g.$options.minCols,g.rows=g.$options.minRows,g.setGridSize(),g.calculateLayoutDebounce=t.debounce(g.calculateLayout,5),g.calculateLayoutDebounce())},g.resize=function(){var e,t;e="fit"!==g.$options.gridType||g.mobile?(t=g.el.clientWidth,g.el.clientHeight):(t=g.el.offsetWidth,g.el.offsetHeight),t===g.curWidth&&e===g.curHeight||!g.checkIfToResize()||g.onResize()},g.setOptions=function(){g.$options=t.merge(g.$options,g.options,g.$options),g.$options.disableWindowResize||g.onResizeFunction?g.$options.disableWindowResize&&g.onResizeFunction&&(g.onResizeFunction=!1,window.removeEventListener("resize",g.onResize)):(g.onResizeFunction=!0,window.addEventListener("resize",g.onResize)),g.emptyCell.updateOptions()},g.optionsChanged=function(){g.setOptions();for(var e=g.grid.length-1;0<=e;e--)g.grid[e].updateOptions();g.calculateLayout()},g.$onDestroy=function(){g.onResizeFunction&&(g.onResizeFunction=!1,window.removeEventListener("resize",g.onResize)),g.options.destroyCallback&&g.options.destroyCallback(g),g.options.api&&(g.options.api.resize=void 0,g.options.api.optionsChanged=void 0,g.options.api.getNextPossiblePosition=void 0,g.options.api=void 0),g.emptyCell.destroy(),delete g.emptyCell,g.compact.destroy(),delete g.compact},g.onResize=function(){g.setGridSize(),g.calculateLayoutDebounce()},g.checkIfToResize=function(){var e=g.el.clientWidth,t=g.el.offsetWidth,i=g.el.scrollWidth,r=g.el.clientHeight,s=g.el.offsetHeight,o=g.el.scrollHeight;return!(e<t&&s<o&&o-s<t-e)&&!(r<s&&t<i&&i-t<s-r)},g.setGridSize=function(){var e=g.el.clientWidth,t=g.el.clientHeight;t="fit"!==g.$options.gridType||g.mobile?(e=g.el.clientWidth,g.el.clientHeight):(e=g.el.offsetWidth,g.el.offsetHeight),g.curWidth=e,g.curHeight=t},g.setGridDimensions=function(){g.setGridSize(),!g.mobile&&g.$options.mobileBreakpoint>g.curWidth?(g.mobile=!g.mobile,n.addClass("mobile")):g.mobile&&g.$options.mobileBreakpoint<g.curWidth&&(g.mobile=!g.mobile,n.removeClass("mobile"));for(var e=g.$options.minRows,t=g.$options.minCols,i=g.grid.length-1;0<=i;i--)e=Math.max(e,g.grid[i].$item.y+g.grid[i].$item.rows),t=Math.max(t,g.grid[i].$item.x+g.grid[i].$item.cols);g.columns=t,g.rows=e},g.calculateLayout=function(){var e,t,i,r;g.compact&&g.compact.checkCompact(),g.setGridDimensions(),g.$options.outerMargin?(g.curColWidth=Math.floor((g.curWidth-g.$options.margin)/g.columns),g.curRowHeight=Math.floor((g.curHeight-g.$options.margin)/g.rows)):(g.curColWidth=Math.floor((g.curWidth+g.$options.margin)/g.columns),g.curRowHeight=Math.floor((g.curHeight+g.$options.margin)/g.rows)),"fit"===g.$options.gridType?(e="fit",t="scrollVertical",i="scrollHorizontal",r="fixed"):"scrollVertical"===g.$options.gridType?(g.curRowHeight=g.curColWidth,e="scrollVertical",t="fit",i="scrollHorizontal",r="fixed"):"scrollHorizontal"===g.$options.gridType?(g.curColWidth=g.curRowHeight,e="scrollHorizontal",t="fit",i="scrollVertical",r="fixed"):"fixed"===g.$options.gridType?(g.curColWidth=g.$options.fixedColWidth+g.$options.margin,g.curRowHeight=g.$options.fixedRowHeight+g.$options.margin,e="fixed",t="fit",i="scrollVertical",r="scrollHorizontal"):"verticalFixed"===g.$options.gridType?(g.curRowHeight=g.$options.fixedRowHeight+g.$options.margin,e="scrollVertical",t="fit",i="scrollHorizontal",r="fixed"):"horizontalFixed"===g.$options.gridType&&(g.curColWidth=g.$options.fixedColWidth+g.$options.margin,e="scrollHorizontal",t="fit",i="scrollVertical",r="fixed"),n.addClass(e),n.removeClass(t),n.removeClass(i),n.removeClass(r),g.gridLines&&g.gridLines.updateGrid();for(var s,o=g.grid.length-1;0<=o;o--)(s=g.grid[o]).setSize(!1),s.drag.toggle(),s.resize.toggle();d.$applyAsync(),setTimeout(g.resize,100)},g.addItem=function(e){void 0===e.$item.cols&&(e.$item.cols=g.$options.defaultItemCols,e.item.cols=e.$item.cols,e.itemChanged()),void 0===e.$item.rows&&(e.$item.rows=g.$options.defaultItemRows,e.item.rows=e.$item.rows,e.itemChanged()),void 0===e.$item.x||void 0===e.$item.y?g.autoPositionItem(e):g.checkCollision(e.$item)&&(g.$options.disableWarnings||i.warn("Can't be placed in the bounds of the dashboard, trying to auto position!/n"+JSON.stringify(e.item,["cols","rows","x","y"])),e.$item.x=void 0,e.$item.y=void 0,g.autoPositionItem(e)),g.grid.push(e),g.calculateLayoutDebounce(),e.$item.initCallback&&e.$item.initCallback(e.item,e),g.$options.itemInitCallback&&g.$options.itemInitCallback(e.item,e)},g.removeItem=function(e){g.grid.splice(g.grid.indexOf(e),1),g.calculateLayoutDebounce(),g.$options.itemRemovedCallback&&g.$options.itemRemovedCallback(e.item,e)},g.checkCollision=function(e){return g.checkGridCollision(e)||g.findItemWithItem(e)},g.checkGridCollision=function(e){var t=-1<e.y&&-1<e.x,i=e.cols+e.x<=g.$options.maxCols,r=e.rows+e.y<=g.$options.maxRows,s=void 0===e.maxItemCols?g.$options.maxItemCols:e.maxItemCols,o=void 0===e.minItemCols?g.$options.minItemCols:e.minItemCols,n=void 0===e.maxItemRows?g.$options.maxItemRows:e.maxItemRows,d=void 0===e.minItemRows?g.$options.minItemRows:e.minItemRows,l=e.cols<=s&&e.cols>=o,m=e.rows<=n&&e.rows>=d,a=void 0===e.minItemArea?g.$options.minItemArea:e.minItemArea,c=void 0===e.maxItemArea?g.$options.maxItemArea:e.maxItemArea,u=e.cols*e.rows;return!(t&&i&&r&&l&&m&&a<=u&&u<=c)},g.findItemWithItem=function(e){for(var t,i=g.grid.length-1;-1<i;i--)if((t=g.grid[i]).$item!==e&&g.checkCollisionTwoItems(t.$item,e))return t;return!1},g.findItemsWithItem=function(e){for(var t,i=[],r=g.grid.length-1;-1<r;r--)(t=g.grid[r]).$item!==e&&g.checkCollisionTwoItems(t.$item,e)&&i.push(t);return i},g.autoPositionItem=function(e){g.getNextPossiblePosition(e.$item)?(e.item.x=e.$item.x,e.item.y=e.$item.y,e.itemChanged()):(e.notPlaced=!0,g.$options.disableWarnings||i.warn("Can't be placed in the bounds of the dashboard!/n"+JSON.stringify(e.item,["cols","rows","x","y"])))},g.getNextPossiblePosition=function(e){void 0===e.cols&&(e.cols=g.$options.defaultItemCols),void 0===e.rows&&(e.rows=g.$options.defaultItemRows),g.setGridDimensions();for(var t,i=0;i<g.rows;i++)for(e.y=i,t=0;t<g.columns;t++)if(e.x=t,!g.checkCollision(e))return!0;var r=g.$options.maxRows>=g.rows+e.rows,s=g.$options.maxCols>=g.columns+e.cols;return!(g.rows<=g.columns&&r)&&s?(e.x=g.columns,!(e.y=0)):!!r&&(e.y=g.rows,!(e.x=0))},g.pixelsToPosition=function(e,t,i){return[g.pixelsToPositionX(e,i),g.pixelsToPositionY(t,i)]},g.pixelsToPositionX=function(e,t){return Math.max(t(e/g.curColWidth),0)},g.pixelsToPositionY=function(e,t){return Math.max(t(e/g.curRowHeight),0)},g.positionXToPixels=function(e){return e*g.curColWidth},g.positionYToPixels=function(e){return e*g.curRowHeight}}e.$inject=["$element","GridsterConfig","GridsterUtils","$log","$scope","GridsterEmptyCell","GridsterCompact"],angular.module("angular-gridster2").component("gridster",{templateUrl:"gridster2/gridster.html",controller:e,controllerAs:"GridsterCtrl",bindings:{options:"<"},transclude:!0})}(),angular.module("angular-gridster2").run(["$templateCache",function(e){e.put("gridster2/gridster.html","<gridster-grid class=gridster-grid></gridster-grid><ng-transclude></ng-transclude><gridster-preview class=gridster-preview></gridster-preview>"),e.put("gridster2/gridsterGrid.html","<div class=columns ng-style=\"{height: $ctrl.columnsHeight + 'px'}\"><div class=column ng-repeat=\"column in $ctrl.columns track by $index\" ng-style=\"{'min-width': $ctrl.width + 'px', 'margin-left': ($first && !$ctrl.gridster.$options.outerMargin ? 0 : $ctrl.margin) + 'px'}\"></div></div><div class=rows ng-style=\"{width: $ctrl.rowsWidth + 'px'}\"><div class=row ng-repeat=\"row in $ctrl.rows track by $index\" ng-style=\"{height: $ctrl.height + 'px', 'margin-top': ($first && !$ctrl.gridster.$options.outerMargin ? 0 :$ctrl.margin) + 'px'}\"></div></div>"),e.put("gridster2/gridsterItem.html",'<ng-transclude></ng-transclude><div ng-hide="!GridsterItemCtrl.gridster.$options.resizable.handles.s || !GridsterItemCtrl.resize.resizeEnabled" class="gridster-item-resizable-handler handle-s ng-hide"></div><div ng-hide="!GridsterItemCtrl.gridster.$options.resizable.handles.e || !GridsterItemCtrl.resize.resizeEnabled" class="gridster-item-resizable-handler handle-e ng-hide"></div><div ng-hide="!GridsterItemCtrl.gridster.$options.resizable.handles.n || !GridsterItemCtrl.resize.resizeEnabled" class="gridster-item-resizable-handler handle-n ng-hide"></div><div ng-hide="!GridsterItemCtrl.gridster.$options.resizable.handles.w || !GridsterItemCtrl.resize.resizeEnabled" class="gridster-item-resizable-handler handle-w ng-hide"></div><div ng-hide="!GridsterItemCtrl.gridster.$options.resizable.handles.se || !GridsterItemCtrl.resize.resizeEnabled" class="gridster-item-resizable-handler handle-se ng-hide"></div><div ng-hide="!GridsterItemCtrl.gridster.$options.resizable.handles.ne || !GridsterItemCtrl.resize.resizeEnabled" class="gridster-item-resizable-handler handle-ne ng-hide"></div><div ng-hide="!GridsterItemCtrl.gridster.$options.resizable.handles.sw || !GridsterItemCtrl.resize.resizeEnabled" class="gridster-item-resizable-handler handle-sw ng-hide"></div><div ng-hide="!GridsterItemCtrl.gridster.$options.resizable.handles.nw || !GridsterItemCtrl.resize.resizeEnabled" class="gridster-item-resizable-handler handle-nw ng-hide"></div>')}]);