!function(){"use strict";angular.module("ui.validate",[]).directive("uiValidate",["$$uiValidateApplyWatch","$$uiValidateApplyWatchCollection",function(l,c){return{restrict:"A",require:"ngModel",link:function(e,a,i,u){var t,n=e.$eval(i.uiValidate);n&&(angular.isString(n)&&(n={validator:n}),angular.forEach(n,function(n,l){t=function(a,i){var t=e.$eval(n,{$value:a,$modelValue:a,$viewValue:i,$name:u.$name});return angular.isObject(t)&&angular.isFunction(t.then)?(t.then(function(){u.$setValidity(l,!0)},function(){u.$setValidity(l,!1)}),!0):!!t},u.$validators[l]=t}),i.uiValidateWatch&&l(e,u,e.$eval(i.uiValidateWatch),i.uiValidateWatchObjectEquality),i.uiValidateWatchCollection&&c(e,u,e.$eval(i.uiValidateWatchCollection)))}}}]).directive("uiValidateAsync",["$$uiValidateApplyWatch","$$uiValidateApplyWatchCollection","$timeout","$q",function(u,c,a,r){return{restrict:"A",require:"ngModel",link:function(l,a,i,e){var t,n=l.$eval(i.uiValidateAsync);n&&(angular.isString(n)&&(n={validatorAsync:n}),angular.forEach(n,function(n,a){t=function(a,i){var t=l.$eval(n,{$value:a,$modelValue:a,$viewValue:i,$name:e.$name});return angular.isObject(t)&&angular.isFunction(t.then)?t:r(function(a,i){setTimeout(function(){t?a():i()},0)})},e.$asyncValidators[a]=t}),i.uiValidateWatch&&u(l,e,l.$eval(i.uiValidateWatch),i.uiValidateWatchObjectEquality),i.uiValidateWatchCollection&&c(l,e,l.$eval(i.uiValidateWatchCollection)))}}}]).service("$$uiValidateApplyWatch",function(){return function(i,a,t,n){var l=function(){a.$validate()};angular.isString(t)?i.$watch(t,l,n):angular.isArray(t)?angular.forEach(t,function(a){i.$watch(a,l,n)}):angular.isObject(t)&&angular.forEach(t,function(a){angular.isString(a)&&i.$watch(a,l,n),angular.isArray(a)&&angular.forEach(a,function(a){i.$watch(a,l,n)})})}}).service("$$uiValidateApplyWatchCollection",function(){return function(i,a,t){var n=function(){a.$validate()};angular.isString(t)?i.$watchCollection(t,n):angular.isArray(t)?angular.forEach(t,function(a){i.$watchCollection(a,n)}):angular.isObject(t)&&angular.forEach(t,function(a){angular.isString(a)&&i.$watchCollection(a,n),angular.isArray(a)&&angular.forEach(a,function(a){i.$watchCollection(a,n)})})}})}();